{"version":3,"sources":["src/js/utilities.js","src/js/alert.js","src/js/helpers/inputMask.js","src/js/select.js","src/js/button.js","src/js/overflow.js","src/js/carousel.js","src/js/collapse.js","src/js/contact-drawer.js","src/js/dropdown.js","src/js/modal.js","src/js/filter.js","src/js/form.js","src/js/linkpicker.js","src/js/masthead.js","src/js/helpers/resizeElement.js","src/js/nav.js","src/js/pagination.js","src/js/popover.js","src/js/product-stack.js","src/js/progress.js","src/js/slider.js","src/js/tab.js","src/js/helpers/columns.js","src/js/helpers/rows.js","src/js/table.js","src/js/tooltip.js","src/js/index.js"],"names":["global","factory","exports","module","define","amd","self","UIC","this","DOC","document","HTML","documentElement","globalObject","window","prefix","ddsSpace","supportTransitions","transitionEndEvent","transitionDuration","tipPositions","isIPhone","test","navigator","platform","isIOS","userAgent","maxTouchPoints","MSStream","isIE","isSafari","isEdge","isFirefox","direction","chrome","webstore","runtime","UP","RIGHT","DOWN","LEFT","NONE","getFullScreenOverlay","overlay","getElementById","console","warn","getElementsByClassName","element","classNAME","slice","call","getSibling","selector","firstChar","charAt","selectorSubstring","substr","nextElementSibling","classList","contains","id","tagName","toLowerCase","getFocusableElements","Array","prototype","querySelectorAll","filter","filterCollapsedParents","parentElement","getAttribute","getNextFocusableElement","getComputedStyle","getPropertyValue","indexOf","tabIndex","focusable","length","ariaAnnounce","theMessage","msgEl","randomNum","Math","floor","random","body","appendChild","createElement","style","aria-live","setTimeout","textContent","removeChild","getClosest","parentsOnly","parentNode","querySelector","previousElementSibling","one","event","handler","addEventListener","handlerWrapper","e","removeEventListener","getTransitionDurationFromElement","duration","parseFloat","isNaN","emulateTransitionEnd","called","uicoreCustomEvent","componentName","eventName","related","details","evt","createEvent","initCustomEvent","CustomEvent","bubbles","detail","relatedTarget","dispatchEvent","setFocus","focus","setActive","styleTip","link","position","parent","useArrow","maxWidth","windowWidth","windowHeight","rect","scroll","y","pageYOffset","x","pageXOffset","linkDimensions","offsetWidth","offsetHeight","topPosition","leftPosition","arrowTop","arrowLeft","arrowWidth","arrowHeight","posChanged","elMargin","elementDimensions","w","h","isPopover","arrow","halfTopExceed","halfLeftExceed","halfRightExceed","halfBottomExceed","topExceed","leftExceed","bottomExceed","rightExceed","className","replace","Number","margin","match","rectLeft","rectTop","handleFirstTab","keyCode","add","handleMouseDownOnce","remove","isObject","val","Object","toString","isArray","isJson","str","t","JSON","parse","each","arr","fn","scope","n","hasOwnProperty","sortItems","a","b","c","d","f","value","g","i","innerHTML","attr","setAttribute","classAdd","elem","classes","clazz","newClasses","classRemove","debounce","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","apply","altFind","callback","ret","validateNum","num","defaultVal","parseInt","jsonOptionsInit","options","jsonParams","dataset","renderSvg","svg","attributes","svgWrapper","createElementNS","key","elm","svgElem","setAttributeNS","name","show","flush","el","ie","NodeList","hasChildNodes","firstChild","getText","text","div","findText","childNodes","cNode","nodeType","data","InputMask","HTMLElement","wrap","mNum","spacing","hasValue","charSet","charset","cursorMin","handleValueChange","cursor","target","mask","italic","selectionEnd","handleCurrentValue","setValueOfMask","max","setSelectionRange","j","isInt","isLetter","strippedValue","isCharsetPresent","placeholder","l","newValue","matchesNumber","matchesLetter","undefined","validateProgress","validExample","pattern","RegExp","testValue","toUpperCase","Error","class","aria_hidden","emphasis","tClass","pTxt","createTextNode","errorDiv","removeAttribute","insertBefore","createShell","s","char","initKeyboardEvent","KeyboardEvent","cancelable","shiftKey","Overflow","type","top","lazyload","responsive","overflowElement","overflowContainer","overflowChildren","overflowChildRight","overflowChildLeft","leftCtrl","rightCtrl","ctrlWidth","containerLeft","containerRight","centered","atLeftEnd","atRightEnd","centeredOffset","containerHeight","containerWidth","handleResize","getChildrenWidth","setLeftAndRightIndex","addHeightStyle","abs","offsetLeft","width","hasAttribute","currentOffset","pageRight","left","handleClickEvent","isRight","controlClick","rightChild","children","rightElementEdge","leftChild","tabLeft","contSpace","remainder","child","getMargin","push","currentStyle","convertRemToPixels","marginLeft","marginRight","els","height","overflowChildLeftSet","offSet","useCentered","toggleCentered","setContainerLeftRight","idx","childLeft","setMinimumWidth","minWidth","right","totalItems","hasRightControl","hasLeftControl","rem","computed","split","fontSize","ceil","setCtrlWidth","frameListener","requestAnimationFrame","init","controls","control","leftSvg","aria-hidden","rightSvg","createArrowHtml","lazyLoad","getCurrentDetails","clickRight","clickLeft","clickEnd","clickHome","overflow","Collapse","href","activeCollapse","activeElement","showAllBtn","hideAllBtn","accordion","collapse","isClickable","closeAction","collapseElement","toggle","isAnimating","scrollHeight","preventDefault","hide","showHideAll","Dropdown","persist","menuItems","itemsChecked","currentText","filters","isMultiSelect","menu","preventEmptyAnchor","anchor","toggleDismiss","open","dismissHandler","preventScroll","windowClickHandler","eventTarget","hasData","clickHandler","checked","filterInput","index","splice","recountChecked","which","keyHandler","activeItem","isMenuOpen","isSameElement","isInsideMenu","isMenuItem","firstElementChild","click","displayTxt","checkedCounter","html","formatDisplayCount","currentTarget","dropdownEls","dropdownEl","menuItem","Modal","static","backdrop","focusableEls","header","origRightPadding","scrollbarWidth","modalElement","setFocusableElements","firstFocusableEl","lastFocusableEl","handleBackwardTab","focusVisibilityHandler","handleForwardTab","keydownHandlerToggle","triggerShow","loading","triggerHide","display","isInDropdown","isInSplitBtn","keyboard","minDistance","clientHeight","activeElementIdx","prevFocusableEl","nextFocusableEl","scrollToElement","getBoundingClientRect","scrollTop","visibility","paddingRight","innerWidth","clientWidth","dissmissEl","potentialHeader","FilterKeyword","addButton","filterCntr","handleKeyEvent","clickOutHandler","trim","ResizeElement","cancel","raf","attachEvent","stylesCreated","requestFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","resetTriggers","triggers","__resizeTriggers__","expand","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollListener","__resizeRAF__","__resizeLast__","checkTriggers","__resizeListeners__","forEach","animation","keyframeprefix","animationstartevent","domPrefixes","startEvents","animationName","animationKeyframes","animationStyle","addResizeListener","css","head","getElementsByTagName","styleSheet","cssText","createStyles","removeResizeListener","detachEvent","NavSkip","tabindex","borderStyle","dataInset","focusOutHandler","toggleZindex","zIndex","opacity","button","focusElement","blurHandler","border","Pagination","page","items","pageText","itemsPerPageText","perPageSelect","map","perPage","hidePages","external","buttonLabelLeft","buttonLabelRight","disablePaginationInput","showTotal","pagination","currentPage","previousPerPage","newPage","totalPages","newTotalPages","lastPage","onFirstPage","onLastPage","links","template","prevText","nextText","origPerPage","handlePaginationEvent","buttons","pages","handleKeydownEvent","queryStr","handleFocusoutEvent","handleChangeEvent","renderPage","update","origCurrentPage","firstItemOnPage","renderPageInput","pageInputWrapper","pageInputTextBefore","pageInputField","aria-label","disabled","pageInputTextAfter","p","bEl","data-page","span","totalItemsWrapper","origTotalPages","frag","createDocumentFragment","prev","next","cloneNode","hasInput","renderPager","select","option","Option","label","renderSelect","newPerPage","addItems","removeItems","remItems","setItems","newItems","spanItems","outerHTML","paginator","role","render","Columns","dt","swap","columns","cols","headings","order","cell","temp","column","originalCellIndex","sortable","hiddenColumns","row","dataIndex","expandable","searchIndex","cells","activeHeadings","lastTh","activeRows","rebuild","visible","th","td","that","insert","heading","rows","nodeName","format","renderHeader","sort","hasHeadings","sorting","btm","alpha","numeric","tr","content","Date","updateSortDirection","concat","selectedRows","indexes","v","searchData","cellIndex","Rows","build","tdx","hasRows","Alert","closeButton","dismissMessage","BarSelect","selects","input","mouseOverHandler","focusHandler","isInViewport","scrollIntoView","bounding","bottom","innerHeight","Button","pxToMove","btnWidth","onEl","offEl","circleEl","btnToggle","toggled","labels","otherLabel","otherInput","toggleOff","transform","toggleOn","widthOff","widthOn","ButtonFilter","inactiveFilterItem","activeFilterItem","lastActiveItem","focusInEventHandler","filterItem","parentFieldset","filterItems","Carousel","interval","pause","mosaic","visibilityState","smallMediaSize","matchMedia","mouseHover","stopAutoRotate","timer","isSliding","slides","total","slideDirection","leftArrow","rightArrow","svgIndicator","svgIndicators","btnIndicator","btnIndicators","indicator","indicators","pauseHandler","clearTimer","resumeHandler","cycle","indicatorHandler","slideTo","controlsHandler","srcElement","setActivePage","pageIndex","clearInterval","setInterval","viewportHeight","getActiveIndex","slide-to","matches","imgTag","backgroundImage","src","ieMosaicPolyfill","addListener","swipe","start","end","params","min","getTouch","screenX","screenY","touches","downListener","touch","moveListener","upListener","swipeInit","childIndicator","ContactDrawer","openTime","closedTime","transitionTime","tab","cancelAutomation","toggleAction","openAction","hidden","timerAction","toggleOptionsStr","contactDrawer","toggleOptions","OpenTimeInSeconds","CloseTimeInSeconds","TransitionTimeInMilliseconds","setDrawerToggleOptions","transition","DatePicker","datesFilter","pastDates","availableWeekDays","day","notBeforeDate","notAfterDate","button_prev","button_next","currentSelected","calendarWrapper","calendarBtn","dateInput","calendar","pickerBtn","form","monthEl","smallMedia","tempSelected","todaysDate","monthLabel","datePtr","monthsTexts","freeze","TAB","ENTER","ESC","SPACE","PAGEUP","PAGEDOWN","END","HOME","toggleCalendar","createOverlay","repositionIfNeeded","dateText","validity","valid","checkDateValidity","getFullYear","setFullYear","getMonth","setMonth","createMonth","newDateElem","nextBtn","getTime","resetToDefaultDate","removeActiveClass","removeOverlay","dist","getWeekDay","createDay","date","isAvailable","newDayElem","dateElem","getDate","dateKeydownHandler","available_week_day","getDay","stringify","removeTempClass","defaultDate","getNearestAvailableDay","clearCalendar","currentMonth","monthCheckBefore","setDate","daysPrev","prevDate","monthCheckAfter","daysAfter","futureDate","datas","calendarDate","setNewDate","monthPrev","monthNext","initEvent","setNewTempDate","currentDate","getNextAvailableDay","oldSelected","nextDate","nearestRight","nearestLeft","daysRight","daysLeft","od1","od2","prevSelected","buttonKeydownHandler","inputHandler","errorMsg","setCustomValidity","wrapper","bottomMenu","createCalendar","prevMonthDate","nextMonthDate","destroy","reset","setHours","checkValidity","stopPropagation","defaultDay","defaultMonth","blur","FilmstripCarousel","itemsView","handleOverflowChange","updateItemsView","clickEventHandler","rightNumber","leftNumber","success","msg","FilterCollection","filterResults","filterOffCanvasResults","clearAllItem","clearAllOffCanvas","resultsLabelDesktop","filterOffCanvas","keywordFilter","visibileIdx","mediaIncrementforDropdowns","showMoreDiv","mobileModal","collectionInputsContainer","dropdowns","collectionInputs","targetCollection","filterCollection","smallWindow","horizontal","filtersTemp","dropdownObjects","accordionObjects","isOffCanvasState","isApplyingState","mediumMediaSize","handleAddEvent","createOffCanvasFilterItem","createDesktopFilterItem","checkbox","innerText","behavior","handleClearAllEvent","toggleClearAllButtons","clearFilter","clearMultiSelects","updateFiltersCount","filtersAsStrings","handleDesktopCheckboxClick","deselected","handleFilterItemClickEvent","removedFilter","handleOffCanvasCheckboxClick","checkboxId","desktopCheckbox","checkboxFilter","currentFilter","result","numOfFilters","updateOffCanvasAccordionCount","handleOffCanvasClearAllEvent","handleOffCanvasFilterItemClickEvent","offCanvasOrigin","handleShowMore","toggleDropdown","arrayOfObjectsContains","obj","ul","targetValue","results","deselectTarget","origin","updateVerticalDesktopAccordionCount","offCanvasFilterObj","filterDesktop","dropdown","createShowMoreButton","showMore","filterAlreadyExists","filterOffCanvasItem","isDigit","createFilter","filterValue","offCanvasOriginId","addedFilter","useX","filterText","filterId","filterLabel","filterIcon","isOffCanvasFilter","whichFilters","whichParent","htmlFilter","accordionParent","accordionBtn","filteringMobileBtn","stringArray","onState","OffCanvas","updateResultsLabel","resultCount","error","modalBtn","filterTemp","newFilter","filterToRemove","typeofInput","multiSelect","numOfDropdowns","Form","validate","togglePassword","passwordState","checkboxValidator","LinkPicker","interest","touse","interestData","touseData","find","onChangeHandler","selectedIndex","removeAllOptions","appendDataToSelect","sel","removeGrp","groups","group","opts","addOptions","o","len","prop","Masthead","activeContainerId","offCanvasMenuBtn","fullScreenOverlay","signInText","mediaSize","handleMenuItemEvent","updateMenuHeights","handleMenuCntrEvent","currentMenu","handleMenuCtnrBlurEvent","closeMenu","closeOverLay","handleMenuHoverInEvent","openOverLay","handleMenuItemKeyEvent","nextItem","item","isTop","previousItem","openMenu","handleIconClickEvent","origContainerId","container","activeContainer","activeButton","closeContainer","openContainer","handleWindowClickEvent","handleFocusOutEvent","handleKeyDownEvent","previousMenu","previousLink","nextMenu","prePreviousMenu","heights","cBottom","cHeight","nBottom","nHeight","toggleFullScreen","logIn","displayname","signInCtnr","signInBadge","logOut","cartCount","count","cartBadge","topMenuItem","menuCtnr","NavAnchored","tabs","backButton","sticky","targetItems","targetNav","exitFocus","activeTab","isSticky","tabbing","modalSize","showModal","activateTab","deactivateTab","handleScrollEvent","last_known_scroll_position","stickNav","updateItems","itemTop","spacer","targetBottom","setElementWidth","removeElementWidth","hideModal","handleModalKeydown","createModal","isIconElement","tabContent","toggleElementWidth","determineSection","scrollOffset","handleEnterEvent","currentSection","toggleTab","focusEl","iter","section","oldItem","newItem","activateItems","panel","field","NavAnchoredVertical","opt","keys","activeCSSClassName","scrollViewType","shouldShowModal","isClickOnIconElement","lastKnownScrollPosition","navOnTopScreen","elemClassList","navItem","lastNavItem","positionOflastNavItemBottom","negativeTop","isNavAfterLastContentBottom","toogleContent","NavLeft","main","suffix","arrows","selected","altmenu","masthead","desktopLeftNav","siteBody","offCanvas","footer","buttonToggle","footerHeight","mastheadHeight","visibleFooter","focusableElms","parentAccordions","defaultMain","adjustHeightForFooter","calcHeight","maxHeight","adjustHeightForMasthead","isFooterVisible","alignChevrons","accordionButtons","accordionButton","after","handleAdjustmentEvent","handleBackClick","handleOffCanvasKeyDown","handleOffCanvasItemEsc","pageReadyCount","fElement","leftMenu","aItem","oneLi","thisLi","headerHorizontalMenu","pageReady","mastheadMend","storedId","createOffCanvasMenu","li","lnAccordion","lnCardHeader","lnCollapse","lnAnchor","Promise","all","from","images","img","complete","resolve","onload","onerror","then","tag","ps","parentAccordion","reverse","stepAccord","aButton","aChevron","aCollapse","thisChevron","list","selectedLink","waitForLeftNav","Popover","delay","title","data_title","data_content","placement","data_placement","inOffCanvas","inFixedTop","inFixedBottom","popoverArrow","popoverCloseBtn","positionCalc","popover","popoverModal","triggerHandler","updatePopover","showTrigger","hideTrigger","popoverParent","positionCalculation","popoverTitle","popoverParagraph","popoverDialog","popoverTitleDiv","popoverContent","aria_label","data_dismiss","ProductStack","childrenWidth","productStacks","rightCtrls","leftCtrls","productStackID","increment","updateSectionHeights","sections","sectionName","sectionMatches","sectionMatch","styleTag","view","viewDiv","productStack","Progress","showText","showtext","timeToComplete","round","SkipNav","Slider","optionsInput","slider","animate","animationDuration","ort","orientation","dir","singleStep","step","percision","behaviour","limit","padding","tooltips","showRange","ariaFormat","spectrum","connects","handles","handleNumbers","sliderBase","actions","minLabel","maxLabel","minValue","maxValue","optEvents","events","supportsPassive","locations","values","activeHandlesCount","minContainers","maxContainers","dirOffset","msPrefix","msTransform","transformRule","defaultFormatter","to","toFixed","endEventHandler","get","asArray","containers","focusEventHandler","blurEventHandler","getNextStepsForHandle","handleNumber","location","nearbySteps","getNearbySteps","thisStep","decrement","snap","stepBefore","startValue","stepAfter","highestStep","stepDecimals","countStepDecimals","bindEvent","namespacedEvent","fireEvent","addNodeTo","addTarget","documentLeave","eventEnd","eventMove","movement","calcPoint","startCalcPoint","proposal","baseSize","moveHandles","handle","listeners","setZindex","eventStart","some","isHandleDisabled","moveEvent","move","pageOffset","buttonsProperty","endEvent","doNotReject","outEvent","eventTap","calcPointToPercentage","getClosestHandle","addClassFor","setHandle","addTooltip","isSliderDisabled","addOrigin","horizontalKeys","verticalKeys","largeStepKeys","edgeKeys","isLargeDown","isLargeUp","isDown","isUp","isMax","Spectrum","getDefaultStep","xVal","toStepping","eventKeydown","addConnect","base","countDecimals","numStr","pieces","String","upward","proposals","checkHandlePosition","state","transformDirection","lookBackward","lookForward","fromStepping","rule","inRuleOrder","updateConnect","updateHandlePosition","connectWidth","translateRule","scaleRule","tap","targetEvent","eventType","reference","getValue","unconstrained","getStep","resolveToValue","subRangeRatio","pa","pb","fromPercentage","range","toPercentage","xPct","xSteps","getJ","closest","handleEntryPoint","percentage","isNumeric","xHighestCompleteStep","handleStepPoint","totalSteps","xNumSteps","isFinite","isPercentage","alt","method","fixEvent","hover","points","methods","passive","mouse","pointer","isTouchOnTarget","checkTouch","targetTouches","pageX","pageY","targetTouch","changedTouches","getPageOffset","clientX","clientY","doc","docElem","ownerDocument","clientTop","clientLeft","pos","removeTooltips","namespace","substring","bind","tEvent","tNamespace","tooltip","removeElement","supportPageOffset","isCSS1Compat","compatMode","entry","ordered","va","vb","size","convert","RangeError","drag","fixed","parsed","validateMargin","formatter","inputs","testJs","validateOptions","addContent","addContainer","pointerEnabled","msPointerEnabled","addSlider","optConnects","connectBase","addElements","connect","handleBefore","handleAfter","eventHolders","eventHolder","fireSetEvent","isInit","valueSet","unencoded","formattedValue","setTooltips","positions","now","Spinbox","spinmin","spindefault","spinmax","spinstep","plusCtrl","minusCtrl","handleKeypressEvent","charCode","newInput","handleCtrlClickEvent","handleDisabling","Tab","tablist","withinModal","panels","thresholdMediaSize","tabContainer","accordionWrapper","nested","37","38","39","40","handleOverflowEvent","determineOrientation","proceed","switchTabOnArrowPress","pressed","targetTab","focusLastTab","focusFirstTab","needsFocus","deactivateTabs","getTablistPanels","determineDeletable","deleteTab","checkTabFocus","resizeHandler","handleResizeSmall","sisterCollapseStr","activateCollapse","showBlock","prevActivated","sisterTabStr","tabToActivate","tabContentContainer","modalBody","removeListener","getParentTablist","delayValue","determineDelay","siblingTabs","getSiblingTabs","card","cardHeader","h5","data_toggle","data_target","data_parent","aria_controls","aria_expanded","chevron","accordionSpan","cardBodyWrapper","aria_labelledby","cardBody","Table","validateRow","hasErrors","rowCount","rowLength","localFunctions","subElements","layoutOptions","tableData","expandIcon","condensed","fixedColumns","rearrangeableColumns","fixedHeight","defaultBatchActions","exportCsv","exportJson","deleteRow","delete","noEntries","import","print","batchActions","chooseActions","chooseAction","showData","search","settings","exportDetails","allowedExtensions","action","allowedImportExtensions","ext","actionsSelectFilters","additionalActions","additionalAction","js","layout","row1","row2","join","table","noRows","columnBox","paginationElement","columnRenderers","selectedColumns","dragSrcEl","sortedColumnIdx","batchId","searchId","initialY","begOffsetTop","currentY","searching","metHeight","columnsFixed","moveableCols","colMoved","handleTouchEvent","pointerType","finOffsetTop","yOffset","dataTransfer","offsetTop","before","handlePointerLeave","col","startedBelow","startedAbove","endedBelow","endedAbove","handleTouchEnd","orderChanged","applyButton","dropElem","dropHTML","insertAdjacentHTML","previousSibling","nextSibling","setupDragEvents","handleDragEvent","overEl","leaveEl","dropTarget","handleImportActionEvent","reader","FileReader","output","files","inputOptions","readAsText","handleExportActionEvent","exportFileOptions","skipColumn","export","handleDeleteActionEvent","handleSelectAllChange","handleTableHeaderEvent","deleteAll","handleAccordionEvent","htmlRow","detailsRow","use","rowId","extend","props","baseCellIdx","baseIdx","setRenderColumns","renderers","renderer","renderDetails","stripeClass","detailsCell","colspan","accordionBody","renderExpand","showButton","aria-expanded","inputCheckbox","renderCustomRow","clean","renderActions","renderSearch","renderSettings","renderPlaceholder","topCtnr","createActionButton","dataToggle","dataTarget","onclick","flexGrow","justifyContent","cmplxAction","cmplxActionLabel","for","cmplxActionDropdown","data-toggle","data-target","aria-controls","svgClass","unordered","actionLabel","actionLI","inputGroup","searchCtnr","searchIcon","searchInput","searchLabel","optGear","XMLSerializer","serializeToString","selectHeader","selectCellIdx","indeterminate","stripeColor","clear","fixHeight","sortLabel","fixColumns","getHeaderCellIndex","cellIdx","bindEvents","actionSelect","actionButton","createSpecialCharModal","origInput","settingsCtnr","renderSettingsDropDown","unOderedList","liCheckbox","handleButtonEvent","fileImport","check","dataInput","pop","newRows","less","more","selectAll","handleCheckBoxEvent","setColumns","nCIdx","columnContainer","listItem","dragSvg","draggable","columnLabel","boxLabel","columnInput","emptySpan","buttonContainer","cancelButton","hd","reducePx","tHead","expandDone","selectDone","r","tBodies","widths","newrows","rowIdx","headerCount","padR","selectData","z","query","modal","modalEl","csvBtn","isUrl","isEmail","modifyText","expandRow","theRowIdx","expandCell","paginate","inArray","reduce","bool","word","includes","setMessage","newPages","refresh","exportOptions","headers","defaults","download","filename","exportFileName","lineDelimiter","columnDelimiter","tableName","replacer","space","blob","unshift","isLink","encodeURI","Blob","decodeURIComponent","url","msSaveBlob","newData","importHeader","shift","json","pTable","thead","tbody","newTh","newCell","message","insertDetails","searchResults","rowIds","newNum","crypto","msCrypto","getRandomValues","Uint32Array","dataToTable","replaceChild","dataIdx","itemCount","rowsNeeded","drop","Tooltip","textAlignments","textAlign","text_align","tooltipArrow","tooltipIdText","tooltipId","counter","aria_describedby","tooltipInner","createToolTip","loadURLSVGs","paths","execute","defs","xhr","XMLHttpRequest","readyState","status","response","createRange","createContextualFragment","fragSymbol","fragStyle","handleSVGResponse","responseText","send","defineProperty"],"mappings":"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","sourcesContent":["// parse the package.json file to get needed variables\r\nimport { ddsSpace, ddsToken } from \"../../package.json\";\r\n\r\nexport const DOC = document;\r\nexport const HTML = DOC.documentElement;\r\nexport const globalObject = typeof global !== \"undefined\" ? global : window;\r\nexport const prefix = ddsSpace + ddsToken;\r\nexport const supportTransitions =\r\n    \"Webkit\" + \"Transition\" in HTML[\"style\"] ||\r\n    \"Transition\"[\"toLowerCase\"]() in HTML[\"style\"];\r\nexport const transitionEndEvent =\r\n    \"Webkit\" + \"Transition\" in HTML[\"style\"] ?\r\n        \"Webkit\"[\"toLowerCase\"]() + \"Transition\" + \"End\" :\r\n        \"Transition\"[\"toLowerCase\"]() + \"end\";\r\nexport const transitionDuration =\r\n    \"Webkit\" + \"Duration\" in HTML[\"style\"] ?\r\n        \"Webkit\"[\"toLowerCase\"]() + \"Transition\" + \"Duration\" :\r\n        \"Transition\"[\"toLowerCase\"]() + \"Duration\";\r\nexport const tipPositions = /\\b(top|bottom|left|right)+/;\r\nexport const isIPhone = (/(IPhone)/i.test(navigator.platform));\r\nexport const isIOS = (/iPad|iPhone|iPod|Macintosh/i.test(navigator.userAgent) || (navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1)) && !window.MSStream; // /(/(IPad)/i.test(navigator.platform)) || (/(IPhone)/i.test(navigator.platform));\r\nexport const isIE = (/msie|trident|Windows Phone/i.test(navigator.userAgent));\r\nexport const isSafari = (/Version\\/[\\d.]+.*Safari/i.test(navigator.userAgent));\r\nexport const isEdge = (/Edge\\/\\d./i.test(navigator.userAgent));\r\nexport const isFirefox = (/firefox/i.test(navigator.userAgent));\r\nexport const isChrome = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);\r\nexport const direction = {\r\n    UP: 1,\r\n    RIGHT: 2,\r\n    DOWN: 3,\r\n    LEFT: 4,\r\n    NONE: 5\r\n};\r\n\r\n// selection methods\r\nexport function getFullScreenOverlay() {\r\n    var overlay = DOC.getElementById(prefix + \"full-screen-overlay\");\r\n    if (!overlay) {\r\n        console.warn(\"OFF-CANVAS: Overlay requested. Corresponding HTML missing. Please apply id 'dds__full-screen-overlay' and class 'dds__overlay' to an empty div\");\r\n        return false;\r\n    }\r\n    return overlay;\r\n}\r\n\r\n\r\nexport function getElementsByClassName(element, classNAME) {\r\n    // returns Array\r\n    return [].slice.call(element[\"getElementsByClassName\"](classNAME));\r\n}\r\n\r\nexport function getSibling(element, selector) {\r\n\r\n    var firstChar = selector.charAt(0);\r\n    var selectorSubstring = selector.substr(1);\r\n\r\n    if (firstChar === \".\") {\r\n        if (element.nextElementSibling && element.nextElementSibling.classList) {\r\n            if(element.nextElementSibling.classList.contains(selectorSubstring)) {\r\n                return element.nextElementSibling;\r\n            } else {\r\n                return getSibling(element.nextElementSibling, selector);\r\n            }\r\n        }\r\n    }  else if (firstChar === \"#\") {\r\n        \r\n        if (element.nextElementSibling && element.nextElementSibling.id) {\r\n            if(element.nextElementSibling.id === selectorSubstring) {\r\n                return element.nextElementSibling;\r\n            } else {\r\n                return getSibling(element.nextElementSibling, selector);\r\n            }\r\n        }\r\n    } else {\r\n        if (element.nextElementSibling && element.nextElementSibling.tagName) {\r\n            if(element.nextElementSibling.tagName.toLowerCase() === selector.toLowerCase()) {\r\n                return element.nextElementSibling;\r\n            } else {\r\n                return getSibling(element.nextElementSibling, selector);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function getFocusableElements(element) {\r\n    var arr = Array.prototype.slice.call(element.querySelectorAll(\"*:not([aria-expanded='false']) a[href],*:not([aria-expanded='false']) area[href],*:not([aria-expanded='false']) input:not([disabled]),*:not([aria-expanded='false']) select:not([disabled]),*:not([aria-expanded='false']) textarea:not([disabled]),*:not([aria-expanded='false']) button:not([disabled]):not(.dds__d-none), *:not([aria-expanded='false']) > .dds__accordion-card-body > ul > [tabindex='0']\"));\r\n    return arr.filter(filterCollapsedParents);\r\n}\r\n\r\nfunction filterCollapsedParents(element) {\r\n    for(;element && element !== DOC; element = element.parentElement) {\r\n        if (element.parentElement) {\r\n            if ((element.parentElement.classList.contains(\"dds__collapse\") && element.parentElement.getAttribute(\"aria-expanded\") == \"false\") || element.parentElement.classList.contains(prefix + \"d-none\")) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return element; //if scaled entire DOM tree and no parents are collapsed, element is focusable\r\n        }\r\n    }\r\n}\r\n\r\nexport function getNextFocusableElement(element) {\r\n    for(;element && element !== DOC; element = element.nextElementSibling) {\r\n        if (element.nextElementSibling) {\r\n            if (window.getComputedStyle(element.nextElementSibling).getPropertyValue(\"display\") != \"none\") {\r\n                if ([\"A\",\"AREA\",\"INPUT\",\"SELECT\",\"TEXTAREA\",\"BUTTON\"].indexOf(element.nextElementSibling.tagName) != -1\r\n                && element.nextElementSibling.tabIndex >= 0) {\r\n                    return element.nextElementSibling;\r\n                } else {\r\n                    var focusable = getFocusableElements(element.nextElementSibling);\r\n                    if (focusable && focusable.length > 0) {\r\n                        return focusable[0];\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            return getNextFocusableElement(element.parentElement);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Creates a temporary, assertive element to announce a message for text reader clients, then removes that element.\r\n * @param  {String}   theMessage The short text to announce. Consider translation requirements.\r\n * @return void\r\n */\r\nexport function ariaAnnounce (theMessage) {\r\n    var msgEl,\r\n        randomNum = Math.floor(Math.random() * 999999999) + 1;\r\n    document.body.appendChild(createElement(\"div\", {\r\n        style: \"position:absolute; left:-1000px; width: 0px; height: 0px;\",\r\n        id: \"ariaAnnouncement\" + randomNum,\r\n        \"aria-live\": \"assertive\"\r\n    }));\r\n    msgEl = document.getElementById(\"ariaAnnouncement\" + randomNum);\r\n    window.setTimeout(function() {\r\n        msgEl.textContent = theMessage;\r\n    }, 15);\r\n    window.setTimeout(function () {\r\n        msgEl.parentElement.removeChild(msgEl);\r\n    }, 5000);\r\n}\r\n\r\n\r\n/**\r\n * @method getClosest   Crawls the DOM to find the closest targeted element\r\n * @param element       {DOM element}   the DOM element from which to start searching\r\n * @param selector      {string}        the class, ID, or tag name for which to search\r\n * @param parentsOnly   {boolean}       if false or not set, modifies TAG search to include children elements of the currently-inspected target\r\n * @return {element} or false\r\n */\r\nexport function getClosest(element, selector, parentsOnly) {\r\n    // source http://gomakethings.com/climbing-up-and-down-the-dom-tree-with-vanilla-javascript/\r\n    var firstChar = selector.charAt(0);\r\n\r\n    var selectorSubstring = selector.substr(1);\r\n    if (firstChar === \".\") {\r\n        // If selector is a class\r\n        for (; element && element !== DOC; element = element.parentNode) {\r\n            // Get closest match\r\n            if (\r\n                element[\"parentNode\"].querySelector(selector) !== null &&\r\n                // hasClass(element, selectorSubstring)) {\r\n                element.classList[\"contains\"](selectorSubstring)\r\n            ) {\r\n                return element;\r\n            } else if (parentsOnly === false) {\r\n                if (element.querySelector(selector)) {\r\n                    return element.querySelector(selector);\r\n                }\r\n            }\r\n        }\r\n    } else if (firstChar === \"#\") {\r\n        // If selector is an ID\r\n        for (; element && element !== DOC; element = element.parentNode) {\r\n            // Get closest match\r\n            if (element.id === selectorSubstring) {\r\n                return element;\r\n            } else if (parentsOnly === false) {\r\n                if (element.querySelector(selector)) {\r\n                    return element.querySelector(selector);\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        // If selector is a tagName\r\n        for (; element && element !== DOC; element = element.parentNode) {\r\n            // Get closest match\r\n            if (element.tagName && element.tagName.toLowerCase() === selector.toLowerCase() ) {\r\n                return element;\r\n            } else if (element.previousElementSibling && element.previousElementSibling.tagName.toLowerCase() === selector.toLowerCase()) {\r\n                return element.previousElementSibling;\r\n            } else if (parentsOnly === false) {\r\n                if (element.querySelector(selector)) {\r\n                    return element.querySelector(selector);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n\r\n}\r\n\r\nexport function one(element, event, handler) {\r\n    element.addEventListener(\r\n        event,\r\n        function handlerWrapper(e) {\r\n            handler(e);\r\n            element.removeEventListener(event, handlerWrapper, false);\r\n        },\r\n        false\r\n    );\r\n}\r\n\r\nexport function getTransitionDurationFromElement(element) {\r\n    var duration = supportTransitions ?\r\n        globalObject[\"getComputedStyle\"](element)[transitionDuration] :\r\n        0;\r\n    duration = parseFloat(duration);\r\n    duration =\r\n        typeof duration === \"number\" && !isNaN(duration) ? duration * 1000 : 0;\r\n    return duration + 50; // we take a short offset to make sure we fire on the next frame after animation\r\n}\r\n\r\nexport function getAnimationDurationFromElement(element) {\r\n    var duration = supportTransitions ?\r\n        globalObject[\"getComputedStyle\"](element)[\"animationDuration\"] :\r\n        0;\r\n    duration = parseFloat(duration);\r\n    duration =\r\n        typeof duration === \"number\" && !isNaN(duration) ? duration * 1000 : 0;\r\n    return duration + 50; // we take a short offset to make sure we fire on the next frame after animation\r\n}\r\n\r\nexport function emulateTransitionEnd(element, handler) {\r\n    // emulateTransitionEnd since 2.0.4\r\n    var called = 0;\r\n\r\n    var duration = getTransitionDurationFromElement(element);\r\n    supportTransitions &&\r\n        one(element, transitionEndEvent, function (e) {\r\n            handler(e);\r\n            called = 1;\r\n        });\r\n    setTimeout(function () {\r\n        !called && handler();\r\n    }, duration);\r\n}\r\n\r\nexport function emulateAnimationnEnd(element, handler) {\r\n    // emulateTransitionEnd since 2.0.4\r\n    var called = 0;\r\n\r\n    var duration = getAnimationDurationFromElement(element);\r\n    supportTransitions &&\r\n        one(element, transitionEndEvent, function (e) {\r\n            handler(e);\r\n            called = 1;\r\n        });\r\n    setTimeout(function () {\r\n        !called && handler();\r\n    }, duration);\r\n}\r\n\r\nexport function uicoreCustomEvent(componentName, eventName, related, details) {\r\n    var evt;\r\n    if (isIE){\r\n        evt = document.createEvent(\"CustomEvent\");\r\n        evt.initCustomEvent( \"uic\" + componentName + eventName, true, true, details );\r\n    }\r\n    else{\r\n        evt = new CustomEvent(\"uic\" + componentName + eventName, {\r\n            bubbles: true,\r\n            detail: details\r\n        });\r\n    }\r\n    evt.relatedTarget = related;\r\n    related.dispatchEvent(evt);\r\n}\r\n\r\n\r\n// tooltip / popover stuff\r\nexport function getScroll() {\r\n    // also Affix and ScrollSpy uses it\r\n    return {\r\n        y: globalObject.pageYOffset || HTML[\"scrollTop\"],\r\n        x: globalObject.pageXOffset || HTML[\"scrollLeft\"]\r\n    };\r\n}\r\n\r\n// set new focus element since 2.0.3\r\nexport function setFocus(element) {\r\n    element.focus ? element.focus() : element.setActive();\r\n}\r\n\r\nexport function offWindowLeft(element, link) {\r\n    var elementDimensions = {\r\n        w: element[\"offsetWidth\"],\r\n        h: element[\"offsetHeight\"]\r\n    };\r\n    var rect = link[\"getBoundingClientRect\"]();\r\n    if (elementDimensions.w < 50) {\r\n        elementDimensions.w = 50;\r\n    }\r\n    return rect[\"left\"] - elementDimensions.w < 0;\r\n}\r\n\r\nexport function styleTip(link, element, position, parent, useArrow) {\r\n    // both popovers and tooltips (target,tooltip,placement,elementToAppendTo)\r\n\r\n    // element.style.height = elementDimensions.h + 'px';\r\n    // element.style.width = elementDimensions.w + 'px';\r\n    element.style.maxWidth = \"125px\";\r\n\r\n    useArrow = typeof useArrow === \"boolean\" ? useArrow : true;\r\n\r\n    var windowWidth = HTML[\"clientWidth\"] || DOC[\"body\"][\"clientWidth\"];\r\n\r\n    var windowHeight = HTML[\"clientHeight\"] || DOC[\"body\"][\"clientHeight\"];\r\n\r\n    var rect = link[\"getBoundingClientRect\"]();\r\n\r\n    var scroll =\r\n        parent === DOC[\"body\"] ?\r\n            getScroll() :\r\n            {\r\n                y: parent[\"offsetTop\"] + parent[\"scrollTop\"],\r\n                x: parent[\"offsetLeft\"] + parent[\"scrollLeft\"]\r\n            };\r\n\r\n    var linkDimensions = {\r\n        w: link.offsetWidth,\r\n        h: link.offsetHeight\r\n    };\r\n\r\n    var maxWidth = 125;\r\n    while(element[\"offsetHeight\"] >= maxWidth) {\r\n        maxWidth = maxWidth * 1.5;\r\n        element.style.maxWidth = maxWidth + \"px\";\r\n    }\r\n\r\n    var elementDimensions = {\r\n        w: element[\"offsetWidth\"],\r\n        h: element[\"offsetHeight\"]\r\n    };\r\n\r\n    var isPopover = element.classList[\"contains\"](\"dds__popover\");\r\n\r\n    var topPosition;\r\n\r\n    var leftPosition;\r\n\r\n    var arrow = element.querySelector(\".dds__arrow\");\r\n\r\n    var arrowTop;\r\n\r\n    var arrowLeft;\r\n\r\n    var arrowWidth;\r\n\r\n    var arrowHeight;\r\n\r\n    var halfTopExceed =\r\n        rect[\"top\"] + linkDimensions.h / 2 - elementDimensions.h / 2 < 0;\r\n\r\n    var halfLeftExceed =\r\n        rect[\"left\"] + linkDimensions.w / 2 - elementDimensions.w / 2 < 0;\r\n\r\n    var halfRightExceed =\r\n        rect[\"left\"] + elementDimensions.w / 2 + linkDimensions.w / 2 >= windowWidth;\r\n\r\n    var halfBottomExceed =\r\n        rect[\"top\"] + elementDimensions.h / 2 + linkDimensions.h / 2 >= windowHeight;\r\n\r\n    var topExceed = rect[\"top\"] - elementDimensions.h < 0;\r\n\r\n    var leftExceed = rect[\"left\"] - elementDimensions.w < 0;\r\n\r\n    var bottomExceed =\r\n        rect[\"top\"] + elementDimensions.h + linkDimensions.h >= windowHeight;\r\n\r\n    var rightExceed =\r\n        rect[\"left\"] + elementDimensions.w + linkDimensions.w >= windowWidth;\r\n\r\n    // recompute position\r\n    var posChanged;\r\n    if (position === \"right\"){\r\n        if (!rightExceed && !halfTopExceed && !halfBottomExceed) {\r\n            position === \"right\";\r\n        } else if (rightExceed && !leftExceed && !halfTopExceed && !halfBottomExceed) { //If exceeds right, but fits on the left\r\n            posChanged = true;\r\n            position = \"left\";\r\n        } else if ((!halfTopExceed || !halfBottomExceed) && (!halfRightExceed || !halfLeftExceed)) { //If half of top or bottom doesnt fit, try to fit top or bottom\r\n            if (!topExceed) {\r\n                posChanged = true;\r\n                position = \"top\";\r\n            } else if (!bottomExceed) {\r\n                posChanged = true;\r\n                position = \"bottom\"; \r\n            }\r\n        }\r\n    }\r\n    else if (position === \"left\") {\r\n        if (!leftExceed && !halfTopExceed && !halfBottomExceed) {\r\n            position === \"left\";\r\n        } else if (leftExceed && !rightExceed && !halfTopExceed && !halfBottomExceed) {\r\n            posChanged = true;\r\n            position = \"right\";\r\n        } else if ((!halfTopExceed || !halfBottomExceed) && (!halfRightExceed || !halfLeftExceed)) {\r\n            if (!topExceed) {\r\n                posChanged = true;\r\n                position = \"top\";\r\n            } else if (!bottomExceed) {\r\n                posChanged = true;\r\n                position = \"bottom\"; \r\n            }\r\n        }\r\n    } else if (position === \"top\") {\r\n        if (!topExceed && !halfRightExceed && !halfLeftExceed) {\r\n            position === \"top\";\r\n        }else if (topExceed && !bottomExceed && !halfRightExceed && !halfLeftExceed) {\r\n            posChanged = true;\r\n            position = \"bottom\";\r\n        } else if ((!halfRightExceed || !halfLeftExceed) && (!halfTopExceed || !halfBottomExceed)) {  //If half of right or left doesnt fit, try to fit right or left\r\n            if (!rightExceed) {\r\n                posChanged = true;\r\n                position = \"right\";\r\n            } else if (!leftExceed) {\r\n                posChanged = true;\r\n                position = \"left\"; \r\n            }\r\n        }\r\n    }  else if (position === \"bottom\") {\r\n        if (!bottomExceed && !halfRightExceed && !halfLeftExceed) {\r\n            position === \"bottom\";\r\n        } else if (bottomExceed && !topExceed && !halfRightExceed && !halfLeftExceed) {\r\n            posChanged = true;\r\n            position = \"top\";\r\n        } else if ((!halfRightExceed || !halfLeftExceed) && (!halfTopExceed || !halfBottomExceed)) { //Can't be top\r\n            if (!rightExceed) {\r\n                posChanged = true;\r\n                position = \"right\";\r\n            } else if (!leftExceed) {\r\n                posChanged = true;\r\n                position = \"left\"; \r\n            }\r\n        }\r\n    }\r\n\r\n    // update tooltip/popover class\r\n    element.className[\"indexOf\"](position) === -1 &&\r\n        (element.className = element.className.replace(tipPositions, position));\r\n\r\n    // update tooltip/popover dimensions\r\n    if (posChanged) {\r\n        elementDimensions = {\r\n            w: element[\"offsetWidth\"],\r\n            h: element[\"offsetHeight\"]\r\n        };\r\n    }\r\n    // we check the computed width & height and update here\r\n    var elMargin;\r\n    try {\r\n        elMargin = Number(window.getComputedStyle(element).margin.match(/\\d+/)[0]); // get the margin value from style as a number\r\n    } catch (e) {\r\n        elMargin = 0;\r\n    }\r\n    arrowWidth = arrow[\"offsetWidth\"] + (elMargin * 2);\r\n    arrowHeight = arrow[\"offsetHeight\"] + (elMargin * 2);\r\n\r\n    var rectLeft = rect[\"left\"], rectTop = rect[\"top\"];\r\n    if (!useArrow) {\r\n        if (position === \"left\") {\r\n            rectLeft = rect[\"left\"] + arrowWidth;\r\n        } else if( position === \"right\") {\r\n            rectLeft = rect[\"left\"] - arrowWidth;\r\n        } else if (position === \"top\") {\r\n            rectTop = rect[\"top\"] + arrowHeight;\r\n        } else if (position === \"bottom\") {\r\n            rectTop = rect[\"top\"] - arrowHeight;\r\n        }\r\n    }\r\n\r\n    // apply styling to tooltip or popover\r\n    if (position === \"left\" || position === \"right\") {\r\n        // secondary|side positions\r\n        if (position === \"left\") {\r\n            // LEFT\r\n            leftPosition =\r\n                rectLeft +\r\n                scroll.x -\r\n                elementDimensions.w -\r\n                (isPopover ? arrowWidth : 3); // subtract to move more left\r\n            window.addEventListener(\"resize\", function () {\r\n                arrow[\"style\"][\"left\"] = \"initial\";\r\n            });\r\n        } else {\r\n            // RIGHT\r\n            leftPosition = rectLeft + linkDimensions.w + (isPopover ? 0 : 3); // add to move more right\r\n        }\r\n\r\n        topPosition =\r\n            rect[\"top\"] - elementDimensions.h / 2 + linkDimensions.h / 2 + scroll.y;\r\n        arrowTop =\r\n            elementDimensions.h / 2 - \r\n            (isPopover ? arrowHeight * 0.9 : arrowHeight / 2);\r\n    } else if (position === \"top\" || position === \"bottom\") {\r\n        // primary|vertical positions\r\n        if (position === \"top\") {\r\n            // TOP\r\n            topPosition =\r\n                rectTop +\r\n                scroll.y -\r\n                elementDimensions.h - \r\n                (isPopover ? arrowHeight : 3); // subtract to move more up\r\n        } else {\r\n            // BOTTOM\r\n            topPosition = rectTop + linkDimensions.h + scroll.y + (isPopover ? 0 : 3);\r\n        }\r\n        leftPosition =\r\n            rect[\"left\"] - elementDimensions.w / 2 + linkDimensions.w / 2 + scroll.x;\r\n        arrowLeft = elementDimensions.w / 2 - arrowWidth / 2;\r\n    }\r\n\r\n    // apply style to tooltip/popover and its arrow\r\n    element[\"style\"][\"top\"] = topPosition + \"px\";\r\n    element[\"style\"][\"left\"] = leftPosition + \"px\";\r\n\r\n    arrowTop && (arrow[\"style\"][\"top\"] = arrowTop + \"px\");\r\n    arrowLeft && (arrow[\"style\"][\"left\"] = arrowLeft + \"px\");\r\n\r\n}\r\n\r\nexport function handleFirstTab(e) {\r\n    if (e.keyCode === 9) {\r\n        document.body.classList.add(\"user-is-tabbing\");\r\n\r\n        window.removeEventListener(\"keydown\", handleFirstTab);\r\n        window.addEventListener(\"mousedown\", handleMouseDownOnce);\r\n    }\r\n}\r\n\r\nexport function handleMouseDownOnce(e) {\r\n    //NVDA in browse mode swallows the enter key as mouse click: https://github.com/nvaccess/nvda/issues/4903\r\n    //This breaks our visual focus toggle. Enter key event has x,y values of 0,0 whereas click has positive x,y values.\r\n    //Capture enter key when treated as mousedown by NVDA browse mode.\r\n    if (e.x === 0 && e.y === 0) {\r\n        return;\r\n    }\r\n    document.body.classList.remove(\"user-is-tabbing\");\r\n\r\n    window.removeEventListener(\"mousedown\", handleMouseDownOnce);\r\n    window.addEventListener(\"keydown\", handleFirstTab);\r\n}\r\n\r\n// Form--passwords validation\r\n//================================================================\r\nexport function passwordVerification() {\r\n    var myInput = document.getElementById(\"psw\");\r\n    var letter = document.getElementById(\"letter\");\r\n    var capital = document.getElementById(\"capital\");\r\n    var number = document.getElementById(\"number\");\r\n    var length = document.getElementById(\"length\");\r\n\r\n    // When the user clicks on the password field, show the message box\r\n    myInput.onfocus = function () {\r\n        document.getElementById(\"message\").style.display = \"block\";\r\n    };\r\n\r\n    // When the user clicks outside of the password field, hide the message box\r\n    myInput.onblur = function () {\r\n        document.getElementById(\"message\").style.display = \"none\";\r\n    };\r\n\r\n    // When the user starts to type something inside the password field\r\n    myInput.onkeyup = function () {\r\n        // Validate lowercase letters\r\n        var lowerCaseLetters = /[a-z]/g;\r\n        if (myInput.value.match(lowerCaseLetters)) {\r\n            letter.classList.add(\"valid\");\r\n            letter.classList.remove(\"invalid\");\r\n        } else {\r\n            letter.classList.remove(\"valid\");\r\n            letter.classList.add(\"invalid\");\r\n        }\r\n\r\n        // Validate capital letters\r\n        var upperCaseLetters = /[A-Z]/g;\r\n        if (myInput.value.match(upperCaseLetters)) {\r\n            capital.classList.remove(\"invalid\");\r\n            capital.classList.add(\"valid\");\r\n        } else {\r\n            capital.classList.remove(\"valid\");\r\n            capital.classList.add(\"invalid\");\r\n        }\r\n\r\n        // Validate numbers\r\n        var numbers = /[0-9]/g;\r\n        if (myInput.value.match(numbers)) {\r\n            number.classList.remove(\"invalid\");\r\n            number.classList.add(\"valid\");\r\n        } else {\r\n            number.classList.remove(\"valid\");\r\n            number.classList.add(\"invalid\");\r\n        }\r\n\r\n        // Validate length\r\n        if (myInput.value.length >= 8) {\r\n            length.classList.remove(\"invalid\");\r\n            length.classList.add(\"valid\");\r\n        } else {\r\n            length.classList.remove(\"valid\");\r\n            length.classList.add(\"invalid\");\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * Check is item is object\r\n * @return {Boolean}\r\n */\r\nexport function isObject(val) {\r\n    return Object.prototype.toString.call(val) === \"[object Object]\";\r\n}\r\n\r\n/**\r\n * Check is item is array\r\n * @return {Boolean}\r\n */\r\nexport function isArray(val) {\r\n    return Array.isArray(val);\r\n}\r\n\r\n/**\r\n * Check for valid JSON string\r\n * @param  {String}   str\r\n * @return {Boolean|Array|Object}\r\n */\r\nexport function isJson(str) {\r\n    var t = !1;\r\n    try {\r\n        t = JSON.parse(str);\r\n    } catch (e) {\r\n        return !1;\r\n    }\r\n    return !(null === t || (!isArray(t) && !isObject(t))) && t;\r\n}\r\n\r\n/**\r\n * Iterator helper\r\n * @param  {(Array|Object)}   arr     Any object, array or array-like collection.\r\n * @param  {Function}         fn      Callback\r\n * @param  {Object}           scope   Change the value of this\r\n * @return {Void}\r\n */\r\nexport function each(arr, fn, scope) {\r\n    var n;\r\n    if (arr) {\r\n        if (isObject(arr)) {\r\n            for (n in arr) {\r\n                if (Object.prototype.hasOwnProperty.call(arr, n)) {\r\n                    fn.call(scope, arr[n], n);\r\n                }\r\n            }\r\n        } else if (arr.length > 0) {\r\n            for (n = 0; n < arr.length; n++) {\r\n                fn.call(scope, arr[n], n);\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Bubble sort algorithm\r\n */\r\nexport function sortItems(a, b) {\r\n    var c, d;\r\n    if (1 === b) {\r\n        c = 0;\r\n        d = a.length;\r\n    } else {\r\n        if (b === -1) {\r\n            c = a.length - 1;\r\n            d = -1;\r\n        }\r\n    }\r\n    for (var e = !0; e;) {\r\n        e = !1;\r\n        for (var f = c; f != d; f += b) {\r\n            if (a[f + b] && a[f].value > a[f + b].value) {\r\n                var g = a[f],\r\n                    h = a[f + b],\r\n                    i = g;\r\n                a[f] = h;\r\n                a[f + b] = i;\r\n                e = !0;\r\n            }\r\n        }\r\n    }\r\n    return a;\r\n}\r\n\r\n/**\r\n * Create DOM element node\r\n * @param  {String}   a nodeName\r\n * @param  {Object}   b properties and attributes\r\n * @return {Object}\r\n */\r\nexport function createElement(a, b) {\r\n    var d = DOC.createElement(a);\r\n    if (b && \"object\" == typeof b) {\r\n        var e;\r\n        for (e in b) {\r\n            if (\"html\" === e) {\r\n                d.innerHTML = b[e];\r\n            } else {\r\n                if (e.slice(0,5) === \"aria_\" || e.slice(0,5) === \"data_\") {\r\n                    var attr = e.slice(0,4) + \"-\" + e.slice(5);\r\n                    d.setAttribute(attr, b[e]); \r\n                } else {\r\n                    d.setAttribute(e, b[e]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return d;\r\n}\r\n\r\nexport function loadURLSVGs(paths, lazyload) {\r\n    var lazyloading = typeof(lazyload) === \"boolean\" ? lazyload : true,\r\n        execute = function(paths) {\r\n            if (paths.length > 0 && !Array.isArray(paths)) {\r\n                paths = new Array(paths);\r\n            }\r\n            if (!paths || paths.length < 1) {\r\n                console.error(\"The File path(s) supplied were either empty or null.\");\r\n                return false;\r\n            }\r\n            var defs,\r\n                style,\r\n                svg,\r\n                handleSVGResponse = function(response) {\r\n                    if (response.match(/<script|javascript:/g)) {\r\n                        throw Error(\"Possible malicous scripting code found!\\n\"+response);\r\n                    } else {\r\n                        var frag = DOC.createRange().createContextualFragment(response);\r\n                        if (DOC[\"body\"].firstChild.tagName != \"svg\") {\r\n                            DOC[\"body\"].insertBefore(frag, DOC[\"body\"].firstChild);\r\n                        } else {\r\n                            svg = DOC[\"body\"].firstChild;\r\n                            defs = defs ? defs : svg.querySelector(\"defs\");\r\n                            style = style ? style : svg.querySelector(\"style\");\r\n                            var fragSymbol = frag.querySelector(\"symbol\");\r\n                            if (!defs.querySelector(\"#\"+fragSymbol.id)) {\r\n                                defs.appendChild(fragSymbol);\r\n                                var fragStyle = frag.querySelector(\"style\");\r\n                                if (style && fragStyle) {\r\n                                    style.innerHTML += fragStyle.innerHTML;\r\n                                } else if (fragStyle) {\r\n                                    svg.insertBefore(fragStyle, defs);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            Array.prototype.forEach.call(paths, function(url) {\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.addEventListener(\"error\", function() {\r\n                    console.error(\"The File path supplied [ \"+paths+\" ] was invalid.\");\r\n                });\r\n                xhr.addEventListener(\"load\", function() {\r\n                    if (xhr.readyState == 4 && xhr.status == 200) {\r\n                        handleSVGResponse(xhr.responseText);\r\n                    }\r\n                });\r\n                xhr.open(\"GET\", url, true);\r\n                xhr.send();\r\n            });\r\n        };\r\n    if (lazyloading) {\r\n        DOC.addEventListener(\"DOMContentLoaded\", function () {\r\n            execute(paths);\r\n        });\r\n    } else {\r\n        execute(paths);\r\n    }\r\n}\r\n\r\n/**\r\n * Function created to support the ability to add classes\r\n * to an SVG Element / Node. The classList for Elements and\r\n * Nodes in IE using createElementNS does not support classList  \r\n * so the class attribute needs to be used\r\n * @param {Element/Node} elem \r\n */\r\nexport function classAdd(elem, classes) {\r\n    var classList;\r\n    if (!isArray(classes)) {\r\n        classList = [classes];\r\n    } else {\r\n        classList = classes;\r\n    }\r\n \r\n    each(classList, function(clazz) {\r\n        if (!elem.classList) { // Element does not support classList\r\n            var newClasses = elem.getAttribute(\"class\");\r\n            if (!newClasses) {\r\n                elem.setAttribute(\"class\", clazz);\r\n            } else {\r\n                if (newClasses.indexOf(clazz) == -1)\r\n                    elem.setAttribute(\"class\", newClasses + \" \" + clazz);\r\n            }\r\n        } else {\r\n            elem.classList.add(clazz);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Function created to support the ability to remove classes\r\n * to an SVG Element / Node. The classList for Elements and\r\n * Nodes in IE using createElementNS does not support classList \r\n * so the class attribute needs to be used\r\n * @param {*} elem \r\n */\r\nexport function classRemove(elem, classes) {\r\n    var classList;\r\n    if (!isArray(classes)) {\r\n        classList = [classes];\r\n    } else {\r\n        classList = classes;\r\n    }\r\n    each(classList, function(clazz) {\r\n        if (!elem.classList) { // Element does not support classList\r\n            var newClasses = elem.getAttribute(\"class\").replace(clazz, \"\");\r\n            elem.setAttribute(\"class\", newClasses);\r\n        } else {\r\n            elem.classList.remove(clazz);\r\n        }\r\n    }); \r\n}\r\n\r\nexport function debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return function() {\r\n        var context = this, args = arguments;\r\n        var later = function() {\r\n            timeout = null;\r\n            if (!immediate) func.apply(context, args);\r\n        };\r\n        var callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) func.apply(context, args);\r\n    };\r\n}\r\n\r\nexport function ieMosaicPolyfill(slides) {\r\n    var divTag;\r\n    for (var i = 0; i < slides.length; i++) {\r\n        var imgTag = slides[i].querySelector(\"img.dds__card-img-top\");\r\n        if (imgTag) {\r\n            divTag = slides[i].querySelector(\"div.dds__card-img-top\");\r\n            divTag.style.backgroundImage = \"url('\" + imgTag.src + \"')\";\r\n            imgTag.style.display = \"none\";\r\n            slides[i].parentNode.classList.add(\"dds__background-img\");\r\n        }\r\n    }\r\n}\r\n\r\nexport function altFind(arr, callback) {\r\n    var ret;\r\n    each(arr, function(val) {\r\n        var match = callback(val);\r\n        if (match) {\r\n            ret = val;\r\n        }\r\n    });\r\n    return ret;\r\n}\r\n  \r\nexport function validateNum(num, defaultVal) {\r\n    if (num) {\r\n        // check to see if page is a not a number but can be a string\r\n        if ( isNaN(num) && typeof num != \"string\") {\r\n            return defaultVal ? defaultVal : false;\r\n        // if it is a string can it be converted to a number\r\n        } else if (typeof num === \"string\") {\r\n            if(isNaN(parseInt(num, 10))) {\r\n                return defaultVal ? defaultVal : false;\r\n            }\r\n            num = parseInt(num, 10);\r\n        }\r\n        \r\n        return num;\r\n    }\r\n    else{\r\n        return defaultVal;\r\n    }\r\n}\r\n\r\nexport function jsonOptionsInit(element, options) {\r\n    var jsonParams = element.dataset.options;\r\n    if (jsonParams) {\r\n        var jsonOptions = JSON.parse(jsonParams);\r\n        return jsonOptions;\r\n    }\r\n    else{\r\n        return options;\r\n    }\r\n    \r\n}\r\n\r\nexport function swipeInit(el, callback) {\r\n    var swipe = new Object();\r\n    swipe.start = {\r\n        x: 0,\r\n        y: 0\r\n    };\r\n    swipe.end = {\r\n        x: 0,\r\n        y: 0\r\n    };\r\n    swipe.params = {\r\n        min: {\r\n            x: 50,\r\n            y: 90\r\n        },\r\n        max: {\r\n            x: 95,\r\n            y: 100\r\n        }\r\n    };\r\n    var getTouch = function (e) {\r\n            if (isEdge || isIE) {\r\n                return {\r\n                    screenX: e.screenX,\r\n                    screenY: e.screenY\r\n                };\r\n            } else {\r\n                return e.touches[0];\r\n            }\r\n        },\r\n        downListener = function (e) {\r\n            var touch = getTouch(e);\r\n            swipe.start.x = swipe.end.x = touch.screenX;\r\n            swipe.start.y = swipe.end.y = touch.screenY;\r\n        },\r\n        moveListener = function (e) {\r\n            // preventDefault if you want to completely stop default touch behavior\r\n            // e.preventDefault();\r\n            var touch = getTouch(e);\r\n            swipe.end.x = touch.screenX;\r\n            swipe.end.y = touch.screenY;\r\n        },\r\n        upListener = function () {\r\n            if (\r\n                ((swipe.end.x - swipe.params.min.x > swipe.start.x) || (swipe.end.x + swipe.params.min.x < swipe.start.x)) &&\r\n                ((swipe.end.y < swipe.start.y + swipe.params.max.y) && (swipe.start.y > swipe.end.y - swipe.params.max.y))\r\n            ) {\r\n                if (swipe.end.x > swipe.start.x) {\r\n                    swipe.direction = direction.RIGHT;\r\n                } else {\r\n                    swipe.direction = direction.LEFT;\r\n                }\r\n            }\r\n            if (\r\n                ((swipe.end.y - swipe.params.min.y > swipe.start.y) || (swipe.end.y + swipe.params.min.y < swipe.start.y)) &&\r\n                ((swipe.end.x < swipe.start.x + swipe.params.max.x) && (swipe.start.x > swipe.end.x - swipe.params.max.x))\r\n            ) {\r\n                if (swipe.end.y > swipe.start.y) {\r\n                    swipe.direction = direction.DOWN;\r\n                } else {\r\n                    swipe.direction = direction.UP;\r\n                }\r\n            }\r\n            if (swipe.direction !== direction.NONE) {\r\n                if (typeof callback === \"function\") {\r\n                    callback(el, swipe.direction);\r\n                }\r\n            }\r\n            swipe.direction = direction.NONE;\r\n        };\r\n    if (isEdge) {\r\n        el.addEventListener(\"mousedown\", downListener);\r\n        el.addEventListener(\"mousemove\", moveListener);\r\n        el.addEventListener(\"mouseup\", upListener);\r\n    } else if (isIE) {\r\n        el.addEventListener(\"pointerdown\", downListener);\r\n        el.addEventListener(\"pointermove\", moveListener);\r\n        el.addEventListener(\"pointerup\", upListener);\r\n    } else {\r\n        el.addEventListener(\"touchstart\", downListener);\r\n        el.addEventListener(\"touchmove\", moveListener);\r\n        el.addEventListener(\"touchend\", upListener);\r\n    }\r\n}\r\nexport function renderSvg(svg, attributes) {\r\n    var svgWrapper = DOC.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n    svgWrapper.setAttribute(\"focusable\", false);\r\n    classAdd(svgWrapper, prefix + \"svg-icons\");\r\n    classAdd(svgWrapper, prefix + \"icon-svg\");\r\n    if (!isArray(svg)) {\r\n        svg = [svg];\r\n    }\r\n    each(svg, function(elm) {\r\n        var svgElem = DOC.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\r\n\r\n        svgElem.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"xlink:href\", \"#\" + prefix + elm.name);\r\n        classAdd(svgElem, [prefix + \"svg-icons-item\"]); //are these two classes the same\r\n        classAdd(svgElem, prefix + \"icon-svg-item\");\r\n        svgElem.setAttribute(\"tabindex\", \"-1\"); //does this do anything\r\n        if (elm.show) {\r\n            classAdd(svgElem, [ prefix + \"show\"]);\r\n        }\r\n\r\n        svgWrapper.appendChild(svgElem);\r\n    });\r\n\r\n    for (var key in attributes) {\r\n        if (Object.prototype.hasOwnProperty.call(attributes, key)) {\r\n            svgWrapper.setAttribute(key, attributes[key]);\r\n        }\r\n    }\r\n    return svgWrapper;\r\n}\r\n\r\nexport function flush(el, ie) {\r\n    if (el instanceof NodeList) {\r\n        each(el, function (e) {\r\n            flush(e, ie);\r\n        });\r\n    } else {\r\n        if (ie) {\r\n            while (el.hasChildNodes()) {\r\n                el.removeChild(el.firstChild);\r\n            }\r\n        } else {\r\n            el.innerHTML = \"\";\r\n        }\r\n    }\r\n}\r\n\r\nexport function getText(value) {\r\n    var text, div = DOC.createElement(\"div\");\r\n    div.innerHTML = value;\r\n\r\n    function findText(div) {\r\n        each(div.childNodes, function(cNode) {\r\n            if (cNode.nodeType === 3) {\r\n                text = cNode.data;\r\n            }\r\n            findText(cNode);\r\n        }, this);\r\n    }\r\n    findText(div);\r\n    return text;\r\n}\r\n","import {prefix, uicoreCustomEvent} from \"./utilities.js\";\r\n\r\nexport default function Alert(element) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // bind, target alert, duration and stuff\r\n    var self = this,\r\n        stringAlert = \"Alert\",\r\n        closeButton = element.querySelector(\".\"+prefix+\"close-x\"),\r\n        dismissMessage = element.querySelector(\".\"+prefix+\"dismiss\"),\r\n   \r\n        // handlers\r\n        clickHandler = function(e) {\r\n            if ((closeButton === e.target || closeButton.contains(e.target)) || \r\n            (dismissMessage === e.target || dismissMessage.contains(e.target))){\r\n                self.toggle();\r\n            }\r\n        };\r\n\r\n    // public method\r\n    this.toggle = function() {\r\n        if (element) {\r\n            if (element.getAttribute(\"aria-expanded\") === \"true\") {\r\n                element.setAttribute(\"aria-expanded\", \"false\");\r\n                dismissMessage.focus();\r\n                uicoreCustomEvent(\"Alert\", \"DismissEvent\", element);\r\n            } else {\r\n                element.setAttribute(\"aria-expanded\", \"true\");\r\n                closeButton.focus();\r\n                uicoreCustomEvent(\"Alert\", \"OpenEvent\", element);\r\n            }\r\n           \r\n        }\r\n    };\r\n\r\n    // init\r\n    if (!(stringAlert in element)) {\r\n        // prevent adding event handlers twice\r\n        closeButton.addEventListener(\"click\", clickHandler, false);\r\n        dismissMessage.addEventListener(\"click\", clickHandler, false);\r\n    }\r\n\r\n    element[stringAlert] = self;\r\n}","import { prefix, getSibling, isIE, createElement } from \"../utilities\";\r\n\r\nexport default function InputMask( element ) { //, opts ) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    var wrap,\r\n        stringInputMask = \"InputMask\",\r\n        mNum = \"XdDmMyY9\",\r\n        mChar = \"_\",\r\n        spacing = 0,\r\n        hasValue = false,\r\n        charSet = element.dataset.charset,\r\n        cursorMin = 0,\r\n        createShell = function(t) {\r\n            wrap = createElement(\"span\", {\r\n                class: prefix + \"input-shell\",\r\n            });\r\n            spacing = !t.getAttribute(\"set-cursor\") ? spacing : isNaN(parseInt(t.getAttribute(\"set-cursor\"))) ? spacing : parseInt(t.getAttribute(\"set-cursor\")) !=1 ? spacing : 1;\r\n            var mask = createElement(\"span\", {\r\n                    aria_hidden: \"true\",\r\n                    id: t.getAttribute(\"id\") + \"Mask\" }),\r\n\r\n                emphasis = createElement(\"i\"),\r\n                tClass = t.getAttribute(\"class\"),\r\n                pTxt = hasValue ? t.value: t.getAttribute(\"placeholder\"),\r\n                placeholder = document.createTextNode(pTxt),\r\n                errorDiv = getSibling(t, \"#\"+t.getAttribute(\"id\")+\"Feedback\");\r\n        \r\n            t.setAttribute(\"maxlength\", placeholder.length);\r\n            t.setAttribute(\"data-placeholder\", pTxt);\r\n            t.removeAttribute(\"placeholder\");\r\n        \r\n        \r\n            if ( !tClass || ( tClass && tClass.indexOf(\"masked\") === -1 ) ) {\r\n                t.setAttribute( \"class\", tClass + \" masked\");\r\n            }\r\n        \r\n            mask.appendChild(emphasis);\r\n            mask.appendChild(placeholder);\r\n        \r\n            wrap.appendChild(mask);\r\n            t.parentNode.insertBefore( wrap, t );\r\n            wrap.appendChild(t);\r\n            if(errorDiv) {\r\n                wrap.appendChild(errorDiv);\r\n            }\r\n        },\r\n        setValueOfMask = function(e) {\r\n            var value = e.target.value,\r\n                placeholder = e.target.getAttribute(\"data-placeholder\");\r\n  \r\n            return \"<i>\" + value + \"</i>\" + placeholder.substr(value.length);\r\n        },\r\n        handleFocusEvent = function(e) {\r\n            for (var s=0; s<spacing; s++) {\r\n                var char = e.target.getAttribute(\"data-placeholder\").charAt(s);\r\n                element.value += char;\r\n                var evt;\r\n                if (!isIE) {\r\n                    evt = new KeyboardEvent(\"keyup\", {\r\n                        bubbles : true,\r\n                        cancelable : true,\r\n                        char : char,\r\n                        key : \"[\",\r\n                        shiftKey : true\r\n                    });\r\n                } else {\r\n                    evt = document.createEvent(\"KeyboardEvent\");\r\n                    evt.initKeyboardEvent(\"keyup\", true, true, null, char, null, \"\", false, \"\" );\r\n                }\r\n                element.dispatchEvent(evt);\r\n            }\r\n        },\r\n        handleValueChange = function(e) {\r\n            var id = e.target.getAttribute(\"id\"),\r\n                mask = wrap.querySelector(\"#\" + id + \"Mask\"),\r\n                italic = wrap.querySelector(\"#\" + id + \"Mask i\"),\r\n                cursor;\r\n                \r\n            if(e.target.value == italic.innerHTML) {\r\n                return; // Continue only if value hasn't changed\r\n            }\r\n\r\n            setTimeout(function(){\r\n                cursor = element.selectionEnd; \r\n                e.target.value = handleCurrentValue(e);\r\n                mask.innerHTML = setValueOfMask(e);\r\n                \r\n                if (e.keyCode != 8) {\r\n                    //if the user is backspacing and then switches back to typing forward\r\n                    if(!(charSet.charAt(cursor-1).match(\".*[\"+ mNum + mChar + \"].*\"))){\r\n                        while(!(charSet.charAt(cursor-1).match(\".*[\"+ mNum + mChar + \"].*\")) && cursor < charSet.length){\r\n                            cursor++;\r\n                        }\r\n                    }\r\n                    else{\r\n                        //if the user is typing forward\r\n                        while(!(charSet.charAt(cursor).match(\".*[\"+ mNum + mChar + \"].*\")) && cursor < charSet.length){\r\n                            cursor++;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //if the user is backspacing\r\n                    while(!(charSet.charAt(cursor-1).match(\".*[\"+ mNum + mChar + \"].*\")) && cursor > cursorMin){\r\n                        cursor--;\r\n                    }\r\n                    cursor = Math.max(cursor, cursorMin);\r\n                }\r\n                element.setSelectionRange(cursor, cursor);\r\n            }, 50);\r\n        },\r\n  \r\n        handleCurrentValue = function(e) {\r\n            var isCharsetPresent = e.target.getAttribute(\"data-charset\"),\r\n                placeholder = isCharsetPresent || e.target.getAttribute(\"data-placeholder\"),\r\n                value = e.target.value, l = placeholder.length, newValue = \"\",\r\n                i, j, isInt, isLetter, strippedValue;\r\n  \r\n            // strip special characters\r\n            strippedValue = isCharsetPresent ? value.replace(/\\W/g, \"\") : value.replace(/\\D/g, \"\");\r\n  \r\n            for (i = 0, j = 0; i < l; i++) {\r\n                isInt = !isNaN(parseInt(strippedValue[j]));\r\n                isLetter = strippedValue[j] ? strippedValue[j].match(/[A-Z]/i) : false;\r\n                var matchesNumber = mNum.indexOf(placeholder[i]) >= 0;\r\n                var matchesLetter = mChar.indexOf(placeholder[i]) >= 0;\r\n                if ((matchesNumber && isInt) || (isCharsetPresent && matchesLetter && isLetter)) {\r\n                    newValue += strippedValue[j++];\r\n                } else if ((!isCharsetPresent && !isInt && matchesNumber) || (isCharsetPresent && ((matchesLetter && !isLetter) || (matchesNumber && !isInt)))) {\r\n                    return newValue;\r\n                } else {\r\n                    newValue += placeholder[i];\r\n                }\r\n                // break if no characters left and the pattern is non-special character\r\n                if (strippedValue[j] == undefined) {\r\n                    if(i+1 >= l || charSet.charAt(i+1).match(\".*[\"+ mNum + mChar + \"].*\") || e.keyCode == 8){\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (e.target.getAttribute(\"data-valid-example\")) {\r\n                return validateProgress(e, newValue);\r\n            }\r\n            return newValue;\r\n        },\r\n  \r\n        validateProgress = function(e, value) {\r\n            var validExample = e.target.getAttribute(\"data-valid-example\"),\r\n                pattern = new RegExp(e.target.getAttribute(\"pattern\")),\r\n                placeholder = e.target.getAttribute(\"data-placeholder\"),\r\n                l = value.length, testValue = \"\";\r\n  \r\n            //convert to months\r\n            if (l == 1 && placeholder.toUpperCase().substr(0,2) == \"MM\") {\r\n                if(value > 1 && value < 10) {\r\n                    value = \"0\" + value;\r\n                }\r\n                return value;\r\n            }\r\n            // test the value, removing the last character, until what you have is a submatch\r\n            for (var i = l; i >= 0; i--) {\r\n                testValue = value + validExample.substr(value.length);\r\n                if (pattern.test(testValue)) {\r\n                    return value;\r\n                } else {\r\n                    value = value.substr(0, value.length-1);\r\n                }\r\n            }\r\n  \r\n            return value;\r\n        };\r\n\r\n    // add event listeners\r\n    // init\r\n    if (!(stringInputMask in element)) {\r\n        var parentNode = element.parentNode;\r\n        element.value ? hasValue = true: hasValue = false;\r\n        if (!charSet){\r\n            throw new Error(\"Data charset is missing or invalid\");\r\n        }\r\n        if(!charSet.charAt(0).match(\".*[\"+ mNum + mChar + \"].*\")){\r\n            while(!charSet.charAt(cursorMin).match(\".*[\"+ mNum + mChar + \"].*\")){\r\n                cursorMin++;\r\n            }\r\n        }\r\n        if ( !parentNode || !parentNode.classList.contains(prefix + \"input-shell\") ) {\r\n            createShell(element);\r\n            element.addEventListener(\"change\", handleValueChange, false);\r\n            element.addEventListener(\"keyup\", handleValueChange, false);\r\n            if (spacing > 0) {\r\n                element.addEventListener(\"focus\", handleFocusEvent, false);\r\n            }\r\n        }\r\n    }\r\n\r\n    element[stringInputMask] = self;\r\n}","import { prefix, debounce, jsonOptionsInit, getFullScreenOverlay, validateNum, uicoreCustomEvent, each, getFocusableElements, getClosest, isIE, isEdge, isFirefox, DOC, createElement, globalObject} from \"./utilities.js\";\r\nimport InputMask from \"./helpers/inputMask.js\";\r\n\r\nexport function Spinbox(element, options) {\r\n\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.spinmin = element.dataset.spinmin ? validateNum(element.dataset.spinmin, 0) : validateNum(options.spinmin, 0);\r\n    options.spindefault = element.dataset.spindefault ? validateNum(element.dataset.spindefault, 0) : validateNum(options.spindefault, 0);\r\n    options.spinmax = element.dataset.spinmax ? validateNum(element.dataset.spinmax, 100) : validateNum(options.spinmax, 100);\r\n    options.spinstep = element.dataset.spinstep ? validateNum(element.dataset.spinstep, 1) : validateNum(options.spinstep, 1);\r\n\r\n    var msg= \"\";\r\n    if (isNaN(options.spinmin)) {\r\n        msg += \"Min value is not a number.\\n\";\r\n    }\r\n    if (isNaN(options.spinmax)) {\r\n        msg += \"Max value is not a number.\\n\";\r\n    }\r\n    if (isNaN(options.spindefault)) {\r\n        msg += \"Default value is not a number.\\n\";\r\n    } else if (options.spindefault < options.spinmin || options.spindefault > options.spinmax) {\r\n        msg += \"Default value falls outside of the min max values.\\n\";\r\n    }\r\n    if (isNaN(options.spinstep)) {\r\n        msg += \"Step value is not a number.\\n\";\r\n    }\r\n    if (msg.length) {\r\n        throw new Error(msg);\r\n    }\r\n    \r\n    var self = this,\r\n        stringSpinbox = \"Spinbox\",\r\n        input,\r\n        plusCtrl,\r\n        minusCtrl,\r\n        // horizontal,\r\n        // handlers\r\n        handleKeypressEvent = debounce(function(e) {\r\n            var charCode = (e.which) ? e.which : e.keyCode;\r\n            // if not a number\r\n            if ( input.value.length > options.spinmax.length || (charCode > 31 && (charCode < 48 || charCode > 57))) {\r\n                if (charCode == 13){\r\n                    input.blur();\r\n                }\r\n                else if (input.value.length == 0 && (options.spinmin < 0 && charCode == 45)) { // allow minus when input empty and spinmin less than zero\r\n                    return;\r\n                } else {\r\n                    e.preventDefault();\r\n                }\r\n            } else {\r\n                var newInput = input.value;\r\n                if (parseInt(newInput) > options.spinmax) {\r\n                    input.value = options.spinmax;\r\n                    input.setAttribute(\"aria-valuenow\", options.spinmax);\r\n                    e.preventDefault();\r\n                } else if (parseInt(newInput) < options.spinmin) {\r\n                    input.value = options.spinmin;\r\n                    input.setAttribute(\"aria-valuenow\", options.spinmin);\r\n                    e.preventDefault();\r\n                } else {\r\n                    if (input.value == \"-\" && e.charCode == 48) { // dont allow -0\r\n                        e.preventDefault();\r\n                    } else {\r\n                        if (charCode == 13) { // Enter key\r\n                            if (Math.abs(parseInt(input.value)) % options.spinstep > 0) {\r\n                                input.value = parseInt(input.value) - (Math.abs(parseInt(input.value)) % options.spinstep);\r\n                            }\r\n                            input.blur();\r\n                        } else {\r\n                            input.setAttribute(\"aria-valuenow\", input.value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, 500),\r\n        handleCtrlClickEvent = function(e, control) {\r\n            var temp;\r\n            if (control === minusCtrl) {\r\n                temp = parseInt(input.value) - options.spinstep;\r\n            } else {\r\n                temp = parseInt(input.value) + options.spinstep;\r\n            }\r\n            if (!(temp < options.spinmin) && !(temp > options.spinmax)) {\r\n                input.value = temp;\r\n                input.setAttribute(\"aria-valuenow\", temp);\r\n                handleDisabling();\r\n                uicoreCustomEvent(\"Spinbox\", \"ValueChangeEvent\", element, {\"value\": input.value});\r\n            }\r\n        },\r\n        handleDisabling = function() {\r\n            if (input.value == options.spinmin || (parseInt(input.value) - options.spinstep) < options.spinmin) {\r\n                minusCtrl.setAttribute(\"disabled\", \"\");\r\n            } else if (minusCtrl.hasAttribute(\"disabled\")) {\r\n                minusCtrl.removeAttribute(\"disabled\");\r\n            }\r\n            if (input.value == options.spinmax || (parseInt(input.value) + options.spinstep) > options.spinmax) {\r\n                plusCtrl.setAttribute(\"disabled\", \"\");\r\n            } else if (plusCtrl.hasAttribute(\"disabled\")) {\r\n                plusCtrl.removeAttribute(\"disabled\");\r\n            }\r\n        },\r\n        handleFocusOut = function() {\r\n            // if input is empty, negative, or NaN\r\n            if (input.value.length == 0 || input.value == \"-\" || !(/^\\d+$/.test(input.value))) {\r\n                input.value = options.spindefault;\r\n            } else if (parseInt(input.value) < options.spinmin) {\r\n                input.value = options.spinmin;\r\n            } else if (parseInt(input.value) > options.spinmax) {\r\n                input.value = options.spinmax;\r\n            } else if (Math.abs(parseInt(input.value)) % options.spinstep > 0) {\r\n                input.value = parseInt(input.value) - (Math.abs(parseInt(input.value)) % options.spinstep);\r\n            } else if(input.value.match(/^0+/g)) {\r\n                var match = input.value.match(/^0+/g);\r\n                var temp = input.value.replace(match,\"\");\r\n                if (temp.length == 0) {\r\n                    input.value = \"0\";\r\n                } else {\r\n                    input.value = temp;\r\n                }\r\n            }\r\n            handleDisabling();\r\n            uicoreCustomEvent(\"Spinbox\", \"ValueChangeEvent\", element, {\"value\": input.value});\r\n\r\n        },\r\n        handleArrowEvent = function(e) {\r\n            switch (e.keyCode) {\r\n            case 35: // end\r\n                e.preventDefault();\r\n                input.value = options.spinmax;\r\n                uicoreCustomEvent(\"Spinbox\", \"ValueChangeEvent\", element, {\"value\": input.value});\r\n                break;\r\n            case 36: // home\r\n                e.preventDefault();\r\n                input.value = options.spinmin;\r\n                uicoreCustomEvent(\"Spinbox\", \"ValueChangeEvent\", element, {\"value\": input.value});\r\n                break;\r\n            case 38: // up\r\n                e.preventDefault();\r\n                if (input.value.length) {\r\n                    plusCtrl.click();\r\n                } else {\r\n                    input.value = options.spinmin + options.spinstep;\r\n                    input.setAttribute(\"aria-valuenow\", input.value);\r\n                    uicoreCustomEvent(\"Spinbox\", \"ValueChangeEvent\", element, {\"value\": input.value});\r\n                }\r\n                break;\r\n            case 40: // down\r\n                e.preventDefault();\r\n                minusCtrl.click();\r\n                break;\r\n            case 37: // left\r\n            case 39: // right \r\n                e.preventDefault(); \r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n        };\r\n\r\n    // init\r\n    if (!(stringSpinbox in element)) {\r\n        input = element.querySelector(\".\" + prefix + \"spinbox-input\");\r\n        input.addEventListener(\"keypress\", handleKeypressEvent);\r\n        input.addEventListener(\"keyup\", handleDisabling);\r\n        input.addEventListener(\"focusout\", handleFocusOut);\r\n        element.addEventListener(\"keydown\", handleArrowEvent);\r\n\r\n        input.value = options.spindefault;\r\n        input.setAttribute(\"aria-valuenow\", options.spindefault);\r\n        input.setAttribute(\"aria-valuemin\", options.spinmin);\r\n        input.setAttribute(\"aria-valuemax\", options.spinmax);\r\n\r\n        var controls = element.querySelectorAll(\"button.\" + prefix + \"spinbox-btn\");\r\n        if (element.classList.contains(prefix + \"spinbox-horizontal\")) {// horizontal spinbox\r\n            // horizontal = true;\r\n            minusCtrl = controls[0];\r\n            plusCtrl = controls[1];\r\n        } else {\r\n            // horizontal = false;\r\n            minusCtrl = controls[1];\r\n            plusCtrl = controls[0];\r\n        }\r\n\r\n        minusCtrl.addEventListener(\"click\", function(e) {\r\n            handleCtrlClickEvent(e, minusCtrl);\r\n        });\r\n        plusCtrl.addEventListener(\"click\", function(e) {\r\n            handleCtrlClickEvent(e, plusCtrl);\r\n        });\r\n        handleDisabling();\r\n    }\r\n\r\n\r\n    element[stringSpinbox] = self;\r\n}\r\n\r\nexport function DatePicker(element, options) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n    \r\n    // set option\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.datesFilter = options.datesFilter ? options.datesFilter : false;\r\n    options.pastDates = options.pastDates ? options.pastDates : false;\r\n    options.availableWeekDays = options.availableWeekDays ? options.availableWeekDays : [{day: \"monday\"},{day: \"tuesday\"},{day: \"wednesday\"},{day: \"thursday\"},{day: \"friday\"},{day: \"saturday\"},{day: \"sunday\"}];\r\n    options.notBeforeDate = options.notBeforeDate ? new Date(options.notBeforeDate) : null;\r\n    options.notAfterDate = options.notAfterDate ? new Date(options.notAfterDate) : null;\r\n    options.button_prev = options.button_prev ? options.button_prev : null; \r\n    options.button_next = options.button_next ? options.button_next : null; \r\n\r\n    var self = this,\r\n        stringDatePicker = \"DatePicker\",\r\n        calendarBtn = element.querySelector(\".\" + prefix + \"datepicker-btn\"),\r\n        target = element[\"getAttribute\"](\"data-target\"),\r\n        dateInput = element.querySelector(\".\" + prefix + \"form-control\"),\r\n        calendar = element.querySelector(target),\r\n        pickerBtn = element.querySelector(\".\" + prefix + \"datepicker-btn\"),\r\n        form = null,\r\n        monthEl = null,\r\n        focusableEls,\r\n        currentSelected,\r\n        overlay = getFullScreenOverlay(),\r\n        smallMedia = window.matchMedia(\"(max-width: 767.98px)\"),\r\n        calendarWrapper,\r\n        tempSelected = new Date(),\r\n        todaysDate = new Date(),\r\n        monthLabel = null,\r\n        datePtr = new Date(),\r\n        monthsTexts = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n        keyCode = Object.freeze({\r\n            \"TAB\": 9,\r\n            \"ENTER\": 13,\r\n            \"ESC\": 27,\r\n            \"SPACE\": 32,\r\n            \"PAGEUP\": 33,\r\n            \"PAGEDOWN\": 34,\r\n            \"END\": 35,\r\n            \"HOME\": 36,\r\n            \"LEFT\": 37,\r\n            \"UP\": 38,\r\n            \"RIGHT\": 39,\r\n            \"DOWN\": 40\r\n        }),\r\n        setFocusableElements = function() {\r\n            focusableEls = getFocusableElements(calendar);\r\n        },\r\n        toggleCalendar = function() {\r\n            if (calendar.classList.contains(prefix + \"d-none\")) {\r\n                calendar.classList.remove(prefix + \"d-none\");\r\n                calendarWrapper.classList.remove(prefix+\"hide\");\r\n                if (smallMedia.matches) createOverlay();\r\n                repositionIfNeeded();\r\n                globalObject.addEventListener(\"resize\", toggleCalendar);\r\n                //check if calendar is within confines of page\r\n                var dateText = dateInput.value;\r\n                if (dateText && dateInput.validity.valid && checkDateValidity(new Date(dateText))) {\r\n                    currentSelected = new Date(dateText);\r\n                    tempSelected = new Date(dateText);\r\n                    if (datePtr.getFullYear() != currentSelected.getFullYear()) {\r\n                        datePtr.setFullYear(currentSelected.getFullYear());\r\n                    }\r\n                    if (datePtr.getMonth() != currentSelected.getMonth()) {\r\n                        datePtr.setMonth(currentSelected.getMonth());\r\n                    }\r\n                    createMonth();\r\n                    var newDateElem = element.querySelector(\"[data-calendar-date=\\\"\" + currentSelected + \"\\\"]\");\r\n                    if(!newDateElem.classList.contains(prefix + \"datepicker-date-disabled\")) {\r\n                        newDateElem.classList.add(prefix + \"datepicker-date-selected\");\r\n                        var nextBtn = newDateElem.querySelector(\".\" + prefix + \"datepicker-calendar-day\");\r\n                        nextBtn.removeAttribute(\"tabindex\");\r\n                        nextBtn.focus();\r\n                    }\r\n                    tempSelected = new Date(currentSelected.getTime());\r\n                }\r\n                else {\r\n                    resetToDefaultDate();\r\n                }\r\n                calendar.addEventListener(\"focusout\", blurHandler, false);\r\n            } else {\r\n                calendar.classList.add(prefix + \"d-none\");\r\n                calendarWrapper.classList.add(prefix+\"hide\");\r\n                globalObject.removeEventListener(\"resize\", toggleCalendar);\r\n                removeActiveClass();\r\n                pickerBtn.focus();\r\n                calendar.removeEventListener(\"focusout\", blurHandler, false);\r\n                removeOverlay();\r\n            }\r\n        },\r\n        createWrapper = function() {\r\n            var wrapper = createElement(\"div\", {\r\n                class: prefix + \"calendar-wrapper \" + prefix + \"hide\"\r\n            });\r\n            calendar.parentNode.appendChild(wrapper);\r\n            wrapper.appendChild(calendar);\r\n            return wrapper;\r\n        },\r\n        repositionIfNeeded = function() {\r\n            //right+left checking\r\n            calendar.style.right = \"\";\r\n            calendar.style.top = \"\";\r\n            if (calendar.getBoundingClientRect().right > document.body.offsetWidth) {\r\n                calendar.style.right = (document.body.offsetWidth - calendarBtn.getBoundingClientRect().right) +\"px\";\r\n            }\r\n\r\n            //vertical+horizontal checking\r\n            if (calendar.getBoundingClientRect().bottom > window.innerHeight) {\r\n                var dist = calendar.getBoundingClientRect().bottom - window.innerHeight - window.pageYOffset;\r\n                calendar.style.top = calendar.getBoundingClientRect().top - dist - 4 + \"px\"; //4px buffer as to not directly hug browser frame\r\n            }\r\n        },\r\n        blurHandler = function() {\r\n            setTimeout( function() {\r\n                if(calendar && !calendar.contains(document.activeElement) && !calendarBtn.contains(document.activeElement)) {\r\n                    toggleCalendar();\r\n                    calendarBtn.focus();\r\n                }\r\n            }, 10);\r\n        },\r\n        getWeekDay = function (day) {\r\n            return [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"][day];\r\n        },  \r\n        createDay = function (date) {\r\n            var isAvailable = true;\r\n            var newDayElem = document.createElement(\"div\");\r\n            var dateElem = document.createElement(\"button\");\r\n            dateElem.setAttribute(\"tabindex\", \"-1\");\r\n            dateElem.setAttribute(\"type\", \"button\");\r\n            dateElem.innerHTML = date.getDate();\r\n            dateElem.addEventListener(\"keydown\", dateKeydownHandler, false);\r\n            dateElem.className = prefix + \"datepicker-calendar-day\";\r\n            newDayElem.className = prefix + \"datepicker-date\";\r\n            newDayElem.setAttribute(\"data-calendar-date\", date);\r\n            \r\n            var available_week_day = options.availableWeekDays.filter(function(f) {\r\n                return (f.day === date.getDay() || f.day === getWeekDay(date.getDay()));\r\n            });\r\n            if (date.getMonth() != datePtr.getMonth()) {\r\n                newDayElem.classList.add(prefix + \"datepicker-date-outdated\");\r\n            }\r\n            if (datePtr.getTime() <= todaysDate.getTime() - 1 && !options.pastDates) {\r\n                newDayElem.classList.add(prefix + \"datepicker-date-disabled\");\r\n                dateElem.setAttribute(\"disabled\", \"\");\r\n            } else {\r\n                if (options.datesFilter) {\r\n                    if (options.notBeforeDate && date <= options.notBeforeDate) {\r\n                        isAvailable = false;\r\n                    }\r\n                    if (options.notAfterDate && date > options.notAfterDate) {\r\n                        isAvailable = false;\r\n                    }\r\n                    if (available_week_day.length && isAvailable) {\r\n                        newDayElem.classList.add(prefix + \"datepicker-date-active\");\r\n                        newDayElem.setAttribute(\"data-calendar-data\", JSON.stringify(available_week_day[0]));\r\n                        newDayElem.setAttribute(\"data-calendar-status\", \"active\");\r\n                    } else {\r\n                        newDayElem.classList.add(prefix + \"datepicker-date-disabled\");\r\n                        dateElem.setAttribute(\"disabled\", \"\");\r\n                    }\r\n                } else {\r\n                    newDayElem.classList.add(prefix + \"datepicker-date-active\");\r\n                    newDayElem.setAttribute(\"data-calendar-status\", \"active\");\r\n                }\r\n            }\r\n            //set current selected date\r\n            if (currentSelected && date.toString() == currentSelected.toString() && !newDayElem.classList.contains(prefix + \"datepicker-date-disabled\")) {\r\n                newDayElem.classList.add(prefix + \"datepicker-date-selected\");\r\n        \r\n            }\r\n            //if textbox is empty \r\n            if (date.toString() == tempSelected.toString() && !newDayElem.classList.contains(prefix + \"datepicker-date-disabled\")) {\r\n                newDayElem.classList.add(prefix + \"datepicker-date-temp-selected\");\r\n                dateElem.removeAttribute(\"tabindex\");\r\n            }\r\n            //add date to the calendar\r\n            newDayElem.appendChild(dateElem);\r\n            monthEl.appendChild(newDayElem);\r\n        },\r\n        createOverlay = function () {\r\n            DOC.body.style.overflow = \"hidden\";\r\n            if (overlay && !(overlay.classList.contains(prefix + \"show\"))) {\r\n                overlay.classList.add(prefix + \"show\");\r\n                overlay.removeAttribute(\"hidden\");\r\n                if( overlay.style.visibility == \"hidden\"){\r\n                    overlay.style.visibility = \"\";\r\n                }\r\n            } else {\r\n                console.warn(\"MODAL: Overlay requested. Corresponding HTML missing. Please apply id 'dds__full-screen-overlay' and class 'dds__overlay' to an empty div\");\r\n            }\r\n\r\n        },\r\n        removeOverlay = function () {\r\n            DOC.body.style.overflow = \"\";\r\n            if (overlay) {\r\n                overlay.classList.remove(prefix + \"show\");\r\n            }\r\n        },\r\n        removeActiveClass = function () {\r\n            each(element.querySelectorAll(\".\" + prefix + \"datepicker-date-selected\"), function(day) {\r\n                day.classList.remove(prefix + \"datepicker-date-selected\");\r\n            });\r\n        },\r\n        removeTempClass = function() {\r\n            each(element.querySelectorAll(\".\" + prefix + \"datepicker-date-temp-selected\"), function(day) {\r\n                day.classList.remove(prefix + \"datepicker-date-temp-selected\");\r\n                day.firstElementChild.setAttribute(\"tabindex\", \"-1\");\r\n            });\r\n        },\r\n        resetToDefaultDate = function() {\r\n            currentSelected = null;\r\n            var defaultDate = getNearestAvailableDay(new Date(options.defaultDate));\r\n            todaysDate = getNearestAvailableDay(todaysDate);\r\n            tempSelected = new Date(defaultDate.getTime());\r\n            if (datePtr.getFullYear() != tempSelected.getFullYear()) {\r\n                datePtr.setFullYear(tempSelected.getFullYear());\r\n            }\r\n            if (datePtr.getMonth() != tempSelected.getMonth()) {\r\n                datePtr.setMonth(tempSelected.getMonth());\r\n            }\r\n            createMonth();\r\n            var newDateElem = element.querySelector(\"[data-calendar-date=\\\"\" + tempSelected + \"\\\"]\");\r\n            newDateElem.classList.add(prefix + \"datepicker-date-temp-selected\");\r\n            var nextBtn = newDateElem.querySelector(\".\" + prefix + \"datepicker-calendar-day\");\r\n            nextBtn.removeAttribute(\"tabindex\");\r\n            nextBtn.focus();\r\n        },\r\n        selectDate = function () {\r\n            var activeDates = element.querySelectorAll(\"[data-calendar-status=active]\");\r\n            each(activeDates, function(date) {\r\n                date.addEventListener(\"click\", function () {\r\n                    removeActiveClass();\r\n                    removeTempClass();\r\n                    var datas = this.dataset;\r\n                    this.classList.add(prefix + \"datepicker-date-selected\");\r\n                    currentSelected = new Date(datas.calendarDate);\r\n                    setNewDate();\r\n                });\r\n            });\r\n        },\r\n        createMonth = function () {\r\n            clearCalendar();\r\n            var currentMonth = datePtr.getMonth();\r\n            monthLabel.innerHTML = monthsTexts[datePtr.getMonth()] + \" \" + datePtr.getFullYear();\r\n            //check to see if previous month is out of range\r\n            var monthCheckBefore = new Date(datePtr.getTime());\r\n            monthCheckBefore.setDate(monthCheckBefore.getDate() - 1); \r\n            if ((options.notBeforeDate && monthCheckBefore <= options.notBeforeDate) || (!options.pastDates && monthCheckBefore.getTime() <= todaysDate.getTime() - 1)) {\r\n                options.button_prev.classList.add(prefix + \"disabled\");\r\n                options.button_prev.setAttribute(\"disabled\", \"\");\r\n            } else {\r\n                options.button_prev.classList.remove(prefix + \"disabled\");\r\n                options.button_prev.removeAttribute(\"disabled\");\r\n            }\r\n            //add previous month days on calendar\r\n            var daysPrev = datePtr.getDay();\r\n            if(daysPrev > 0) {\r\n                for(var i=daysPrev; i>0; i--) {\r\n                    var prevDate = new Date(datePtr.getTime());\r\n                    prevDate.setDate(datePtr.getDate() - i);\r\n                    createDay(prevDate);\r\n                }\r\n            }\r\n            //add current month days onto calendar\r\n            while (datePtr.getMonth() === currentMonth) {\r\n                createDay(datePtr);\r\n                datePtr.setDate(datePtr.getDate() + 1);\r\n            }\r\n            //check to see if next month is out of range\r\n            var monthCheckAfter = new Date(datePtr.getTime());\r\n            if(options.notAfterDate && monthCheckAfter > options.notAfterDate) {\r\n                options.button_next.classList.add(prefix + \"disabled\");\r\n                options.button_next.setAttribute(\"disabled\", \"\");\r\n            } else {\r\n                options.button_next.classList.remove(prefix + \"disabled\");\r\n                options.button_next.removeAttribute(\"disabled\");\r\n            }\r\n            //add next month days onto calendar\r\n            datePtr.setDate(datePtr.getDate() - 1);\r\n            var daysAfter = 6 - datePtr.getDay();\r\n            if (daysAfter > 0) {\r\n                for(var j=1; j<=daysAfter; j++) {\r\n                    var futureDate = new Date(datePtr.getTime());\r\n                    futureDate.setDate(datePtr.getDate() + j);\r\n                    createDay(futureDate);\r\n                }\r\n            }\r\n            datePtr.setDate(1);\r\n            selectDate();\r\n            setFocusableElements();\r\n        },\r\n        monthPrev = function (e) {\r\n            if (e) {\r\n                e.preventDefault();\r\n            }\r\n            datePtr.setMonth(datePtr.getMonth() - 1);\r\n            createMonth();\r\n        },\r\n        monthNext = function (e) {\r\n            if (e) {\r\n                e.preventDefault();\r\n            }\r\n            datePtr.setMonth(datePtr.getMonth() + 1);\r\n            createMonth();\r\n        },\r\n        checkDateValidity = function(date) {\r\n            var available_week_day = options.availableWeekDays.filter(function(f) {\r\n                return (f.day === date.getDay() || f.day === getWeekDay(date.getDay()));\r\n            });\r\n            //check if valid weekday\r\n            if(available_week_day.length == 0) {\r\n                return false;\r\n            }\r\n            //check if not before\r\n            if (options.notBeforeDate && date <= options.notBeforeDate) {\r\n                return false;\r\n            }\r\n            //check if not after\r\n            if (options.notAfterDate && date > options.notAfterDate) {\r\n                return false;\r\n            }\r\n            // check if before today\r\n            if (!options.pastDates && date.getTime() <= todaysDate.getTime() - 1) {\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        clearCalendar = function () {\r\n            monthEl.innerHTML = \"\";\r\n        },\r\n        createCalendar = function () {\r\n            element.querySelector(target).innerHTML = \"<div class=\\\"dds__datepicker-header\\\"><button type=\\\"button\\\" class=\\\"dds__datepicker-nav-btn\\\" aria-label=\\\"previous month\\\" data-calendar-toggle=\\\"previous\\\"><svg focusable=\\\"false\\\" class=\\\"dds__svg-icons\\\"><use xlink:href=\\\"#dds__chevron-left\\\"></use></svg></button><div class=\\\"dds__datepicker-header__label\\\" data-calendar-label=\\\"month\\\"></div><button type=\\\"button\\\" class=\\\"dds__datepicker-nav-btn\\\" aria-label=\\\"next month\\\"data-calendar-toggle=\\\"next\\\"><svg focusable=\\\"false\\\" class=\\\"dds__svg-icons\\\"><use xlink:href=\\\"#dds__chevron-right\\\"></use></svg></button></div><div class=\\\"dds__datepicker-week\\\"></div><div class=\\\"dds__datepicker-body\\\" data-calendar-area=\\\"month\\\"></div><div class=\\\"dds__calendar-buttons\\\"></div>\";\r\n            element.querySelector(\".\" + prefix + \"datepicker-week\").innerHTML = \"<span>SUN</span><span>MON</span><span>TUE</span><span>WED</span><span>THU</span><span>FRI</span><span>SAT</span>\";\r\n            var bottomMenu = element.querySelector(\".\" + prefix + \"calendar-buttons\");\r\n            bottomMenu.innerHTML = \"<button type=\\\"button\\\" class=\\\"dds__btn dds__btn-secondary\\\" aria-label=\\\"cancel\\\">Cancel</button>\";\r\n            bottomMenu.querySelector(\".\" + prefix + \"btn-secondary\").addEventListener(\"click\", toggleCalendar, false);\r\n            bottomMenu.querySelector(\".\" + prefix + \"btn-secondary\").addEventListener(\"keydown\", buttonKeydownHandler, false);\r\n        },\r\n        setNewDate = function() {\r\n            var deliminator = \"/\";\r\n            dateInput.value = (\"0\" + (currentSelected.getMonth() + 1)).slice(-2) + deliminator + (\"0\" + currentSelected.getDate()).slice(-2) + deliminator + currentSelected.getFullYear();\r\n            var e = document.createEvent(\"Event\");\r\n            e.initEvent(\"change\", false, false);\r\n            dateInput.dispatchEvent(e);\r\n            dateInput.focus();\r\n            uicoreCustomEvent(\"DatePicker\", \"SelectedDate\", element, { \"date\": currentSelected});\r\n            toggleCalendar();\r\n        },\r\n        setNewTempDate = function(prevDate, currentDate) {\r\n            //look for the new date\r\n            tempSelected = getNextAvailableDay(prevDate, currentDate);\r\n            //remove current selected\r\n            var oldSelected = element.querySelector(\"[data-calendar-date=\\\"\" + prevDate + \"\\\"]\");\r\n            if (oldSelected) {\r\n                oldSelected.children[0].setAttribute(\"tabindex\", \"-1\");\r\n                oldSelected.classList.remove(prefix + \"datepicker-date-temp-selected\");\r\n            }\r\n            var newDateElem = element.querySelector(\"[data-calendar-date=\\\"\" + tempSelected + \"\\\"]\");\r\n            var nextBtn = newDateElem.querySelector(\".\" + prefix + \"datepicker-calendar-day\");\r\n            nextBtn.removeAttribute(\"tabindex\");\r\n            nextBtn.parentElement.classList.add(prefix + \"datepicker-date-temp-selected\");\r\n            nextBtn.focus();\r\n        },\r\n        getNextAvailableDay = function(prevDate, currentDate) {\r\n            var newDate = element.querySelector(\":not(.dds__datepicker-date-disabled):not(.dds__datepicker-date-outdated)[data-calendar-date='\" + currentDate + \"']\");\r\n            var direction = prevDate < currentDate ? 1 : -1;\r\n            //check day\r\n            if (newDate) {\r\n                return currentDate;\r\n            }\r\n            else {\r\n                //check if not before\r\n                if (options.notBeforeDate && currentDate <= options.notBeforeDate) {\r\n                    return prevDate;\r\n                }\r\n                //check if not after\r\n                if (options.notAfterDate && currentDate >= options.notAfterDate) {\r\n                    return prevDate;\r\n                }\r\n                // check if before today\r\n                if (currentDate.getTime() <= todaysDate.getTime() - 1 && !options.pastDates) {\r\n                    return prevDate;\r\n                }\r\n                if (currentDate.getMonth() != prevDate.getMonth()) {\r\n                    if (direction == 1) {\r\n                        monthNext();\r\n                    }\r\n                    if (direction == -1) {\r\n                        monthPrev(); \r\n                    }\r\n                    if (element.querySelector(\":not(.dds__datepicker-date-disabled)[data-calendar-date='\" + currentDate + \"']\")) {\r\n                        return currentDate;\r\n                    }\r\n                    else {\r\n                        prevDate = new Date (currentDate.getTime());\r\n                        currentDate.setDate(currentDate.getDate() + direction);\r\n                        return getNextAvailableDay(prevDate, currentDate);\r\n                    }\r\n                } else {\r\n                    prevDate = new Date (currentDate.getTime());\r\n                    currentDate.setDate(currentDate.getDate() + direction);\r\n                    return getNextAvailableDay(prevDate, currentDate);\r\n                }\r\n            }\r\n        },\r\n        getNearestAvailableDay = function(currentDate) {\r\n            if (checkDateValidity(currentDate)) {\r\n                return currentDate;\r\n            } else {\r\n                var nextDate = new Date(currentDate.getTime());\r\n                nextDate.setDate(nextDate.getDate() + 1);\r\n                var prevDate = new Date(currentDate.getTime());\r\n                prevDate.setDate(prevDate.getDate() - 1); \r\n                var nearestRight = getNextAvailableDay(currentDate, nextDate);\r\n                if (nearestRight.getMonth() > currentDate.getMonth()) {\r\n                    monthPrev();\r\n                    removeTempClass();\r\n                } \r\n                var nearestLeft = getNextAvailableDay(currentDate, prevDate);\r\n                if (nearestRight.getMonth() > currentDate.getMonth()) {\r\n                    return nearestLeft;\r\n                } \r\n                if (nearestLeft.getMonth() < currentDate.getMonth()) {\r\n                    monthNext();\r\n                    removeTempClass();\r\n                    return nearestRight;\r\n                }\r\n                var daysRight = Math.abs(currentDate.getDate() - nearestRight.getDate());\r\n                var daysLeft = Math.abs(currentDate.getDate() - nearestLeft.getDate());\r\n                //if getnextavailableday is not in available range\r\n                if(daysLeft == 0 && daysRight == 0) {\r\n                    var od1 = new Date(currentDate.getTime());\r\n                    var od2 = new Date(currentDate.getTime());\r\n                    while (!checkDateValidity(od1) && !checkDateValidity(od2)) {\r\n                        if(od1.getMonth() == currentDate.getMonth()) {\r\n                            od1.setDate((od1.getDate()-1));\r\n                        }\r\n                        if (od2.getMonth() == currentDate.getMonth()) {\r\n                            od2.setDate((od2.getDate()+1));\r\n                        }\r\n                    }\r\n                    if (checkDateValidity(od1)) {\r\n                        return od1;\r\n                    } else{\r\n                        return od2;\r\n                    }\r\n                } else if (daysLeft == 0) {\r\n                    return nearestRight;\r\n                } else if (daysRight == 0) {\r\n                    return nearestLeft;\r\n                } else if(daysRight < daysLeft) {\r\n                    return nearestRight;\r\n                } else {\r\n                    return nearestLeft;\r\n                }\r\n            }\r\n        },\r\n        dateKeydownHandler = function(e) {\r\n            var prevSelected = new Date (tempSelected.getTime());\r\n            switch (e.keyCode) {\r\n            case keyCode.UP: // up key\r\n                e.preventDefault();\r\n                tempSelected.setDate(tempSelected.getDate() - 7);\r\n                setNewTempDate(prevSelected, tempSelected);\r\n                break;\r\n            case keyCode.DOWN: // down key\r\n                e.preventDefault();\r\n                tempSelected.setDate(tempSelected.getDate() + 7);\r\n                setNewTempDate(prevSelected, tempSelected);\r\n                break;\r\n            case keyCode.LEFT: // left key\r\n                e.preventDefault();\r\n                tempSelected.setDate(tempSelected.getDate() - 1);\r\n                setNewTempDate(prevSelected, tempSelected);\r\n                break;\r\n            case keyCode.RIGHT: // right key\r\n                e.preventDefault();\r\n                tempSelected.setDate(tempSelected.getDate() + 1);\r\n                setNewTempDate(prevSelected, tempSelected);\r\n                break;\r\n            case keyCode.ESC: // esc key\r\n                var oldSelected = element.querySelector(\".\" + prefix + \"datepicker-date-selected\");\r\n                if (oldSelected) {\r\n                    oldSelected.classList.remove(prefix + \"datepicker-date-selected\");\r\n                    oldSelected.children[0].setAttribute(\"tabindex\", \"-1\");\r\n                }\r\n                toggleCalendar();\r\n                break;\r\n            case keyCode.TAB: // tab key\r\n                if ( focusableEls.length === 1 ) {\r\n                    e.preventDefault();\r\n                    break;\r\n                }\r\n                if ( e.shiftKey ) {\r\n                    if ( document.activeElement === focusableEls[0] ) {\r\n                        e.preventDefault();\r\n                        focusableEls[ focusableEls.length - 1 ].focus();\r\n                    }\r\n                } else {\r\n                    if ( document.activeElement === focusableEls[ focusableEls.length - 1 ] ) {\r\n                        e.preventDefault();\r\n                        focusableEls[0].focus();\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        },\r\n        buttonKeydownHandler = function(e) {\r\n            switch (e.keyCode) {\r\n            case keyCode.ESC: // esc key\r\n                toggleCalendar();\r\n                break;\r\n            case keyCode.TAB: // tab key\r\n                if ( focusableEls.length === 1 ) {\r\n                    e.preventDefault();\r\n                    break;\r\n                }\r\n                if ( e.shiftKey ) {\r\n                    if ( document.activeElement === focusableEls[0] ) {\r\n                        e.preventDefault();\r\n                        focusableEls[ focusableEls.length - 1 ].focus();\r\n                    }\r\n                } else {\r\n                    if ( document.activeElement === focusableEls[ focusableEls.length - 1 ] ) {\r\n                        e.preventDefault();\r\n                        focusableEls[0].focus();\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        },\r\n        inputHandler = function() {\r\n            if(checkDateValidity(new Date(dateInput.value)) && getComputedStyle(errorMsg).display == \"block\") {\r\n                errorMsg.style.display = \"none\";\r\n                dateInput.setCustomValidity(\"\");\r\n            } else if ((!checkDateValidity(new Date(dateInput.value)))) {\r\n                if (!isEdge || (isEdge && calendar.classList.contains(prefix + \"d-none\") && document.activeElement !== calendarBtn)) {\r\n                    toggleCalendar();\r\n                }\r\n                if (getComputedStyle(errorMsg).display == \"none\") {\r\n                    errorMsg.style.display = \"block\";\r\n                    dateInput.setCustomValidity(\"Invalid Date\");\r\n                }\r\n            }\r\n        },\r\n        submitHandler = function(event) {\r\n            var formValidationErrorSuffix = \"Feedback\";\r\n            if (form.checkValidity() === false) {\r\n                each(form, function(el) {\r\n                    if(el.tagName == \"INPUT\") {\r\n                        var errorMsg = form.querySelector(\"#\"+ el.getAttribute(\"id\")+formValidationErrorSuffix);\r\n                        setTimeout(function() {\r\n                            if (el.classList.contains(\"dds__datepicker-input\")) {\r\n                                if (checkDateValidity(new Date(el.value))) {\r\n                                    el.setCustomValidity(\"\");\r\n                                } else {\r\n                                    el.setCustomValidity(\"Invalid Date\");\r\n                                }\r\n                            }\r\n                            if (!el.validity.valid) {\r\n                                //if error message has not been turned on yet\r\n                                if(errorMsg && !(getComputedStyle(errorMsg)[\"display\"] == \"block\")){\r\n                                    errorMsg.style.display = \"block\";\r\n                                }\r\n                                el.setAttribute(\"aria-invalid\", \"true\");\r\n                                el.setAttribute(\r\n                                    \"aria-describedby\",\r\n                                    el.getAttribute(\"id\") + formValidationErrorSuffix\r\n                                );\r\n                            } else {\r\n                                //if error message has not been turned off yet\r\n                                if(errorMsg && (getComputedStyle(errorMsg)[\"display\"] == \"block\")){\r\n                                    errorMsg.style.display = \"none\";\r\n                                } \r\n                                el.setAttribute(\"aria-invalid\", \"false\");\r\n                                el.setAttribute(\"aria-describedby\", \"\");\r\n                            }\r\n                        }, 10);\r\n                    }\r\n                });\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n\r\n            form.classList.add(\"dds__was-validated\");\r\n        };\r\n    //public functions\r\n    this.init = function () {\r\n        createCalendar();\r\n        options.button_prev = document.querySelector(target + \" [data-calendar-toggle=previous]\");\r\n        options.button_next = document.querySelector(target + \" [data-calendar-toggle=next]\");\r\n        monthEl = document.querySelector(target + \" [data-calendar-area=month]\");\r\n        monthLabel = document.querySelector(target + \" [data-calendar-label=month]\");\r\n        datePtr.setDate(1);\r\n        createMonth();\r\n        calendarWrapper = element.querySelector(\".\"+prefix+\"calendar-wrapper\") ? element.querySelector(\".\"+prefix+\"calendar-wrapper\") : createWrapper();\r\n        options.button_prev.addEventListener(\"click\", function() {\r\n            monthPrev();\r\n            removeTempClass();\r\n            var prevMonthDate = new Date(tempSelected.getTime());\r\n            prevMonthDate.setMonth(prevMonthDate.getMonth()-1);\r\n            if (tempSelected.getMonth() === prevMonthDate.getMonth()) {\r\n                prevMonthDate.setDate(0);\r\n            }\r\n            setNewTempDate(prevMonthDate, getNearestAvailableDay(prevMonthDate));\r\n            if(!options.button_prev.classList.contains(prefix + \"disabled\")) {\r\n                options.button_prev.focus();\r\n            }\r\n        }, false);\r\n        options.button_next.addEventListener(\"click\", function() {\r\n            monthNext();\r\n            removeTempClass();\r\n            var nextMonthDate = new Date(tempSelected.getTime());\r\n            nextMonthDate.setMonth(nextMonthDate.getMonth() + 1);\r\n            if (nextMonthDate.getMonth() - tempSelected.getMonth() >= 2) {\r\n                nextMonthDate.setDate(0);\r\n            }\r\n            setNewTempDate(nextMonthDate, getNearestAvailableDay(nextMonthDate));\r\n            if(!options.button_next.classList.contains(prefix + \"disabled\")) {\r\n                options.button_next.focus();\r\n            }\r\n        }, false);\r\n        options.button_prev.addEventListener(\"keydown\", buttonKeydownHandler, false);\r\n        options.button_next.addEventListener(\"keydown\", buttonKeydownHandler, false);\r\n    };\r\n    \r\n    this.destroy = function () {\r\n        options.button_prev.removeEventListener(\"click\", monthPrev, false);\r\n        options.button_next.removeEventListener(\"click\", monthNext, false);\r\n        options.button_prev.removeEventListener(\"keydown\", buttonKeydownHandler, false);\r\n        options.button_next.removeEventListener(\"keydown\", buttonKeydownHandler, false);\r\n        clearCalendar();\r\n        document.querySelector(target).innerHTML = \"\";\r\n    };\r\n    this.reset = function () {\r\n        this.destroy();\r\n        this.init();\r\n    };\r\n    // this.set = function (options) {\r\n    //     for (var k in options) {\r\n    //         if (opts.hasOwnProperty(k)) {\r\n    //             opts[k] = options[k];\r\n    //         } \r\n    //     }\r\n    //     createMonth();\r\n    // }\r\n    if (!(stringDatePicker in element)) {\r\n        // validate options\r\n        if (calendarBtn == null) {\r\n            throw new Error(\"There was a problem found with date picker button, please correct and try again\");\r\n        }\r\n        if (target == null) {\r\n            throw new Error(\"There was a problem found with date picker target, please correct and try again\");\r\n        }\r\n        if (calendar == null) {\r\n            throw new Error(\"There was a problem found with calendar, please correct and try again\");\r\n        }\r\n        //remove time from date\r\n        datePtr.setHours(0, 0, 0, 0);\r\n        todaysDate.setHours(0, 0, 0, 0);\r\n        calendarBtn.addEventListener(\"click\", toggleCalendar, false);\r\n        if (isEdge) {\r\n            calendarBtn.addEventListener(\"click\", inputHandler, false);\r\n            dateInput.addEventListener(\"focusout\", inputHandler, false);\r\n        }\r\n        if(!dateInput.hasAttribute(\"placeholder\")){\r\n            console.warn(\"Placeholder was not set. Please set a placeholder value if you plan to use form validation. Setting to default placeholder value.\");\r\n            dateInput.setAttribute(\"placeholder\", \"__/__/____\");\r\n        }\r\n        if (dateInput) {\r\n            new InputMask(dateInput);\r\n            var errorMsg = element.querySelector(\".\" + prefix + \"invalid-feedback\");\r\n            dateInput.addEventListener(\"change\", inputHandler, false);\r\n        }\r\n        form = getClosest(element, \"FORM\", false);\r\n        form.addEventListener(\"submit\", submitHandler);\r\n        this.init();\r\n        setFocusableElements();\r\n        // //set input mask\r\n        options.defaultDate = options.defaultDate ? (checkDateValidity(new Date (options.defaultDate)) ? options.defaultDate : \"\" ) : \"\"; \r\n        if (!options.defaultDate) {\r\n            options.defaultDate = new Date();\r\n            options.defaultDate.setHours(0, 0, 0, 0);\r\n        } else {\r\n            var defaultDate = new Date (options.defaultDate);\r\n            var defaultDay = defaultDate.getDate() < 10 ? \"0\" + defaultDate.getDate() : defaultDate.getDate();\r\n            var defaultMonth = (defaultDate.getMonth() + 1) < 10 ? \"0\" + (defaultDate.getMonth() + 1) : (defaultDate.getMonth() + 1);\r\n\r\n            dateInput.setAttribute(\"value\", defaultMonth + \"/\" + defaultDay + \"/\" + defaultDate.getFullYear());\r\n            var e = document.createEvent(\"Event\");\r\n            e.initEvent(\"change\", false, false);\r\n            dateInput.dispatchEvent(e);\r\n            if (isIE || isEdge) {\r\n                element.style.display = \"none\"; //IE needs a small timeout or cursor will appear in input box\r\n                setTimeout(function() {\r\n                    dateInput.blur();\r\n                    element.style.display = \"block\";\r\n                }, 300);\r\n            }   \r\n        }\r\n    }\r\n    element[stringDatePicker] = self;\r\n}\r\n\r\nexport function BarSelect(element) {\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    var self = this,\r\n        stringBarSelect = \"BarSelect\",\r\n        selects = null,\r\n        value = 0,\r\n        clickHandler = function (e) {\r\n            var input = e.target.classList.contains(prefix + \"bar-select\") ? e.target.querySelector(\"input\") : e.target.tagName == \"LABEL\" ? e.target.previousElementSibling : e.target;\r\n            value = parseInt(input.getAttribute(\"value\"));\r\n            each(selects, function(select) {\r\n                if (parseInt(select.querySelector(\"input\").getAttribute(\"value\")) <= value) {\r\n                    select.classList.remove(prefix + \"bar-select-hover\");\r\n                    select.classList.add(prefix + \"bar-select-selected\");\r\n                } else {\r\n                    select.classList.remove(prefix + \"bar-select-hover\");\r\n                    select.classList.remove(prefix + \"bar-select-selected\");\r\n                }\r\n            });\r\n            uicoreCustomEvent(\"BarSelect\", \"SelectedValue\", element, { \"value\": value});\r\n        },\r\n        mouseOverHandler = function(e) {\r\n            var input = e.target.classList.contains(prefix + \"bar-select\") ? e.target.querySelector(\"input\") : e.target.tagName == \"LABEL\" ? e.target.previousElementSibling : e.target;\r\n            value = parseInt(input.getAttribute(\"value\"));\r\n            each(selects, function(select) {\r\n                if (parseInt(select.querySelector(\"input\").getAttribute(\"value\")) <= value) {\r\n                    select.classList.add(prefix + \"bar-select-hover\");\r\n                } else {\r\n                    select.classList.remove(prefix + \"bar-select-hover\");\r\n                }\r\n            });\r\n        },\r\n        mouseOutHandler = function() {\r\n            each(selects, function(select) {\r\n                select.classList.remove(prefix + \"bar-select-hover\");\r\n            });\r\n        },\r\n        focusHandler = function(e) {\r\n            var input = e.currentTarget.nextElementSibling;\r\n            if (!isInViewport(input)) {\r\n                input.scrollIntoView(false);\r\n            }\r\n        },\r\n        isInViewport = function(element) {\r\n            var bounding = element.getBoundingClientRect();\r\n            return (\r\n                bounding.top >= 0 &&\r\n            bounding.left >= 0 &&\r\n            bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n            bounding.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n            );\r\n        };\r\n\r\n    if (!(stringBarSelect in element)) {\r\n        selects = element.querySelectorAll(\".\" + prefix + \"bar-select\");\r\n        element.addEventListener(\"mouseout\", mouseOutHandler, false);\r\n        each(selects, function(select) {\r\n            select.addEventListener(\"click\", clickHandler, false);\r\n            select.addEventListener(\"mouseover\", mouseOverHandler, false);\r\n            if (isIE || isFirefox) {\r\n                select.querySelector(\"input\").addEventListener(\"focusin\", focusHandler, false);\r\n            }\r\n        });\r\n    }\r\n\r\n    element[stringBarSelect] = self;\r\n}","import { DOC, getElementsByClassName, prefix, uicoreCustomEvent, getTransitionDurationFromElement, each, getClosest } from \"./utilities.js\";\r\n\r\nexport function Button(element) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // constant\r\n    var self = this,\r\n        stringButton = \"Button\",\r\n        toggled = false, // toggled makes sure to prevent triggering twice the change.bs.button events\r\n        pxToMove,\r\n        btnWidth,\r\n        checked = \"checked\",\r\n        LABEL = \"LABEL\",\r\n        onEl,\r\n        offEl,\r\n        circleEl,\r\n        btnToggle,\r\n        // private methods\r\n        keyHandler = function(e) {\r\n            var key = e.which || e.keyCode;\r\n            key === 32 && e[\"target\"] === DOC.activeElement && toggle(e);\r\n        },\r\n        preventScroll = function(e) {\r\n            var key = e.which || e.keyCode;\r\n            key === 32 && e[\"preventDefault\"]();\r\n        },\r\n        toggle = function(e) {\r\n            var label =\r\n                e[\"target\"].tagName === LABEL \r\n                    ? e[\"target\"] \r\n                    : e[\"target\"][\"parentNode\"].tagName === LABEL \r\n                        ? e[\"target\"][\"parentNode\"] \r\n                        : null; // the .btn label\r\n\r\n            if (!label) return; //react if a label or its immediate child is clicked\r\n\r\n            var eventTarget = e[\"target\"], // the button itself, the target of the handler function\r\n                labels = getElementsByClassName(eventTarget[\"parentNode\"], \"btn\"), // all the button group buttons\r\n                input = label[\"getElementsByTagName\"](\"INPUT\")[0];\r\n            \r\n            if (!input) return; //return if no input found\r\n\r\n            // manage the dom manipulation\r\n            if (input.type === \"checkbox\") {\r\n                //checkboxes\r\n                if (!input[checked]) {\r\n                    label.classList.add(prefix+\"active\");\r\n                    input[\"getAttribute\"](checked);\r\n                    input[\"setAttribute\"](checked, checked);\r\n                    input[checked] = true;\r\n                } else {\r\n                    label.classList.remove(prefix+\"active\");\r\n                    input[\"getAttribute\"](checked);\r\n                    input.removeAttribute(checked);\r\n                    input[checked] = false;\r\n                }\r\n\r\n                if (!toggled) {\r\n                    // prevent triggering the event twice\r\n                    toggled = true;\r\n                    // bootstrapCustomEvent.call(input, \"change\", component); //trigger the change for the input\r\n                    // bootstrapCustomEvent.call(element, \"change\", component); //trigger the change for the btn-group\r\n                }\r\n            }\r\n\r\n            if (input.type === \"radio\" && !toggled) {\r\n                // radio buttons\r\n                if (!input[checked]) {\r\n                // don't trigger if already active\r\n                    label.classList.add(prefix+\"active\");\r\n                    input[\"setAttribute\"](checked, checked);\r\n                    input[checked] = true;\r\n                    // bootstrapCustomEvent.call(input, \"change\", component); //trigger the change for the input\r\n                    // bootstrapCustomEvent.call(element, \"change\", component); //trigger the change for the btn-group\r\n\r\n                    toggled = true;\r\n                    each(labels, function(otherLabel) {\r\n                        var otherInput = otherLabel[\"getElementsByTagName\"](\"INPUT\")[0];\r\n                        if (otherLabel !== label && otherLabel.classList[\"contains\"](prefix+\"active\")) {\r\n                            label.classList.remove(prefix+\"active\");\r\n                            otherInput.removeAttribute(checked);\r\n                            otherInput[checked] = false;\r\n                            // bootstrapCustomEvent.call(otherInput, \"change\", component); // trigger the change\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            setTimeout(function() {\r\n                toggled = false;\r\n            }, 50);\r\n        },\r\n        clickHandler = function() {\r\n            // going from on to off\r\n            if (btnToggle.getAttribute(\"aria-checked\") === \"true\") {\r\n                self.toggleOff();\r\n            // going from off to on\r\n            } else {\r\n                self.toggleOn();\r\n            }   \r\n        };\r\n    \r\n    // public methods\r\n    this.toggleOff = function() {\r\n        circleEl.style.transform = \"translateX(0px)\";\r\n        setTimeout(function(){\r\n            btnToggle.setAttribute(\"aria-checked\", \"false\");\r\n        }, (getTransitionDurationFromElement(circleEl)/2)-25);\r\n        offEl.setAttribute(\"aria-hidden\", \"false\");\r\n        onEl.setAttribute(\"aria-hidden\", \"true\");\r\n        uicoreCustomEvent(\"ButtonToggle\", \"Off\", element);\r\n    };\r\n    this.toggleOn = function() {\r\n        circleEl.style.transform = \"translateX(\" + pxToMove + \"px)\";\r\n        setTimeout(function(){\r\n            btnToggle.setAttribute(\"aria-checked\", \"true\");\r\n        }, (getTransitionDurationFromElement(circleEl)/2)-25);\r\n        offEl.setAttribute(\"aria-hidden\", \"true\");\r\n        onEl.setAttribute(\"aria-hidden\", \"false\") ;\r\n        uicoreCustomEvent(\"ButtonToggle\", \"On\", element);\r\n    };\r\n\r\n    // init\r\n    if (!(stringButton in element)) {\r\n        // prevent adding event handlers twice\r\n        if (element.classList.contains(prefix + \"btn-toggle-container\")) {\r\n            btnToggle = element.firstElementChild.tagName === \"LABEL\" ? element.querySelector(\".\" + prefix + \"btn-toggle\") : element;\r\n            \r\n            offEl = btnToggle.querySelector(\".\" + prefix + \"toggle-txt-off\");\r\n            onEl = btnToggle.querySelector(\".\" + prefix + \"toggle-txt-on\");\r\n            circleEl = btnToggle.querySelector(\".\" + prefix + \"toggle-circle\");\r\n            \r\n            if (element.firstElementChild.tagName === \"SPAN\") {\r\n                offEl.style.display=\"block\";\r\n                onEl.style.display=\"block\";\r\n                var widthOff = offEl.getBoundingClientRect().width;\r\n                var widthOn = onEl.getBoundingClientRect().width;\r\n                offEl.removeAttribute(\"style\");\r\n                onEl.removeAttribute(\"style\");\r\n                btnWidth = Math.max(widthOff, widthOn);\r\n                btnToggle.style.width = (btnWidth + 24) + \"px\";\r\n            }\r\n\r\n            pxToMove = btnToggle.getBoundingClientRect().width - 28;\r\n            \r\n            if(btnToggle.getAttribute(\"aria-checked\") === \"true\"){\r\n                circleEl.style.transform = \"translateX(\" + pxToMove + \"px)\";\r\n            }\r\n            btnToggle.style.visibility = \"visible\";\r\n            element.addEventListener(\"click\", clickHandler);\r\n        // bootstrap button js that needs to be checked on \r\n        } else {\r\n            element.addEventListener(\"click\", toggle, false);\r\n            element[\"hasAttribute\"](\"tabindex\") && \r\n            element.addEventListener(\"keyup\", keyHandler, false),\r\n            element.addEventListener(\"keydown\", preventScroll, false);\r\n    \r\n            // activate items on load\r\n            each(getElementsByClassName(element, prefix+\"btn\"), function(label) {\r\n                !label.classList[\"contains\"](prefix+\"active\") &&\r\n                label(\"hasAttribute\")(\"checked\") &&\r\n                label.classList.add(prefix+\"active\");\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    element[stringButton] = self;\r\n}\r\n\r\nexport function ButtonFilter(element) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    var stringButtonFilter = \"ButtonFilter\",\r\n        lastActiveItem = null,\r\n        inactiveFilterItem,\r\n        activeFilterItem,\r\n        // Event Handlers\r\n        focusInEventHandler = function(e) {\r\n            var filterItem = e[\"currentTarget\"];\r\n            e.preventDefault();\r\n            // Clicking or Tabbing on the active filter item\r\n            var parentFieldset = getClosest(filterItem, \"fieldset\", false);\r\n            if(filterItem == lastActiveItem || filterItem.classList.contains(prefix+\"disabled\") || parentFieldset && parentFieldset.hasAttribute(\"disabled\")){\r\n                return;\r\n            }\r\n\r\n            activeFilterItem = filterItem;\r\n            inactiveFilterItem = lastActiveItem;\r\n\r\n            if (inactiveFilterItem.label) {\r\n                inactiveFilterItem.label.classList.remove(prefix + \"active\");\r\n                activeFilterItem.label.classList.add(prefix + \"active\");\r\n            }\r\n            if (inactiveFilterItem.input) {\r\n                inactiveFilterItem.input.removeAttribute(\"checked\");\r\n                activeFilterItem.input.setAttribute(\"checked\",\"\");\r\n            }\r\n\r\n            inactiveFilterItem.classList.remove(prefix + \"active\");\r\n            activeFilterItem.classList.add(prefix + \"active\");\r\n            lastActiveItem = activeFilterItem;\r\n\r\n            // TODO\r\n            // Emit filter event typeArg: string, canBubbleArg: boolean, cancelableArg: boolean, detailArg: T\r\n            uicoreCustomEvent(\"ButtonFilter\", \"Click\", activeFilterItem.label, {\"target\": activeFilterItem.label.dataset[\"filterValue\"]});\r\n        };\r\n\r\n    if (!(stringButtonFilter in element)) {\r\n        var filterItems = element.querySelectorAll(\".\"+ prefix + \"filter-item\");\r\n        lastActiveItem = element.querySelector(\".\" + prefix + \"active\");\r\n        for (var f = 0; f < filterItems.length; f++) {\r\n            filterItems[f].addEventListener(\"focusin\", focusInEventHandler, false);\r\n            filterItems[f].label = filterItems[f].querySelector(\".\"+ prefix + \"btn-filter\");\r\n            filterItems[f].input = filterItems[f].querySelector(\".\"+ prefix + \"btn-input\");\r\n        }\r\n    }\r\n\r\n    element[stringButtonFilter] = self;\r\n}","import {each, prefix, debounce, createElement, classAdd, isArray, isIE, uicoreCustomEvent, emulateTransitionEnd, isEdge, renderSvg } from \"./utilities\";\r\n\r\nexport default function Overflow(element, options) {\r\n\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    if (element.dataset[\"type\"]) {\r\n        options.type = element.dataset[\"type\"];\r\n    }\r\n    if (element.dataset[\"position\"]) {\r\n        options.position = element.dataset[\"position\"];\r\n    }\r\n    if (element.dataset[\"top\"]) {\r\n        options.top = parseInt(element.dataset[\"top\"]);\r\n    }\r\n    if (element.dataset[\"style\"]) {\r\n        options.style = element.dataset[\"style\"];\r\n    }\r\n\r\n    options.type = options.type ? options.type : \"single\";\r\n    options.style = options.style ? options.style === \"svg\" ? options.style = \"svg\" : \"button\" : \"button\";\r\n    options.position = options.position && options.position === \"outset\" ? \"outset\" : \"inset\";\r\n    options.top = options.top && typeof(options.top) === \"number\" ? options.top : null;\r\n    options.lazyload = options.lazyload ? options.lazyload : false;\r\n    options.responsive = options.responsive ?  options.responsive : false;\r\n\r\n    var self = this,\r\n        stringOverflow = \"Overflow\",\r\n        overflowElement, // The UL container div\r\n        overflowContainer, // The UL element\r\n        overflowChildren,\r\n        overflowChildRight,\r\n        overflowChildLeft,\r\n        centered = false,\r\n        leftCtrl,\r\n        rightCtrl,\r\n        atLeftEnd = true,\r\n        atRightEnd = true,\r\n        ctrlWidth,\r\n        containerLeft,\r\n        containerRight,\r\n        centeredOffset = 0,\r\n        containerHeight = 0,\r\n        containerWidth = 0,\r\n        // handlers\r\n        handleSizeChange = function() {\r\n            if (containerWidth == overflowElement.offsetWidth) return;\r\n            if (containerHeight !== overflowChildren.children[0].offsetHeight) {\r\n                handleResize();\r\n            }\r\n            setLeftAndRightIndex();\r\n            containerWidth = overflowElement.offsetWidth;\r\n\r\n        },\r\n        handleResize = debounce(function() {\r\n            getChildrenWidth();\r\n            setLeftAndRightIndex();\r\n            addHeightStyle([leftCtrl,rightCtrl]);\r\n            if ( (Math.abs(overflowContainer.offsetLeft) + overflowContainer.offsetWidth) > overflowChildren.width) {\r\n                if(leftCtrl.hasAttribute(\"active\")){\r\n                    var currentOffset = pageRight();\r\n                    overflowContainer.style.left = currentOffset + \"px\";\r\n                }\r\n            }\r\n        }, 10),\r\n        handleClickEvent = function(e) {\r\n            var isRight = e.target.classList.contains(prefix+\"overflow-control-right\") ? true : false;\r\n            controlClick(isRight);\r\n        },\r\n        controlClick = function(isRight) {\r\n            var currentOffset = null;\r\n            if (options.type == \"single\") {\r\n                if (isRight) {\r\n                    atLeftEnd = false;\r\n                    var rightChild = overflowChildren.children[overflowChildRight+1];\r\n                    var rightElementEdge = (rightChild.offsetLeft + rightChild.offsetWidth) - (Math.abs(overflowContainer.offsetLeft) + overflowContainer.offsetWidth);\r\n                    if (overflowChildRight+1 >= (overflowChildren.children.length - 1) ) {\r\n                        atRightEnd = true;\r\n                    }\r\n                    currentOffset = (Math.abs(overflowContainer.offsetLeft) + rightElementEdge + (options.position === \"inset\" && !atRightEnd ? ctrlWidth : 0))*-1;\r\n                } else {\r\n                    atRightEnd = false;\r\n                    var leftChild = overflowChildren.children[overflowChildLeft-1];\r\n                    if (overflowChildLeft-1 === 0) {\r\n                        atLeftEnd = true;\r\n                        currentOffset = 0;\r\n                    } else {\r\n                        currentOffset = (leftChild.offsetLeft - (options.position === \"inset\" && !atLeftEnd ? ctrlWidth : 0))*-1;\r\n                    }\r\n                }\r\n            } else {\r\n                if (isRight) {\r\n                    currentOffset = pageRight();\r\n                } else {\r\n                    atRightEnd = false;\r\n                    if (overflowChildren.children[overflowChildLeft].offsetLeft < overflowContainer.offsetWidth) {\r\n                        atLeftEnd = true;\r\n                        currentOffset = 0;\r\n                    } else {\r\n                        var tabLeft = Math.abs(overflowContainer.offsetLeft) - overflowChildren.children[overflowChildLeft-1].offsetLeft;\r\n                        var contSpace = overflowContainer.offsetWidth - (options.position === \"inset\" ? ctrlWidth : 0) - overflowChildren.children[overflowChildLeft-1].offsetWidth;\r\n                        currentOffset = ( Math.abs(overflowContainer.offsetLeft) - (tabLeft + contSpace))*-1;\r\n                    }\r\n                }\r\n            }\r\n            overflowContainer.style.left = currentOffset + \"px\";\r\n            emulateTransitionEnd(overflowContainer, setLeftAndRightIndex);\r\n        },\r\n        pageRight = function() {\r\n            var rightChild;\r\n            atLeftEnd = overflowChildren.width < overflowContainer.offsetWidth ? true : false;\r\n            var currentOffset = null;\r\n            var remainder = overflowChildren.width - (Math.abs(overflowContainer.offsetLeft) + overflowContainer.offsetWidth);\r\n            if (overflowContainer.offsetWidth >= remainder) {\r\n                atRightEnd = true;\r\n                rightChild = overflowChildren.children[overflowChildren.children.length-1];\r\n                var rightElementEdge = (rightChild.offsetLeft + rightChild.offsetWidth) - (Math.abs(overflowContainer.offsetLeft) + overflowContainer.offsetWidth);\r\n                currentOffset = (Math.abs(overflowContainer.offsetLeft) + rightElementEdge)*-1;\r\n            } else {\r\n                atRightEnd = false;\r\n                rightChild = overflowChildren.children[overflowChildRight+1];\r\n                currentOffset = (rightChild.offsetLeft - (options.position === \"inset\" && !atRightEnd ? ctrlWidth : 0))*-1;\r\n            }\r\n            return currentOffset;\r\n        },\r\n        setLeftAndRightCtrl = function() {\r\n            if (atRightEnd) {\r\n                rightCtrl.removeAttribute(\"active\");\r\n                if(isIE && centered && atLeftEnd) {\r\n                    setMinimumWidth();\r\n                }\r\n            } else if (!rightCtrl.hasAttribute(\"active\") )  {\r\n                rightCtrl.setAttribute(\"active\",\"\");\r\n                if(isIE && centered) {\r\n                    overflowContainer.style.minWidth = \"\";\r\n                }\r\n            }\r\n            if (atLeftEnd) {\r\n                leftCtrl.removeAttribute(\"active\");\r\n            } else if (!leftCtrl.hasAttribute(\"active\") )  {\r\n                leftCtrl.setAttribute(\"active\",\"\");\r\n            }\r\n        },\r\n        createArrowHtml = function() {\r\n            leftCtrl = createElement(\"button\", {\r\n                class: prefix+\"overflow-control \"+prefix+\"overflow-control-left \"+(options.style === \"button\" ? prefix+\"overflow-control-btn\" : prefix+\"overflow-control-svg\"),\r\n                tabIndex: \"-1\"\r\n            });\r\n            leftCtrl.style.left = options.position === \"outset\" ? \"-8px\" : \"0px\";\r\n            leftCtrl.addEventListener(\"click\", handleClickEvent, false);\r\n            rightCtrl = createElement(\"button\", {\r\n                class: prefix+\"overflow-control \"+prefix+\"overflow-control-right \"+(options.style === \"button\" ? prefix+\"overflow-control-btn\" : prefix+\"overflow-control-svg\"),\r\n                tabIndex: \"-1\"\r\n            });\r\n            rightCtrl.style.right = options.position === \"outset\" ? \"-8px\" : \"0px\";\r\n            rightCtrl.addEventListener(\"click\", handleClickEvent, false);\r\n            if (options.top) {\r\n                rightCtrl.style.top = options.top+\"px\";\r\n                leftCtrl.style.top = options.top+\"px\";\r\n            }\r\n            var controls = [leftCtrl,rightCtrl];\r\n            if (!options.responsive) {\r\n                each(controls, function(control) {\r\n                    control.classList.add(prefix + \"overflow-unresponsive\");\r\n                });\r\n            }\r\n            addHeightStyle(controls);\r\n            \r\n            var leftSvg = renderSvg([{name:\"chevron-left\", show: true}], {\"aria-hidden\": true});\r\n            classAdd(leftSvg, prefix+\"overflow-control-left\");\r\n            var rightSvg = renderSvg([{name:\"chevron-right\", show: true}], {\"aria-hidden\": true});\r\n            classAdd(rightSvg, prefix+\"overflow-control-right\");\r\n            leftCtrl.appendChild(leftSvg);\r\n            rightCtrl.appendChild(rightSvg);\r\n            \r\n            element.insertBefore(leftCtrl, element.children[0]);\r\n            element.insertBefore(rightCtrl, element.children[1]);\r\n            setCtrlWidth();\r\n        },\r\n        getChildrenWidth = function() {\r\n            overflowChildren.width = 0;\r\n            overflowChildren.children = [];\r\n            each(overflowContainer.children, function(child) {\r\n                overflowChildren.width += child.offsetWidth+getMargin(child);\r\n                overflowChildren.children.push(child);\r\n            });\r\n            overflowChildren.width -= (isEdge ? overflowChildren.children.length - 1 : 0);\r\n        },\r\n        getMargin = function(child) {\r\n            var style = child.currentStyle || window.getComputedStyle(child),\r\n                margin;\r\n            if (isIE) {\r\n                margin = convertRemToPixels(style.getPropertyValue(\"margin-left\")) + convertRemToPixels(style.getPropertyValue(\"margin-right\"));\r\n            } else {\r\n                margin = parseInt(style.marginLeft) + parseInt(style.marginRight);\r\n            }\r\n            return margin;\r\n        },\r\n        addHeightStyle = function(els) {\r\n            if (!isArray(els)) {\r\n                els = [els];\r\n            }\r\n            each(els, function(el) {\r\n                if (options.style === \"button\") {\r\n                    el.style.height = overflowChildren.children[0].offsetHeight +\"px\";\r\n                    containerHeight = overflowChildren.children[0].offsetHeight;\r\n                }\r\n            });\r\n        },\r\n        toggleCentered = function(offSet) {\r\n            if (offSet < 0) {\r\n                if (overflowContainer.parentElement.classList.contains(prefix+\"tabs-centered-container\")) {\r\n                    overflowContainer.parentElement.classList.remove(prefix+\"tabs-centered-container\");\r\n                }\r\n                if (overflowContainer.classList.contains(prefix+\"tab-centered\")) {\r\n                    overflowContainer.classList.remove(prefix+\"tab-centered\");\r\n                }\r\n                return false;\r\n            } else {\r\n                if (!overflowContainer.parentElement.classList.contains(prefix+\"tabs-centered-container\")) {\r\n                    overflowContainer.parentElement.classList.add(prefix+\"tabs-centered-container\");\r\n                }\r\n                if (!overflowContainer.classList.contains(prefix+\"tab-centered\")) {\r\n                    overflowContainer.classList.add(prefix+\"tab-centered\");\r\n                }\r\n                overflowContainer.style.left = \"0px\"; \r\n                return true;    \r\n            }\r\n        },\r\n        setContainerLeftRight = function(useCentered, offSet) {\r\n            if (useCentered) {\r\n                containerLeft = offSet > 0 ? 0 : offSet;\r\n                containerRight = overflowElement.offsetWidth;\r\n                centeredOffset = Math.floor(offSet);\r\n            } else {\r\n                containerLeft = Math.abs(overflowContainer.offsetLeft);\r\n                containerLeft += options.position === \"inset\" && !atLeftEnd ? ctrlWidth : 0;\r\n                containerRight = containerLeft + overflowContainer.offsetWidth;\r\n            }\r\n        },\r\n        setLeftAndRightIndex = function() {\r\n            overflowChildLeft = null;\r\n            overflowChildRight = null;\r\n            var overflowChildLeftSet = false,\r\n                offSet = (overflowElement.offsetWidth - overflowChildren.width)/2,\r\n                useCentered = false;\r\n            if (centered) {\r\n                useCentered = toggleCentered(offSet);\r\n            }\r\n            setContainerLeftRight(useCentered, offSet);\r\n            each(overflowChildren.children, function(child, idx) {\r\n                var childLeft;\r\n                if (useCentered) {\r\n                    childLeft = centeredOffset + (Math.floor(overflowChildren.width/overflowChildren.children.length)*idx);\r\n                } else {\r\n                    childLeft = child.offsetLeft;\r\n                }\r\n                if (!overflowChildLeftSet && childLeft >= containerLeft) {\r\n                    overflowChildLeft = idx;\r\n                    overflowChildLeftSet = true;\r\n                }\r\n                if (childLeft+child.offsetWidth <= containerRight) {\r\n                    overflowChildRight = idx;\r\n                }\r\n            });\r\n            if (overflowChildLeft > 0 ) {\r\n                atLeftEnd = false;\r\n            } else {\r\n                atLeftEnd = true;\r\n            }\r\n            if (overflowChildRight < (overflowChildren.children.length-1)) {\r\n                atRightEnd = false;\r\n            } else {\r\n                atRightEnd = true;\r\n            }\r\n            setLeftAndRightCtrl();\r\n            uicoreCustomEvent(\"Overflow\", \"ChangeEvent\", element, {\r\n                \"left\": overflowChildLeft, \r\n                \"right\": overflowChildRight, \r\n                \"totalItems\": overflowChildren.children.length,\r\n                \"hasRightControl\": rightCtrl.hasAttribute(\"active\"),\r\n                \"hasLeftControl\": leftCtrl.hasAttribute(\"active\")\r\n            });\r\n        },\r\n        convertRemToPixels = function(rem) {  \r\n            if (rem.indexOf(\"rem\") > 0) { \r\n                rem = rem.split(\"rem\")[0];\r\n                var computed = rem * parseFloat(getComputedStyle(document.documentElement).fontSize);\r\n                if (computed < 0) {\r\n                    return Math.floor(computed);\r\n                } else {\r\n                    return Math.ceil(computed);\r\n                }\r\n            } else {\r\n                return 0;\r\n            }\r\n        },\r\n        setCtrlWidth = function() {\r\n            var style = rightCtrl.currentStyle || window.getComputedStyle(rightCtrl, null);\r\n            if (isIE) {\r\n                ctrlWidth = convertRemToPixels(style.getPropertyValue(\"width\"));\r\n            } else {\r\n                ctrlWidth = parseInt(style.getPropertyValue(\"width\").match(/^\\d.?/g)[0]);\r\n            }\r\n        },\r\n        setMinimumWidth = function() {\r\n            var width = 0;\r\n            each(overflowContainer.querySelectorAll(\"LI\"), function(child) {\r\n                width += 120+getMargin(child);\r\n            });\r\n            overflowContainer.style.minWidth = (width-5) + \"px\";\r\n        },\r\n        frameListener = function() {\r\n            handleSizeChange();\r\n            window.requestAnimationFrame(frameListener);\r\n        },\r\n        init = function(){\r\n            getChildrenWidth();\r\n            createArrowHtml();\r\n            setLeftAndRightIndex();\r\n            if (overflowChildRight < overflowChildren.children.length-1) {\r\n                rightCtrl.setAttribute(\"active\",\"\");\r\n            }\r\n            if (isIE && centered && atLeftEnd && atRightEnd) {\r\n                setMinimumWidth();\r\n            }\r\n            window.addEventListener(\"resize\", handleResize, false);\r\n            containerWidth = overflowElement.offsetWidth;\r\n            window.requestAnimationFrame(frameListener);\r\n        };\r\n    \r\n    this.lazyLoad = function() {\r\n        if (stringOverflow in element) {\r\n            init();\r\n        }\r\n    };\r\n\r\n    this.getCurrentDetails = function() {\r\n        return {\"left\": overflowChildLeft, \r\n            \"right\": overflowChildRight,\r\n            \"totalItems\": overflowChildren.children.length,\r\n            \"hasRightControl\": rightCtrl.hasAttribute(\"active\"),\r\n            \"hasLeftControl\": leftCtrl.hasAttribute(\"active\")\r\n        };\r\n    };\r\n    this.clickRight = function() {\r\n        controlClick(true);\r\n    };\r\n\r\n    this.clickLeft = function() {\r\n        controlClick(false);\r\n    };\r\n\r\n    this.clickEnd = function() {\r\n        atLeftEnd = overflowChildren.width < overflowContainer.offsetWidth ? true : false;\r\n        atRightEnd = true;\r\n        if(rightCtrl.hasAttribute(\"active\")){\r\n            overflowContainer.style.left = ((overflowChildren.width - overflowContainer.offsetWidth + (options.position === \"inset\" && !atRightEnd ? ctrlWidth : 0))*-1)+\"px\";\r\n        }\r\n        rightCtrl.removeAttribute(\"active\");\r\n        emulateTransitionEnd(overflowContainer, setLeftAndRightIndex);\r\n    };\r\n\r\n    this.clickHome = function() {\r\n        atLeftEnd = true;\r\n        atRightEnd = false;\r\n        if(leftCtrl.hasAttribute(\"active\")){\r\n            overflowContainer.style.left = \"0px\";\r\n        }\r\n        leftCtrl.removeAttribute(\"active\");\r\n        emulateTransitionEnd(overflowContainer, setLeftAndRightIndex);\r\n    };\r\n\r\n    //init\r\n    if (!(stringOverflow in element)) {\r\n        overflowElement = element;\r\n        if (element.children[0].classList.contains(prefix + \"tabs-centered-container\")) {\r\n            centered = true;\r\n        }\r\n\r\n        overflowElement.style.overflow = \"hidden\";\r\n        overflowContainer = overflowElement.querySelector(\"UL\");\r\n        overflowContainer.classList.add(prefix + \"overflow-transition\");\r\n        overflowContainer.setAttribute(\"style\",\"position: relative; flex-wrap: nowrap; white-space: nowrap; left: 0px\");\r\n        overflowChildren = {};\r\n        // Some child elements contain images so wait for page load to initialize.\r\n        if (!options.lazyload) {\r\n            init();\r\n        }\r\n        \r\n    }\r\n\r\n    element[stringOverflow] = self;\r\n}\r\n","import {getElementsByClassName,globalObject,supportTransitions,HTML,DOC,getTransitionDurationFromElement,prefix,uicoreCustomEvent, isIE, ieMosaicPolyfill, each, validateNum, getClosest, jsonOptionsInit, swipeInit, direction} from \"./utilities.js\";\r\nimport Overflow from \"./overflow.js\";\r\n\r\nexport function Carousel(element, options) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.interval = element.dataset.interval ? validateNum(element.dataset.interval, 5000) : validateNum(options.interval, 5000);\r\n    options.pause = element.dataset.pause ? element.dataset.pause === \"hover\" ? element.dataset.pause : false : options.pause === \"hover\" ? options.pause : false;\r\n    options.keyboard = element.dataset.keyboard ? element.dataset.keyboard === \"true\" ? true: false : options.keyboard === \"true\" ? true : false;\r\n    options.mosaic = false;\r\n    \r\n    // DATA API\r\n    var stringCarousel = \"Carousel\",\r\n        visibilityState = \"visible\",\r\n        smallMediaSize = window.matchMedia(\"(max-width: 767.98px)\"),\r\n        // strings\r\n        paused = \"paused\",\r\n        dataSlideTo = \"data-slide-to\",\r\n        mouseHover = \"onmouseleave\" in DOC ? [\"mouseenter\", \"mouseleave\"] : [\"mouseover\", \"mouseout\"];\r\n\r\n    // bind, event targets\r\n    var self = this,\r\n        stopAutoRotate = false,\r\n        index = (element.index = 0),\r\n        timer = (element.timer = 0),\r\n        isSliding = false, // isSliding prevents click event handlers when animation is running\r\n        slides = getElementsByClassName(element, prefix+\"carousel-item\"),\r\n        total = slides[\"length\"],\r\n        slideDirection = (this[\"direction\"] = \"left\"),\r\n        // Arrow capability\r\n        leftArrow = getElementsByClassName(\r\n            element,\r\n            prefix+\"carousel-control-prev\"\r\n        )[0],\r\n        rightArrow = getElementsByClassName(\r\n            element,\r\n            prefix+\"carousel-control-next\"\r\n        )[0],\r\n        // SVG indicators\r\n        svgIndicator = element.querySelector(\".\" + prefix+\"carousel-indicators\"),\r\n        svgIndicators = (svgIndicator && svgIndicator[\"getElementsByTagName\"](\"LI\")) || [],\r\n        // Button indicatos\r\n        btnIndicator = element.querySelector(\".\" + prefix+\"carousel-indicators-btn\"),\r\n        btnIndicators = (btnIndicator && btnIndicator[\"getElementsByTagName\"](\"LI\")) || [],\r\n        indicator = svgIndicator ? svgIndicator : btnIndicator,\r\n        indicators = svgIndicators[\"length\"] > 0 ? svgIndicators : btnIndicators;\r\n\r\n    // invalidate when not enough items\r\n    if (total < 2) {\r\n        return;\r\n    }\r\n\r\n    // handlers\r\n    var pauseHandler = function() {\r\n            if (options.interval !== false && !element.classList[\"contains\"](paused)) {\r\n                element.classList.add(paused);\r\n                !isSliding && clearTimer(timer);\r\n            }\r\n        },\r\n        resumeHandler = function() {\r\n            if (options.interval !== false && element.classList[\"contains\"](paused)) {\r\n                element.classList.remove(paused);\r\n                !isSliding && clearTimer(timer);\r\n                !isSliding && self.cycle();\r\n            }\r\n        },\r\n        indicatorHandler = function(e) {\r\n            e[\"preventDefault\"]();\r\n            if (isSliding) return;\r\n\r\n            var eventTarget = e[\"target\"]; // event target | the current active item\r\n\r\n            if (eventTarget && !eventTarget.classList[\"contains\"](prefix+\"active\") && eventTarget[\"getAttribute\"](dataSlideTo)) {\r\n                index = parseInt(eventTarget[\"getAttribute\"](dataSlideTo), 10);\r\n                stopAutoRotate = true;\r\n            } else {\r\n                return false;\r\n            }\r\n\r\n            self.slideTo(index); //Do the slide\r\n        },\r\n        controlsHandler = function(e) {\r\n            e[\"preventDefault\"]();\r\n            if (isSliding) return;\r\n\r\n            var eventTarget = e.currentTarget || e.srcElement;\r\n\r\n            if (eventTarget === rightArrow) {\r\n                index++;\r\n            } else if (eventTarget === leftArrow) {\r\n                index--;\r\n            }\r\n\r\n            self.slideTo(index); //Do the slide\r\n        },\r\n        keyHandler = function(e) {\r\n            if (isSliding) return;\r\n            switch (e.which) {\r\n            case 39: index++; break; \r\n            case 37: index--; break;\r\n            default: return;\r\n            }\r\n            self.slideTo(index); //Do the slide\r\n        },\r\n        swipeHandler =  function (el, d) {\r\n            switch (d) {\r\n            case direction.LEFT:\r\n                self.slideTo(index+1);\r\n                break;\r\n            case direction.RIGHT:\r\n                self.slideTo(index-1);\r\n                break;                    \r\n            }\r\n        },\r\n        // private methods\r\n        isElementInScrollRange = function() {\r\n            var rect = element[\"getBoundingClientRect\"](),\r\n                viewportHeight = globalObject[innerHeight] || HTML[\"clientHeight\"];\r\n            return rect[\"top\"] <= viewportHeight && rect[\"bottom\"] >= 0; // bottom && top\r\n        },\r\n        setActivePage = function(pageIndex) {\r\n            //indicators\r\n            each (indicators, function(indicator) {\r\n                indicator.classList.remove(prefix+\"active\");\r\n            });\r\n            if (indicators[pageIndex]) indicators[pageIndex].classList.add(prefix+\"active\");\r\n        },\r\n        clearTimer = function(timer) {\r\n            clearInterval(timer);\r\n            timer = null;\r\n        },\r\n        toggleMosaic = function(e) {\r\n            pauseHandler();\r\n            if (e.matches) {\r\n                stopAutoRotate = false;\r\n                element.addEventListener(mouseHover[0], pauseHandler, false);\r\n                element.addEventListener(mouseHover[1], resumeHandler, false);\r\n                element.addEventListener(\"touchstart\", pauseHandler, false);\r\n                element.addEventListener(\"touchend\", resumeHandler, false);\r\n                resumeHandler();\r\n            } else {\r\n                stopAutoRotate = true;\r\n                element.removeEventListener(mouseHover[0], pauseHandler, false);\r\n                element.removeEventListener(mouseHover[1], resumeHandler, false);\r\n                element.removeEventListener(\"touchstart\", pauseHandler, false);\r\n                element.removeEventListener(\"touchend\", resumeHandler, false);\r\n            }\r\n        };\r\n\r\n    // public methods\r\n    this.cycle = function() {\r\n        if(!stopAutoRotate) {\r\n            if (timer) {\r\n                clearTimer(timer);\r\n            }\r\n            timer = setInterval(function() {\r\n                isElementInScrollRange() && (index++, self.slideTo(index));\r\n            }, options.interval);\r\n        } else {\r\n            if (timer) {\r\n                clearTimer(timer);\r\n            }\r\n        }\r\n    };\r\n    this.slideTo = function(next) {\r\n        if (isSliding) return; // when controled via methods, make sure to check again\r\n\r\n        var activeItem = this.getActiveIndex(); // the current active\r\n        // orientation;\r\n        // chaeck to see if we need to reset carousel\r\n        \r\n        // first return if we're on the same item #227\r\n        if (activeItem === next) {\r\n            return;\r\n        }\r\n\r\n        // determine slide direction\r\n        if (activeItem < next) {\r\n            slideDirection = \"right\";\r\n        } else {\r\n            slideDirection = \"left\";\r\n        }\r\n\r\n        // find the right next index\r\n        if (next < 0) {\r\n            next = total - 1;\r\n        } else if (next >= total) {\r\n            next = 0;\r\n        }\r\n\r\n        // update index\r\n        index = next;\r\n\r\n        uicoreCustomEvent(\"Carousel\", \"SlideEvent\", element, { \"direction\": slideDirection, \"slide-to\" : next });\r\n\r\n        isSliding = true;\r\n        clearTimer(timer);\r\n        setActivePage(next);\r\n\r\n        if (supportTransitions && element.classList[\"contains\"](\"slide\")) {\r\n            // apply appropriate animation\r\n            if (slideDirection === \"right\") {\r\n                slides[next].classList.add(prefix+\"carousel-item-next\");\r\n                slides[next][\"offsetWidth\"];\r\n                slides[next].classList.add(prefix+\"carousel-item-left\");\r\n                slides[activeItem].classList.add(prefix+\"carousel-item-left\");\r\n            } else {\r\n                slides[next].classList.add(prefix+\"carousel-item-prev\");\r\n                slides[next][\"offsetWidth\"];\r\n                slides[next].classList.add(prefix+\"carousel-item-right\");\r\n                slides[activeItem].classList.add(prefix+\"carousel-item-right\");\r\n            }\r\n            var timeout = getTransitionDurationFromElement(slides[next]);\r\n\r\n            isSliding &&\r\n            setTimeout(function() {\r\n                isSliding = false;\r\n\r\n                slides[next].classList.add(prefix+\"active\");\r\n                slides[activeItem].classList.remove(prefix+\"active\");\r\n\r\n                slides[next].classList.remove(prefix+\"carousel-item-next\");\r\n                slides[next].classList.remove(prefix+\"carousel-item-prev\");\r\n                slides[next].classList.remove(prefix+\"carousel-item-left\");\r\n                slides[next].classList.remove(prefix+\"carousel-item-right\");\r\n                slides[activeItem].classList.remove(prefix+\"carousel-item-left\");\r\n                uicoreCustomEvent(\"Carousel\", \"SlideEvent\", element, { \"direction\": slideDirection, \"slide-to\" : next });\r\n                \r\n                if (!(visibilityState === \"hidden\") && options.interval && !element.classList[\"contains\"](paused)) {\r\n                    self.cycle();\r\n                } else {\r\n                    if(visibilityState === \"hidden\") {\r\n                        pauseHandler();\r\n                    }\r\n                }\r\n            }, timeout);\r\n\r\n        } else {\r\n            slides[next].classList.add(prefix+\"active\");\r\n            slides[next][\"offsetWidth\"];\r\n            slides[activeItem].classList.remove(prefix+\"active\");\r\n            setTimeout(function() {\r\n                isSliding = false;\r\n                if (options.interval && !element.classList[\"contains\"](paused)) {\r\n                    self.cycle();\r\n                }\r\n                uicoreCustomEvent(\"Carousel\", \"SlideEvent\", element, { \"direction\": slideDirection, \"slide-to\" : next });\r\n            }, 100);\r\n        }\r\n    };\r\n    this.getActiveIndex = function() {\r\n        return (\r\n            slides[\"indexOf\"](\r\n                getElementsByClassName(element, prefix+\"carousel-item\" + \" \" + prefix + \"active\")[0]\r\n            ) || 0\r\n        );\r\n    };\r\n\r\n    // init\r\n    if (!(stringCarousel in element)) {\r\n        \r\n        if (element.classList.contains(prefix + \"mosaic\")){\r\n            options.mosaic = true;\r\n        }\r\n      \r\n        DOC.addEventListener(\"visibilitychange\", function(){\r\n            if (visibilityState === \"hidden\" && document.visibilityState === \"visible\") {\r\n                resumeHandler();\r\n            }\r\n            visibilityState = document.visibilityState;\r\n        });\r\n\r\n        if (options.pause && options.interval) {\r\n            if (!options.mosaic || (options.mosaic && smallMediaSize.matches)) {\r\n                element.addEventListener(mouseHover[0], pauseHandler, false);\r\n                element.addEventListener(mouseHover[1], resumeHandler, false);\r\n                element.addEventListener(\"touchstart\", pauseHandler, false);\r\n                element.addEventListener(\"touchend\", resumeHandler, false);\r\n            } \r\n            if (options.mosaic) {\r\n                if (isIE) {\r\n                    ieMosaicPolyfill(slides);\r\n                }\r\n                if (!smallMediaSize.matches) {\r\n                    stopAutoRotate = true;\r\n                }\r\n                smallMediaSize.addListener(toggleMosaic);\r\n            }\r\n        }\r\n\r\n        swipeInit(element, swipeHandler);\r\n\r\n        rightArrow && rightArrow.addEventListener(\"click\", controlsHandler, false);\r\n        leftArrow && leftArrow.addEventListener(\"click\", controlsHandler, false);\r\n\r\n        indicator && indicator.addEventListener(\"click\", indicatorHandler, false);\r\n\r\n        if (!svgIndicator) {\r\n            each (indicators, function(indicator) {\r\n                each (indicator.children, function(childIndicator) {\r\n                    childIndicator.addEventListener(\"click\", indicatorHandler);\r\n                });\r\n                indicator.addEventListener(\"click\", indicatorHandler);\r\n            });\r\n        }\r\n\r\n        options.keyboard === true && globalObject.addEventListener(\"keydown\", keyHandler, false);\r\n        if (self.getActiveIndex() < 0) {\r\n            slides[length] && slides[0].classList.add(prefix+\"active\");\r\n            indicators[length] && setActivePage(0);\r\n        }\r\n    \r\n        if (options.interval) {\r\n            self.cycle();\r\n        }\r\n    }\r\n    element[stringCarousel] = self;\r\n}\r\n\r\nexport function FilmstripCarousel(element, options) {\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.lazyload = typeof options.lazyload === \"boolean\" ? options.lazyload : false;\r\n\r\n    var stringFilmstrip = \"Filmstrip\",\r\n        activeElement,\r\n        itemsView,\r\n        overflow = {},\r\n        overflowContainer,\r\n        // handlers\r\n        handleOverflowChange = function(e) {\r\n            overflow.detail = e.detail;\r\n            updateItemsView();\r\n        },\r\n        clickEventHandler = function(e) {\r\n            e.preventDefault();\r\n            var target = e.target;\r\n            if (target && target.parentElement.tagName === \"BUTTON\") {\r\n                target = target.parentElement;\r\n            }\r\n            if (activeElement) {\r\n                activeElement.classList.remove(prefix + \"active\");\r\n                activeElement.setAttribute(\"aria-pressed\",\"false\");\r\n            }\r\n            target.classList.add(prefix + \"active\");\r\n            target.setAttribute(\"aria-pressed\",\"true\");\r\n            activeElement = target;\r\n            // Emit filter event\r\n            uicoreCustomEvent(\"FilmstripCarousel\", \"ItemClick\", element, {\"target\": target.dataset[\"filterValue\"]});\r\n        },\r\n        updateItemsView = function() {\r\n            if(itemsView){\r\n                var rightNumber = overflow.detail.hasRightControl ? overflow.detail.right+1 : overflow.detail.totalItems,\r\n                    leftNumber = overflow.detail.hasLeftControl ? overflow.detail.left+1 : 1;\r\n                itemsView.innerHTML = \"<span>Viewing \" + (leftNumber) + (leftNumber < rightNumber ? \" - \" + (rightNumber) : \"\") + \" of \"+ overflow.detail.totalItems +\" items </span>\";\r\n            }\r\n        };\r\n\r\n    this.lazyLoad = function() {\r\n        if (options.lazyload && overflow) {\r\n            overflow.lazyLoad();\r\n            overflow.detail = overflow.getCurrentDetails();\r\n            updateItemsView();\r\n            overflowContainer.addEventListener(\"uicOverflowChangeEvent\", handleOverflowChange, false);\r\n            uicoreCustomEvent(\"FilmstripCarousel\", \"LazyLoadEvent\", element, {\"success\": true});\r\n        }\r\n        else {\r\n            uicoreCustomEvent(\"FilmstripCarousel\", \"LazyLoadEvent\", element, {\"success\": false, \"msg\": \"Carousel cannot be lazy loaded. Check usage or avoid mulitple lazy loads.\"});\r\n        }\r\n    };\r\n\r\n    // prevent adding event handlers twice\r\n    if (!(stringFilmstrip in element)) {\r\n        itemsView = element.parentElement.querySelector(\"DIV.dds__items-view\");\r\n        each(element.querySelector(\"UL\").querySelectorAll(\"LI BUTTON\"), function(el) {\r\n            if (el.classList.contains(prefix + \"active\")) {\r\n                activeElement = el;\r\n            }\r\n            el.addEventListener(\"click\", clickEventHandler, false);\r\n        });\r\n\r\n        overflowContainer = getClosest(element, \".\" + prefix + \"container-overflow\");\r\n        if (overflowContainer) {\r\n            overflow = new Overflow(overflowContainer, {\r\n                position: \"outset\",\r\n                style: \"svg\",\r\n                top: 50,\r\n                lazyload: options.lazyload\r\n            });\r\n            if (!options.lazyload) {\r\n                overflow.detail = overflow.getCurrentDetails();\r\n                updateItemsView();\r\n                overflowContainer.addEventListener(\"uicOverflowChangeEvent\", handleOverflowChange, false);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    element[stringFilmstrip] = self;\r\n\r\n}\r\n","import {uicoreCustomEvent,prefix,emulateTransitionEnd,getClosest,DOC, jsonOptionsInit} from \"./utilities.js\";\r\n\r\nexport default function Collapse(element, options) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.target = element.dataset.target ? element.dataset.target\r\n        : options.target ? options.target : element.href && element.getAttribute(\"href\") ? element.getAttribute(\"href\") : false;\r\n    options.parent = element.dataset.parent ? element.dataset.parent : options.parent ? options.parent : false;\r\n\r\n    // validate options\r\n    (function () {\r\n        if(!options.target || !(options.target.charAt(0) === \"#\")) {\r\n            throw new Error(\"There was a problem found with target value, please correct and try again\");\r\n        }\r\n    })();\r\n\r\n    // event targets and constants\r\n    var self = this,\r\n        accordion = null,\r\n        stringCollapse = \"Collapse\",\r\n        collapse = null,\r\n        activeCollapse,\r\n        activeElement,\r\n        showAllBtn,\r\n        hideAllBtn,\r\n        isClickable = true, \r\n        // private methods\r\n        openAction = function(collapseElement, toggle) {\r\n            uicoreCustomEvent(\"ShowHide\", \"ShowEvent\", collapseElement);\r\n            collapseElement.isAnimating = true;\r\n            collapseElement.classList.add(prefix + \"collapsing\");\r\n            collapseElement.classList.remove(prefix+\"collapse\");\r\n            collapseElement.style.height = collapseElement.scrollHeight + \"px\";\r\n            collapseElement.children[0].focus();\r\n            toggle.setAttribute(\"aria-expanded\", \"true\");\r\n\r\n            emulateTransitionEnd(collapseElement, function() {\r\n                if (!toggle.classList.contains(prefix+\"collapsed\")) {\r\n                    collapseElement.isAnimating = false;\r\n                    collapseElement.setAttribute(\"aria-expanded\", \"true\");\r\n                    collapseElement.classList.remove(prefix + \"collapsing\");\r\n                    collapseElement.classList.add(prefix + \"collapse\");\r\n                    collapseElement.classList.add(prefix + \"show\");\r\n                    collapseElement.style.height = \"\";\r\n                    uicoreCustomEvent(\"ShowHide\", \"Shown\", collapseElement);\r\n                }\r\n            });\r\n        },\r\n        closeAction = function(collapseElement, toggle) {\r\n            uicoreCustomEvent(\"ShowHide\", \"HideEvent\", collapseElement);\r\n            collapseElement.isAnimating = true;\r\n            collapseElement.style.height = collapseElement.scrollHeight + \"px\"; // set height first\r\n            collapseElement.classList.remove(prefix + \"collapse\");\r\n            collapseElement.classList.remove(prefix+\"show\");\r\n            collapseElement.classList.add(prefix + \"collapsing\");\r\n            collapseElement.offsetWidth; // force reflow to enable transition\r\n            collapseElement.style.height = \"0rem\";\r\n            toggle.setAttribute(\"aria-expanded\", \"false\");\r\n\r\n            emulateTransitionEnd(collapseElement, function() {\r\n                collapseElement.isAnimating = false;\r\n                collapseElement.setAttribute(\"aria-expanded\", \"false\");\r\n                collapseElement.classList.remove(prefix + \"collapsing\");\r\n                collapseElement.classList.add(prefix + \"collapse\");\r\n                collapseElement.style.height = \"\";\r\n                uicoreCustomEvent(\"ShowHide\", \"Hidden\", collapseElement);\r\n            });\r\n        },\r\n        showAll = function() {\r\n            // this function will be called by all the sub accordions individually\r\n            // thus, achieve the goal to show all\r\n            if (element.classList.contains(prefix + \"collapsed\")){\r\n                self.show();\r\n            }\r\n        },\r\n        hideAll = function() {\r\n            if (!element.classList.contains(prefix + \"collapsed\")){\r\n                self.hide();\r\n            }\r\n        }, \r\n        handleBeginShow = function() {\r\n            isClickable = false;\r\n        },\r\n        handleEndShow = function() {\r\n            isClickable = true;\r\n        };\r\n\r\n    // public methods\r\n    this.toggle = function(e) {\r\n        if (!isClickable) {\r\n            return;\r\n        }\r\n        if (e) {\r\n            e.preventDefault();\r\n        }\r\n        if (!collapse.classList.contains(prefix+\"show\")) {\r\n            self.show();\r\n        } else {\r\n            self.hide();\r\n        }\r\n    };\r\n    this.hide = function() {\r\n        if (collapse.isAnimating) return;\r\n        closeAction(collapse, element);\r\n        element.classList.add(prefix + \"collapsed\");\r\n    };\r\n    this.show = function() {\r\n        if (accordion && options.parent) {\r\n            activeCollapse = accordion.querySelector(\".\" + prefix + \"collapse\" + \".\" + prefix+\"show\")  || accordion.querySelector(\".\"+prefix+\"collapsing\");\r\n            activeElement =\r\n            activeCollapse &&\r\n            (accordion.querySelector(\"[data-toggle='\" + prefix + \"collapse\" + \"'][data-target='#\" + activeCollapse.id + \"']\") ||\r\n            accordion.querySelector(\"[data-toggle='\" +prefix + \"collapse\" + \"'][href='#\" + activeCollapse.id + \"']\"));\r\n        }\r\n\r\n        if (\r\n            !collapse.isAnimating || (activeCollapse && !activeCollapse.isAnimating)) {\r\n            if (activeElement && activeCollapse !== collapse) {\r\n                closeAction(activeCollapse, activeElement);\r\n                activeElement.classList.add(prefix + \"collapsed\");\r\n            }\r\n            openAction(collapse, element);\r\n            element.classList.remove(prefix + \"collapsed\");\r\n        }\r\n    };\r\n\r\n    // init\r\n    if (!(stringCollapse in element)) {\r\n        element.addEventListener(\"click\", self.toggle, false);\r\n\r\n        collapse = DOC.getElementById(options.target.substr(1));\r\n        if (collapse) {\r\n            collapse.isAnimating = false; //// when true it will prevent click handlers\r\n        }\r\n        accordion = options.parent && getClosest(element, options.parent)\r\n                    || getClosest(element, \".\" + prefix + \"accordion\");\r\n\r\n        if (accordion) {\r\n            var showHideAll = accordion.querySelector(\".dds__show-hide-container\");\r\n            if (showHideAll) {\r\n                showAllBtn = showHideAll.querySelector(\".dds__show-all\");\r\n                if(showAllBtn) {\r\n                    showAllBtn.addEventListener(\"click\", showAll, false);\r\n                }\r\n                hideAllBtn = showHideAll.querySelector(\".dds__hide-all\");\r\n                if(hideAllBtn) {\r\n                    hideAllBtn.addEventListener(\"click\", hideAll, false);\r\n                }\r\n            }\r\n        }\r\n        document.addEventListener(\"uicShowHideShowEvent\", handleBeginShow);\r\n        document.addEventListener(\"uicShowHideShown\", handleEndShow);\r\n    }\r\n    \r\n    element[stringCollapse] = self;\r\n\r\n}\r\n","import {prefix, uicoreCustomEvent, jsonOptionsInit} from \"./utilities.js\";\r\n\r\nexport default function ContactDrawer(element, options) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.openTime =  options.openTime ? options.openTime : 5000; // milliseconds\r\n    options.closedTime = options.closedTime ? options.closedTime : 7000;  // milliseconds\r\n    options.transitionTime = options.transitionTime ? options.transitionTime : 500;  // milliseconds\r\n\r\n    // bind, elements\r\n    var self = this,\r\n        stringContactDrawer = \"ContactDrawer\",\r\n        tab = element.querySelector(\".\" + prefix + \"drawer-tab\"),\r\n        closeButton = element.querySelector(\".\" + prefix + \"close-x\"),\r\n        content = element.querySelector(\".\" + prefix + \"drawer-content\"),\r\n        visible = true,\r\n        cancelAutomation = false;\r\n\r\n    // handlers\r\n    var clickHandler = function (e) {\r\n        e.preventDefault();\r\n        if (!cancelAutomation) {\r\n            cancelAutomation = true;\r\n        }\r\n        toggleAction();\r\n    };\r\n\r\n    // private methods\r\n    var openAction = function() {\r\n            visible = true;\r\n            element.classList.add(prefix + \"drawer-open\");\r\n            uicoreCustomEvent(\"ContactDrawer\", \"OpenEvent\", element);\r\n            content.hidden = false;\r\n            content.setAttribute(\"aria-hidden\", false);\r\n        },\r\n        closeAction = function() {\r\n            visible = false;\r\n            element.classList.remove(prefix + \"drawer-open\");\r\n            uicoreCustomEvent(\"ContactDrawer\", \"CloseEvent\", element);\r\n            setTimeout(function() {\r\n                content.hidden = true;\r\n            }, options.transitionTime);\r\n            content.setAttribute(\"aria-hidden\", true);\r\n        },\r\n        toggleAction = function() {\r\n            if (visible) {\r\n                closeAction();\r\n            } else {\r\n                openAction();\r\n            }\r\n        },\r\n        setDrawerToggleOptions =  function() {\r\n            var toggleOptionsStr = content.dataset.contactDrawer;\r\n            if (toggleOptionsStr) {\r\n                var toggleOptions = JSON.parse(toggleOptionsStr);\r\n\r\n                if (toggleOptions) {\r\n                    if (toggleOptions.OpenTimeInSeconds)\r\n                        options.openTime = toggleOptions.OpenTimeInSeconds * 1000;\r\n                    if (toggleOptions.CloseTimeInSeconds)\r\n                        options.closedTime = toggleOptions.CloseTimeInSeconds * 1000;\r\n                    if (toggleOptions.TransitionTimeInMilliseconds)\r\n                        options.transitionTime = toggleOptions.TransitionTimeInMilliseconds;\r\n                }\r\n            }\r\n        },\r\n        setTransitionTime = function() {\r\n            if (\r\n                options.transitionTime > options.openTime ||\r\n                options.transitionTime > options.closedTime\r\n            ) {\r\n                //console.warn(\"contact drawer transition time is too large\");\r\n                return;\r\n            }\r\n\r\n            if (element) {\r\n                element.style.transition = \"all \" + options.transitionTime + \"ms ease\";\r\n            }\r\n        };\r\n\r\n    // public methods\r\n    this.timerAction = function() {\r\n        if (!cancelAutomation) {\r\n            if (visible) {\r\n                closeAction();\r\n                if (options.closedTime) {\r\n                    setTimeout(function() {\r\n                        return self.timerAction();\r\n                    }, options.closedTime);\r\n                }\r\n            } else {\r\n                openAction();\r\n                if (options.openTime) {\r\n                    setTimeout(function() {\r\n                        return self.timerAction();\r\n                    }, options.openTime);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    // init\r\n    if (!(stringContactDrawer in element)) {\r\n\r\n        tab.addEventListener(\"click\", clickHandler, false);\r\n        closeButton.addEventListener(\"click\", clickHandler, false);\r\n\r\n        setDrawerToggleOptions();\r\n        setTransitionTime();\r\n    }\r\n\r\n    if(!cancelAutomation) {\r\n        self.timerAction();\r\n    }\r\n    element[stringContactDrawer] = self;\r\n}\r\n","import {prefix,uicoreCustomEvent,DOC,setFocus,createElement, each, jsonOptionsInit} from \"./utilities.js\";\r\n\r\nexport default function Dropdown(element, options) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // set option\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.persist = element.dataset.persist ? element.dataset.persist : options.persist ? options.persist : false;\r\n    // constants, event targets, strings\r\n    var self = this,\r\n        stringDropdown = \"Dropdown\",\r\n        parent = element.parentNode,\r\n        isMultiSelect = false,\r\n        relatedTarget = null,\r\n        menu = parent.querySelector(\".\"+prefix+\"button-dropdown-container\"),\r\n        menuItems,\r\n        itemsChecked,\r\n        currentText,\r\n        filters,\r\n        // preventDefault on empty anchor links\r\n        preventEmptyAnchor = function (anchor) {\r\n            if ((anchor && anchor.tagName === \"A\" && anchor.href && anchor.href.slice(-1) === \"#\") ||\r\n                (anchor && anchor.parentNode && anchor.parentNode.tagName === \"A\" && anchor.parentNode.href && anchor.parentNode.href.slice(-1) === \"#\")) {\r\n                this.preventDefault();\r\n            }\r\n        },\r\n        // toggle dismissible events\r\n        toggleDismiss = function () {\r\n            if (element.open) {\r\n                element.addEventListener(\"click\", dismissHandler, false);\r\n                element.addEventListener(\"keydown\", preventScroll, false);\r\n                menu.addEventListener(\"keydown\", preventScroll, false);\r\n                menu.addEventListener(\"click\", dismissHandler, false);\r\n                window.addEventListener(\"click\", windowClickHandler, true);\r\n            } else {\r\n                element.removeEventListener(\"click\", dismissHandler, false);\r\n                element.removeEventListener(\"keydown\", preventScroll, false);\r\n                menu.removeEventListener(\"keydown\", preventScroll, false);\r\n                menu.removeEventListener(\"click\", dismissHandler, false);\r\n                window.removeEventListener(\"click\", windowClickHandler, true);\r\n            }\r\n        },\r\n        // handlers\r\n        dismissHandler = function (e) {\r\n            var eventTarget = e.target, \r\n                hasData = eventTarget && (stringDropdown in eventTarget || stringDropdown in eventTarget.parentNode);\r\n            if ((eventTarget === menu || menu.contains(eventTarget))\r\n                && (options.persist || hasData)) {\r\n                return;\r\n            } else {\r\n                relatedTarget =\r\n                    eventTarget === element || element.contains(eventTarget)\r\n                        ? element\r\n                        : null;\r\n                \r\n                if (!eventTarget.classList.contains(prefix + \"disabled\")) {\r\n                    hide();\r\n                }\r\n            }\r\n            element.focus();\r\n            preventEmptyAnchor.call(e, eventTarget);\r\n        },\r\n        formatDisplayCount = function() {\r\n            var displayTxt;\r\n            if (itemsChecked > 0) {\r\n                displayTxt = \" (\" + itemsChecked +\")\";\r\n            } else {\r\n                displayTxt = \" \";\r\n            }\r\n            var checkedCounter = element.querySelector(\".\" + prefix + \"checked-presentation\");\r\n            if (checkedCounter != null) {\r\n                checkedCounter.innerHTML = checkedCounter.innerHTML.replace(currentText, displayTxt);\r\n                currentText = displayTxt;\r\n            } else {\r\n                checkedCounter = createElement(\"span\", {\r\n                    class: prefix + \"checked-presentation \" + prefix + \"ml-1\",\r\n                    html: displayTxt\r\n                });\r\n                currentText = checkedCounter.innerHTML;\r\n                // element.insertBefore(checkedCounter,element.querySelector(\"svg.\" + prefix + \"arrow-tri-solid-right\"));\r\n                element.querySelector(\".dds__text-truncate\").appendChild(checkedCounter);\r\n            }\r\n            \r\n        },\r\n        clickHandler = function (e) {\r\n            relatedTarget = element;\r\n\r\n            if (isMultiSelect && e.target.tagName === \"INPUT\") {\r\n                if (e.target.checked) {\r\n                    filters.push(e.target.name);\r\n                    e.target.parentElement.parentElement.setAttribute(\"aria-checked\", \"true\");\r\n                    uicoreCustomEvent(\"Dropdown\", \"AddEvent\", element, { \"filters\": filters, \"filter\": e.target.name, \"filterInput\": e.target});\r\n                } else {\r\n                    var index = filters.indexOf(e.target.name);\r\n                    filters.splice(index, 1);\r\n                    e.target.parentElement.parentElement.setAttribute(\"aria-checked\", \"false\");\r\n                    uicoreCustomEvent(\"Dropdown\", \"RemoveEvent\", element, { \"filters\": filters, \"filter\": e.target.name, \"filterInput\": e.target});\r\n                }\r\n                self.recountChecked();\r\n\r\n                // element.innerHTML = element.innerHTML.replace(currentText, displayTxt);\r\n                // currentText = displayTxt;\r\n                element.focus();\r\n            }\r\n            else if (e.target.tagName == \"BUTTON\"  || e.target.parentElement.tagName == \"BUTTON\" || e.target.parentElement.parentElement.tagName == \"BUTTON\"){\r\n                self.toggle();\r\n                preventEmptyAnchor.call(e, e.target);\r\n            }\r\n        },\r\n        preventScroll = function (e) {\r\n            var key = e.which || e.keyCode;\r\n            if (key === 38 || key === 40) {\r\n                e.preventDefault();\r\n            }\r\n        },\r\n        keyHandler = function (e) {\r\n            var key = e.which || e.keyCode,\r\n                activeItem = DOC.activeElement,\r\n                isMenuOpen = menu.classList.contains(prefix + \"show\"),\r\n                isSameElement = (activeItem === element) || (activeItem.parentNode === menu),\r\n                isInsideMenu = menu.contains(activeItem),\r\n                isMenuItem = activeItem.parentNode === menu || activeItem.parentNode.parentNode === menu;\r\n\r\n            if ((isMenuItem) || (isMenuOpen && isSameElement)) {\r\n                // checking element with enter or spacebar\r\n                if (isInsideMenu && (key === 13 || key === 32)) {\r\n                    activeItem.firstElementChild.click();\r\n                }\r\n\r\n                // navigate up | down\r\n                var idx = menuItems.indexOf(activeItem);\r\n                idx = \r\n                    key === 38\r\n                        ? idx >= 1 \r\n                            ? idx - 1 \r\n                            : 0 \r\n                        : key === 40 \r\n                            ? idx < menuItems.length - 1 \r\n                                ? idx + 1 \r\n                                : menuItems.length - 1\r\n                            : idx;\r\n                menuItems[idx] && setFocus(menuItems[idx]);\r\n            }\r\n            if (\r\n                ((menuItems.length && isMenuItem) || // menu has items\r\n                    (!menuItems.length && (isInsideMenu || isSameElement)) || // menu might be a form\r\n                    !isInsideMenu) && // or the focused element is not in the menu at all\r\n                element.open &&\r\n                key === 27 // menu must be open\r\n            ) {\r\n                self.toggle();\r\n                relatedTarget = null;\r\n                element.focus();\r\n            }\r\n            if (!isMenuOpen && !isMenuItem && (key === 40|| key === 13 || key === 32)) { //if menu is closed and hit enter or space on arrow btn, open menu and set focus to first item\r\n                e.preventDefault();\r\n                self.toggle();\r\n                menuItems[0] && setFocus(menuItems[0]);\r\n                relatedTarget = null;\r\n            }\r\n            if (isMenuOpen && (key === 9 || (e.shiftKey && e.keyCode == 9))) { //if menu is open then close menu on tab\r\n                e.preventDefault();\r\n                self.toggle();\r\n                element.focus();\r\n            }\r\n            \r\n        },\r\n        // private methods\r\n        show = function () {\r\n            if (element.classList.contains(prefix + \"btn-split-arrow\")) {\r\n                menu.style.minWidth = parent.offsetWidth+\"px\";\r\n            } else if (element.classList.contains(prefix + \"btn\")) {\r\n                menu.style.minWidth = element.offsetWidth +\"px\";\r\n            }\r\n            uicoreCustomEvent(\"DropDown\", \"ShowEvent\", element);\r\n            menu.classList.add(prefix + \"show\");\r\n            parent.classList.add(prefix + \"show\");\r\n            element.setAttribute(\"aria-expanded\", true);\r\n            uicoreCustomEvent(\"DropDown\", \"Shown\", element);\r\n            element.open = true;\r\n\r\n            setTimeout(function () {\r\n                toggleDismiss();\r\n            }, 100);\r\n        },\r\n        hide = function () {\r\n            uicoreCustomEvent(\"DropDown\", \"HideEvent\", element);\r\n            menu.classList.remove(prefix + \"show\");\r\n            parent.classList.remove(prefix + \"show\");\r\n            element.setAttribute(\"aria-expanded\", false);\r\n            uicoreCustomEvent(\"DropDown\", \"Hidden\", element);\r\n            element.open = false;\r\n\r\n            setTimeout(function () {\r\n                toggleDismiss();\r\n                element.addEventListener(\"click\", clickHandler, false);\r\n            }, 100);\r\n        },\r\n        focusOutHandler = function(e) {\r\n            var target = e.relatedTarget ? e.relatedTarget : e.target ? e.target : DOC.activeElement;\r\n            if(!(e.currentTarget.contains(target))) {\r\n                if(e.currentTarget.classList.contains(prefix + \"btn-dropdown\")) {\r\n                    relatedTarget = parent = e.currentTarget;\r\n                } else {\r\n                    relatedTarget = parent = e.currentTarget.parentNode;\r\n                }\r\n            } else {\r\n                return;\r\n            }\r\n            hide();\r\n            preventEmptyAnchor.call(e, relatedTarget);\r\n        },\r\n        windowClickHandler = function(e) {\r\n            if (!parent.contains(e.target) || parent === e.target){\r\n                hide();\r\n                preventEmptyAnchor.call(e, relatedTarget);\r\n            }\r\n        };\r\n\r\n    // public methods\r\n    this.toggle = function () {\r\n        if (parent.classList.contains(prefix + \"show\") && element.open) {\r\n            hide();\r\n        } else {\r\n            show();\r\n        }\r\n    };\r\n\r\n    this.recountChecked = function() {\r\n        itemsChecked = element.parentElement.querySelectorAll(\".\" + prefix + \"form-check-input:checked\").length;\r\n        formatDisplayCount();\r\n    };\r\n\r\n    // init\r\n    if (!(stringDropdown in element)) {\r\n        // set initial state to closed\r\n        element.open = false;\r\n        // prevent adding event handlers twice\r\n        !(\"tabIndex\" in menu) && menu.setAttribute(\"tabindex\", \"0\"); // Fix onblur on Chrome | Safari\r\n        element.addEventListener(\"click\", clickHandler, false);\r\n        parent.addEventListener(\"focusout\", focusOutHandler, true);\r\n        element.addEventListener(\"keydown\", keyHandler, false);\r\n        menu.addEventListener(\"keydown\", keyHandler, false);\r\n        if (element.parentElement.classList.contains(\"dds__multi-select\")){\r\n            isMultiSelect = true;\r\n        }\r\n\r\n        var dropdownEls = menu.children;\r\n        menuItems = [];\r\n        each (dropdownEls, function(dropdownEl) {\r\n            if (dropdownEl.children.length && dropdownEl.children[0].tagName === \"LI\" && !dropdownEl.children[0].firstElementChild.classList.contains(prefix + \"disabled\")) {\r\n                menuItems.push(dropdownEl.children[0]);\r\n            } \r\n            else if (dropdownEl.tagName === \"LI\" && !dropdownEl.firstElementChild.classList.contains(prefix + \"disabled\")) {\r\n                menuItems.push(dropdownEl);\r\n            }        \r\n        });\r\n        if (isMultiSelect){\r\n            each (menuItems, function(menuItem) {\r\n                menuItem.firstElementChild.addEventListener(\"click\", clickHandler, true);\r\n            });\r\n            itemsChecked = 0;\r\n            filters = [];\r\n        }\r\n    }\r\n\r\n    element[stringDropdown] = self;\r\n}\r\n","import { DOC,emulateTransitionEnd, getFocusableElements, getFullScreenOverlay, getTransitionDurationFromElement, prefix,supportTransitions,uicoreCustomEvent, isSafari , isIOS, each, setFocus, jsonOptionsInit, getClosest} from \"./utilities.js\";\r\n\r\nexport default function Modal(element, options) {\r\n    // element can be the modal/triggering button\r\n\r\n    // the modal (both JavaScript / DATA API init) / triggering button element (DATA API)\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.static = options.backdrop === \"static\" ? true : false;\r\n    options.target = element.dataset.target ? DOC.getElementById(element.dataset[\"target\"].substr(1)) : \r\n        options.target ? DOC.getElementById(options.target.substr(1)) : null;\r\n    // validate options\r\n    (function () {\r\n        if (options.target == null || options.target === \"\") {\r\n            throw new Error(\"There was a problem found with target value, please correct and try again\");\r\n        }\r\n    });\r\n    // determine modal, triggering element\r\n    var self = this,\r\n        stringModal = \"Modal\",\r\n        focusableEls,\r\n        header,\r\n        origRightPadding,\r\n        scrollbarWidth,\r\n        modalElement = options.target,\r\n        overlayDelay,\r\n        overlay = getFullScreenOverlay(),\r\n        // private methods\r\n        setFocusableElements = function() {\r\n            focusableEls = getFocusableElements(modalElement);\r\n            modalElement.firstFocusableEl = focusableEls[0];\r\n            modalElement.lastFocusableEl = focusableEls[ focusableEls.length - 1 ];\r\n\r\n        },\r\n        focusFirstDescendant = function () {\r\n            if (modalElement.loading) {\r\n                //if loading indicator modal- trap focus so can't tab out\r\n                modalElement.focus();\r\n            } else {\r\n                setFocusableElements();\r\n                if (focusableEls.length > 0)  {\r\n                    //if there is something to focus\r\n                    setFocus(focusableEls[0]);\r\n                }\r\n            }\r\n        },\r\n        handleKeyDown = function(e) {\r\n\r\n            if (!modalElement.loading) {\r\n                setFocusableElements();\r\n\r\n                var KEY_TAB = 9;\r\n                var KEY_ESC = 27;\r\n\r\n                // For loading modal which has no focusable elements\r\n                if(focusableEls.length == 0){\r\n                    e.preventDefault();\r\n                }\r\n\r\n                switch(e.keyCode) {\r\n                case KEY_TAB:\r\n                    if ( focusableEls.length === 1 ) {\r\n                        e.preventDefault();\r\n                        break;\r\n                    }\r\n                    if ( e.shiftKey ) {\r\n                        handleBackwardTab(e);\r\n                    } else {\r\n                        handleForwardTab(e);\r\n                    }\r\n                    break;\r\n                case KEY_ESC: self.hide(); break;\r\n                default:\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        handleBackwardTab = function (e) {\r\n            if ( document.activeElement === modalElement.firstFocusableEl ) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.lastFocusableEl);\r\n            }\r\n            if (header) focusVisibilityHandler();\r\n        },\r\n        handleForwardTab = function (e) {\r\n            if (header) focusVisibilityHandler();\r\n\r\n            if ( document.activeElement === modalElement.lastFocusableEl ) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.firstFocusableEl);\r\n            }\r\n        },\r\n        createOverlay = function() {\r\n            if (overlay && !(overlay.classList.contains(prefix + \"show\"))) {\r\n                overlayDelay = getTransitionDurationFromElement(overlay);\r\n                overlay.classList.add(prefix + \"show\");\r\n                overlay.removeAttribute(\"hidden\");\r\n                if( overlay.style.visibility == \"hidden\"){\r\n                    overlay.style.visibility = \"\";\r\n                }\r\n            } else {\r\n                console.warn(\"MODAL: Overlay requested. Corresponding HTML missing. Please apply id 'dds__full-screen-overlay' and class 'dds__overlay' to an empty div\");\r\n            }\r\n           \r\n            if (!options.static) {\r\n                window.addEventListener(\"click\", function(e) {\r\n                    if (modalElement.classList.contains(prefix + \"show\") && e.target != modalElement && !modalElement.contains(e.target)) {\r\n                        self.hide();\r\n                    }\r\n                }, false);\r\n            }\r\n            DOC.body.style.paddingRight = (scrollbarWidth + origRightPadding) + \"px\";\r\n            DOC.body.style.overflow = \"hidden\";\r\n        },\r\n        removeOverlay = function () {\r\n            if (overlay) {\r\n                overlay.classList.remove(prefix + \"show\");\r\n                overlay.setAttribute(\"hidden\",\"\");\r\n            }\r\n            \r\n            if (!options.static) {\r\n                modalElement.removeEventListener(\"click\", function(e) {\r\n                    if (e.target == modalElement) {\r\n                        self.hide();\r\n                    }\r\n                }, false);\r\n            }\r\n            if (origRightPadding == 0) {\r\n                DOC.body.style.paddingRight = \"\";\r\n            } else {\r\n                DOC.body.style.paddingRight = origRightPadding + \"px\";\r\n            }\r\n            DOC.body.style.overflow = \"\";\r\n            if (DOC.body.style.length == 0) {\r\n                DOC.body.removeAttribute(\"style\");\r\n            }\r\n            uicoreCustomEvent(\"Modal\", \"Hidden\", modalElement);\r\n        },\r\n        keydownHandlerToggle = function () {\r\n            if (modalElement.classList.contains(prefix + \"show\")) {\r\n                DOC.addEventListener(\"keydown\", keyHandler, false);\r\n            } else {\r\n                DOC.removeEventListener(\"keydown\", keyHandler, false);\r\n            }\r\n        },\r\n        triggerShow = function () {\r\n            //resizeHandlerToggle();\r\n            keydownHandlerToggle();\r\n            setFocus(modalElement);\r\n            focusFirstDescendant();\r\n            uicoreCustomEvent(\"Modal\", \"Shown\", modalElement);\r\n        },\r\n        triggerHide = function () {\r\n            setTimeout( function() {\r\n                modalElement.style.display = \"\";\r\n            }, getTransitionDurationFromElement(modalElement));\r\n            //check if parent is dropdown, and set focus on appropriate element\r\n            var isInDropdown = getClosest(element, \".\"+prefix+\"btn-dropdown\", true);\r\n            var isInSplitBtn = isInDropdown && isInDropdown.classList.contains(prefix+\"btn-group\");\r\n            element && (isInDropdown ? (isInSplitBtn ? setFocus(isInDropdown.querySelector(\".\"+prefix +\"btn-split-arrow\")): setFocus(isInDropdown.querySelector(\".\"+prefix+\"btn\"))) : setFocus(element));\r\n        \r\n            if (modalElement.classList.contains(prefix + \"show\")) {\r\n                keydownHandlerToggle();\r\n            }\r\n        },\r\n        // handlers\r\n        clickHandler = function (e) {\r\n            if ((e.target === element || e.target.parentElement === element) && !(modalElement.classList.contains(prefix + \"show\"))) {\r\n                self.show();\r\n                e.preventDefault();\r\n            }\r\n        },\r\n        keyHandler = function (e) {\r\n            if (self.keyboard && e.which == 27 && modalElement.classList.contains(prefix + \"show\")) {\r\n                self.hide();\r\n            }\r\n        },\r\n        dismissHandler = function (e) {\r\n            if (modalElement.classList.contains(prefix + \"show\")) {\r\n                self.hide();\r\n                e.preventDefault();\r\n            }\r\n        },\r\n        focusVisibilityHandler = function () {\r\n            // minimum distance from \"to be focused\" element to the bottom of fixed header\r\n            var minDistance = header.parentElement.clientHeight;\r\n            var activeElementIdx = focusableEls.indexOf(document.activeElement);\r\n            \r\n            // handles shift tab loop, and get next element to receive focus - going back\r\n            var prevFocusableEl = activeElementIdx === 0 ? focusableEls[focusableEls.length -1] : focusableEls[activeElementIdx - 1] ;\r\n            \r\n            // handles tab loop, and get next element to receive focus - going forward \r\n            var nextFocusableEl = activeElementIdx === (focusableEls.length -1) ? focusableEls[0] : focusableEls[activeElementIdx + 1];\r\n            \r\n            if(event.shiftKey && event.keyCode === 9) {\r\n                scrollToElement(prevFocusableEl, minDistance, header);\r\n            } else if(!event.shiftKey && event.keyCode === 9) {\r\n                scrollToElement(nextFocusableEl, minDistance, header);\r\n            }\r\n        },\r\n        scrollToElement = function (element, minDistance, header) {\r\n            if((!header.contains(element)) && // prevents scroll if header will receive focus\r\n            element.getBoundingClientRect().top < minDistance) { // element is behind fixed header\r\n                \r\n                // scroll to top of \"to be focused\" element\r\n                modalElement.scrollTop = (element.getBoundingClientRect().top - (minDistance*2)) + modalElement.scrollTop;\r\n            }\r\n        };\r\n\r\n    // public methods\r\n    this.toggle = function () {\r\n        if (modalElement.classList.contains(prefix + \"show\")) {\r\n            this.hide();\r\n        } else {\r\n            this.show();\r\n        }\r\n    };\r\n    this.show = function () {\r\n        uicoreCustomEvent(\"Modal\", \"ShowEvent\", modalElement);\r\n\r\n        createOverlay();\r\n\r\n        modalElement.style.display = \"block\";\r\n\r\n        if (isSafari && isIOS) {\r\n            modalElement.classList.add(prefix + \"is-safari\");\r\n        }\r\n\r\n        setTimeout( function() {\r\n            modalElement.classList.add(prefix + \"show\");\r\n        }, 5);\r\n        modalElement.setAttribute(\"aria-hidden\", false);\r\n        modalElement.classList.contains(prefix + \"fade\")\r\n            ? emulateTransitionEnd(modalElement, triggerShow)\r\n            : triggerShow();\r\n\r\n        supportTransitions && modalElement.loading ? overlayDelay : 0;\r\n    };\r\n    this.hide = function () {\r\n        uicoreCustomEvent(\"Modal\", \"HideEvent\", modalElement);\r\n\r\n        modalElement.classList.remove(prefix + \"show\");\r\n        modalElement.setAttribute(\"aria-hidden\", true);\r\n\r\n        if (isSafari && isIOS && modalElement.classList.contains(prefix + \"is-safari\")) {\r\n            modalElement.classList.remove(prefix + \"is-safari\");\r\n        }\r\n        \r\n        setTimeout( function() {\r\n            removeOverlay();\r\n        }, getTransitionDurationFromElement(modalElement));\r\n        \r\n        modalElement.classList.contains(prefix + \"fade\")\r\n            ? emulateTransitionEnd(modalElement, triggerHide)\r\n            : triggerHide();\r\n        supportTransitions && overlay ? overlayDelay : 0;\r\n    };\r\n\r\n    //init\r\n    if (!(stringModal in element)) {\r\n        if (!modalElement) {\r\n            return false;\r\n        } else {\r\n            origRightPadding = DOC.body.style.paddingRight ? DOC.body.style.paddingRight.split(\"px\")[0] : 0;\r\n            scrollbarWidth = window.innerWidth - DOC.documentElement.clientWidth;\r\n            modalElement.loading = modalElement.classList.contains(prefix + \"loading-modal\") ? true : false;\r\n        \r\n            if (!modalElement.loading) {\r\n                element.addEventListener(\"click\", clickHandler, false);\r\n                modalElement.addEventListener(\"keydown\", handleKeyDown);\r\n                each(modalElement.querySelectorAll(\"[data-dismiss='\"+prefix+\"modal']\"), function(dissmissEl) {\r\n                    dissmissEl.addEventListener(\"click\", dismissHandler, false);\r\n                });\r\n                var modalContent = modalElement.querySelector(\".\" + prefix + \"modal-content\");\r\n                var potentialHeader = modalContent.firstElementChild;\r\n                if (potentialHeader.classList.contains(prefix + \"container-fluid\") && !potentialHeader.classList.contains(prefix + \"modal-body\")) {\r\n                    potentialHeader.firstElementChild.classList.add(prefix + \"offcanvas-modal-topbar\");\r\n                }\r\n                header = modalElement.querySelector(\".\"+prefix+\"offcanvas-modal-topbar\");\r\n\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    element[stringModal] = self;\r\n}","import { uicoreCustomEvent, prefix, debounce, createElement, getClosest, classAdd, getFocusableElements, getAnimationDurationFromElement, altFind, renderSvg, each, setFocus, ariaAnnounce} from \"./utilities\";\r\nimport Collapse from \"./collapse.js\";\r\nimport Dropdown from \"./dropdown.js\";\r\nimport Modal from \"./modal.js\";\r\n\r\nexport function FilterKeyword(element) {\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    // bind, target alert, duration and stuff\r\n    var self = this,\r\n        stringFilterKeyword = \"FilterKeyword\",\r\n        addButton,\r\n        filterInput,\r\n        filterCntr,\r\n\r\n        // handlers\r\n        handleClickEvent = function (e) {\r\n            if ((e.target == addButton || addButton.contains(e.target)) && filterInput.value.trim() != \"\") {\r\n                uicoreCustomEvent(\"FilterKeyword\", \"CreateEvent\", element, { \"filter\": filterInput.value } );\r\n                filterInput.value = \"\";\r\n                filterInput.focus();\r\n                window.removeEventListener(\"click\", clickOutHandler, true);\r\n            }\r\n        },\r\n\r\n        handleKeyEvent = debounce(function (e){\r\n            window.addEventListener(\"click\", clickOutHandler, true);\r\n            if (e.keyCode == 13){\r\n                uicoreCustomEvent(\"FilterKeyword\", \"CreateEvent\", element, { \"filter\": filterInput.value } );\r\n                filterInput.value = \"\";\r\n                filterInput.focus();\r\n            }\r\n        }, 50),\r\n\r\n        clickOutHandler = function(e)  {\r\n            if (filterCntr.contains(e.target)) {\r\n                return; \r\n            }\r\n            filterInput.value = \"\";\r\n            window.removeEventListener(\"click\", clickOutHandler, true);\r\n        };\r\n\r\n    // init\r\n    if (!(stringFilterKeyword in element)) {\r\n        addButton = element.querySelector(\".\" + prefix + \"filter-btn\");\r\n        filterInput = element.querySelector(\".\" + prefix + \"filter-input\");\r\n        filterCntr = element.querySelector(\".\" + prefix + \"filter-container\");\r\n\r\n        addButton.addEventListener(\"click\", handleClickEvent, true);\r\n        filterInput.addEventListener(\"keydown\", handleKeyEvent, false);\r\n    }\r\n\r\n    element[stringFilterKeyword] = self;\r\n\r\n}\r\n\r\nexport function FilterCollection(element) {\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    var horizontal = true;\r\n\r\n    // bind, target alert, duration and stuff\r\n    var self = this,\r\n        stringFilterCollection = \"FilterCollection\",\r\n        filterResults,\r\n        filterOffCanvasResults,\r\n        clearAllItem,\r\n        clearAllOffCanvas,\r\n        resultsLabelDesktop,\r\n        filters = [],\r\n        filtersTemp = [],\r\n        filterOffCanvas,\r\n        keywordFilter,\r\n        visibileIdx,\r\n        mediaIncrementforDropdowns,\r\n        showMoreDiv,\r\n        mobileModal,\r\n        dropdownObjects = [],\r\n        accordionObjects = [],\r\n        digit = \"digit\",\r\n        collectionInputsContainer,\r\n        dropdowns,\r\n        collectionInputs,\r\n        targetCollection,\r\n        filterCollection,\r\n        isOffCanvasState = false,\r\n        isApplyingState = false,\r\n        smallWindow,\r\n        smallMediaSize = window.matchMedia(\"(max-width: 767.98px)\"),\r\n        mediumMediaSize = window.matchMedia(\"(max-width: 991.98px)\"),\r\n\r\n        // handlers \r\n        handleAddEvent = function (e) {\r\n            if (e.type === \"uicDropdownAddEvent\" || e.type === \"uicFilterKeywordCreateEvent\") {\r\n                if(!isOffCanvasState){\r\n                    createDesktopFilterItem(e.detail.filter, e.detail.filterInput);\r\n                } else{\r\n                    createOffCanvasFilterItem(e.detail.filter, e.detail.filterInput);\r\n                }\r\n            } else {\r\n                var checkbox = e.srcElement;    \r\n                if (checkbox.tagName != \"INPUT\") {\r\n                    if (checkbox.tagName === \"SPAN\" && checkbox.previousElementSibling.tagName === \"INPUT\") {\r\n                        checkbox = checkbox.previousElementSibling;\r\n                    } else {\r\n                        checkbox = checkbox.querySelector(\"input\");\r\n                    }\r\n                }\r\n                createDesktopFilterItem(checkbox.nextElementSibling.innerText, checkbox);\r\n                if (!horizontal && \r\n                    (element.getBoundingClientRect().y && element.getBoundingClientRect().y< 0) \r\n                        || (element.getBoundingClientRect().top && element.getBoundingClientRect().top < 0 )) { //Edge FF use top, not y\r\n                    element.scrollIntoView({behavior: \"smooth\"});\r\n                }\r\n            }\r\n        },\r\n\r\n        handleClearAllEvent = function (e) {\r\n            if (e.target == clearAllOffCanvas || clearAllOffCanvas.contains(e.target) || e.target === clearAllItem || clearAllItem.contains(e.target)) {\r\n                toggleClearAllButtons(false);\r\n                ariaAnnounce(\r\n                    document.querySelector(\".\" + prefix + \"filter-btn-clear\").innerText // will say \"Clear all\"\r\n                );\r\n            } else {\r\n                ariaAnnounce(\r\n                    getClosest(e.target, \".\" + prefix + \"svg-close-x\", false).getAttribute(\"aria-label\") // will say filter-close\r\n                );\r\n            }\r\n            each(filterResults.querySelectorAll(\"button.\"+prefix + \"filter-item\"), function(filter) {\r\n                clearFilter(filter);\r\n            });\r\n            resultsLabelDesktop.classList.add(prefix + \"d-none\");\r\n            if (horizontal) { clearMultiSelects(); }\r\n            updateFiltersCount();\r\n            uicoreCustomEvent(\"FilterCollection\", \"RemoveAllEvent\", element, { \"filters\": filtersAsStrings()} );\r\n        },\r\n        \r\n        handleDesktopCheckboxClick = function (e){\r\n\r\n            if ( e.type === \"uicDropdownAddEvent\" || e.type === \"uicDropdownRemoveEvent\") {\r\n                if (e.detail.filterInput.checked === true){\r\n                    handleAddEvent(e);\r\n                }  else {\r\n                    var deselected = filterResults.querySelector(\"#\" + e.detail.filter.replace(/\\s/g, \"\").toLowerCase());\r\n                    clearFilter(deselected);\r\n                    if(filters && filters.length === 0) {\r\n                        toggleClearAllButtons(false);\r\n                        uicoreCustomEvent(\"FilterCollection\", \"RemoveAllEvent\", element, { \"filters\": filtersAsStrings()} );\r\n                    }\r\n                }\r\n            } else if (e.type === \"click\") {\r\n                e.preventDefault();\r\n                var checkbox = e.srcElement;\r\n                if (checkbox.tagName != \"INPUT\") {\r\n                    if (checkbox.tagName === \"SPAN\" && checkbox.previousElementSibling.tagName === \"INPUT\") {\r\n                        checkbox = checkbox.previousElementSibling;\r\n                    } else {\r\n                        checkbox = checkbox.querySelector(\"input\");\r\n                    }\r\n                }\r\n                if (!checkbox.hasAttribute(\"disabled\") && !checkbox.classList.contains(prefix+\"disabled\")) {\r\n                    setTimeout(function() {\r\n                        if (checkbox.checked) {\r\n                            checkbox.checked = false;\r\n                            getClosest(checkbox, \"li\", true).setAttribute(\"aria-checked\", \"false\");\r\n                        } else {\r\n                            checkbox.checked = true;\r\n                            getClosest(checkbox, \"li\", true).setAttribute(\"aria-checked\", \"true\");\r\n                        }\r\n                        if (checkbox.checked === true) {\r\n                            handleAddEvent(e); \r\n                        } else {\r\n                            var value = checkbox.name.toLowerCase();\r\n                            var deselected = filterResults.querySelector(\"[value=\\\"\" + value + \"\\\"]\");\r\n                            clearFilter(deselected);\r\n                            if(filters && filters.length === 0) {\r\n                                toggleClearAllButtons(false);\r\n                                uicoreCustomEvent(\"FilterCollection\", \"RemoveAllEvent\", element, { \"filters\": filtersAsStrings()} );\r\n                            }\r\n                        }\r\n                    },25);\r\n                }\r\n            }\r\n        },\r\n\r\n        handleFilterItemClickEvent = function (e) {\r\n            var target = e.target.classList.contains(\".\" + prefix + \"filter-item\") ? e.target : getClosest(e.target, \".\" + prefix + \"filter-item\");\r\n            if(filters.length && filters.length === 1) {\r\n                handleClearAllEvent(e);\r\n                resultsLabelDesktop.classList.add(prefix + \"d-none\");\r\n                accordionObjects[0] ? setFocus(accordionObjects[0]) : setFocus(collectionInputs[0]);\r\n            } else {\r\n                ariaAnnounce(\r\n                    getClosest(e.target, \".\" + prefix + \"svg-close-x\", false).getAttribute(\"aria-label\") // will say filter-close\r\n                );\r\n                var nextFocusableEl = target.previousElementSibling && target.previousElementSibling.classList.contains(prefix+\"filter-item\") ?\r\n                    target.previousElementSibling :\r\n                    target.nextElementSibling && target.nextElementSibling.classList.contains(prefix+\"filter-item\") ? \r\n                        target.nextElementSibling :\r\n                        accordionObjects ?\r\n                            accordionObjects[0] :\r\n                            collectionInputs[0];\r\n                setTimeout(function() {\r\n                    clearFilter(target);\r\n                    uicoreCustomEvent(\"FilterCollection\", \"RemoveEvent\", element, { \"filters\": filtersAsStrings(), \"removedFilter\": target.innerText } );\r\n                    setFocus(nextFocusableEl);\r\n                }, 50);\r\n            }\r\n        },\r\n        \r\n        handleOffCanvasApplyEvent = function () {\r\n            isApplyingState = true;\r\n            isOffCanvasState = false;\r\n            \r\n            // add label\r\n            if (filtersTemp.length > 1) {\r\n                resultsLabelDesktop.classList.remove(prefix + \"d-none\");\r\n            }\r\n            // if temp filter isn't in filters (create)\r\n            each(filtersTemp, function(filterTemp){\r\n                if (!arrayOfObjectsContains(filters, filterTemp.value.toLowerCase())) {\r\n                    var newFilter = filterTemp.cloneNode(true);\r\n                    newFilter.origin = filterTemp.origin;\r\n                    newFilter.offCanvasOrigin = filterTemp.offCanvasOrigin;\r\n                    newFilter.value = filterTemp.value;\r\n                    newFilter.addEventListener(\"click\", handleFilterItemClickEvent, false);\r\n                    horizontal ? filterResults.insertBefore(newFilter, clearAllItem) : filterResults.appendChild(newFilter);\r\n                    if(newFilter.origin){\r\n                        newFilter.origin.checked = true;\r\n                        getClosest(newFilter.origin, \"li\", true).setAttribute(\"aria-checked\", \"true\");\r\n                    }\r\n                }\r\n            });\r\n\r\n            // if filter is no longer in temp filters (delete)\r\n            each(filters.slice(), function(temp) {\r\n                if (!arrayOfObjectsContains(filtersTemp, temp.value.toLowerCase())) {\r\n                    var filterToRemove = altFind(filters, function(result) {\r\n                        return result.value === temp.value;\r\n                    });\r\n                    clearFilter(filterToRemove);\r\n                }\r\n            });\r\n            filters = filtersTemp.slice();\r\n            \r\n            // reset\r\n            isApplyingState = false;\r\n\r\n            if (filters.length > 0) {\r\n                resultsLabelDesktop.classList.remove(prefix + \"d-none\");\r\n                toggleClearAllButtons(true);\r\n            } else {\r\n                resultsLabelDesktop.classList.add(prefix + \"d-none\");\r\n                toggleClearAllButtons(false);\r\n            }\r\n\r\n            // update html filter count values\r\n            updateFiltersCount();\r\n            if (horizontal) {\r\n                each(dropdownObjects, function(dropdown) {\r\n                    dropdown.recountChecked();\r\n                });\r\n            } else {\r\n                updateVerticalDesktopAccordionCount();\r\n            }\r\n\r\n            mobileModal.hide();\r\n            uicoreCustomEvent(\"FilterCollection\", \"UpdateEvent\", element, { \"filters\": filtersAsStrings()} );\r\n        },\r\n\r\n        handleOffCanvasCancelEvent = function(){\r\n            //clear off canvas and reset to filters\r\n            handleOffCanvasClearAllEvent();\r\n            each(filters, function(filter){\r\n                if (filter.offCanvasOrigin) {\r\n                    filter.offCanvasOrigin.click();\r\n                } \r\n                else {\r\n                    createOffCanvasFilterItem(filter, filter.origin);\r\n                }\r\n            });\r\n            if (filters.length === 0) {\r\n                toggleClearAllButtons(false);\r\n            }\r\n\r\n            isOffCanvasState = false;\r\n        },\r\n\r\n        handleOffCanvasCheckboxClick = function(e){\r\n            var checkboxId = e.target.id.replace(\"OffCanvas\", \"\");\r\n            var desktopCheckbox = document.getElementById(checkboxId);\r\n            getClosest(e.target, \"li\", true).setAttribute(\"aria-checked\", e.target.checked);\r\n            if (!e.target.hasAttribute(\"disabled\") && !e.target.classList.contains(prefix+\"disabled\")) {\r\n                //create new off canvas filter\r\n                if(e.target.checked) {\r\n                    createOffCanvasFilterItem(e.target.name, desktopCheckbox);\r\n                    toggleClearAllButtons(true);\r\n                }\r\n                // remove off canvas filter\r\n                else {\r\n                    var checkboxFilter;\r\n                    var value = e.target.name.toLowerCase();\r\n                    checkboxFilter = filterOffCanvasResults.querySelector(\"[value=\\\"\" + value + \"\\\"]\");\r\n                    var currentFilter = altFind(filtersTemp, function(result) {\r\n                        var check = result.innerText.toLowerCase().replace(/\\s/g, \"\") == checkboxFilter.innerText.toLowerCase().replace(/\\s/g, \"\");\r\n                        return check;\r\n                    });\r\n                    // remove from temp array\r\n                    var index = filtersTemp.indexOf(currentFilter);\r\n                    filtersTemp.splice(index, 1);\r\n    \r\n                    if (checkboxFilter) {\r\n                        setTimeout(function() {\r\n                            filterOffCanvasResults.removeChild(checkboxFilter);\r\n                            setTimeout(function() {\r\n                                //if no more filters turn off Clear All Item\r\n                                if (self.numOfFilters(true) < 1) {\r\n                                    toggleClearAllButtons(false);\r\n                                }\r\n                            },10);\r\n                        }, 1);\r\n                    }\r\n                }\r\n                updateOffCanvasAccordionCount(e.target); //horizontal multi-selects don't have updated count at this point\r\n            }\r\n        },\r\n\r\n        handleOffCanvasClearAllClick = function () {\r\n            var focusableEls = getFocusableElements(filterOffCanvas);\r\n            // after hitting \"offcanvas\" clear all button set focus on the previous focusable element \r\n            if(focusableEls.indexOf(clearAllOffCanvas) > 0) {\r\n                focusableEls[focusableEls.indexOf(clearAllOffCanvas) - 1].focus();\r\n            }\r\n            handleOffCanvasClearAllEvent();\r\n        },\r\n\r\n        handleOffCanvasClearAllEvent = function(){\r\n            each(element.querySelectorAll(\".\" + prefix + \"modal-offcanvas input.\" + prefix + \"form-check-input\"), function(checkbox) {\r\n                checkbox.checked = false;\r\n                getClosest(checkbox, \"li\", true).setAttribute(\"aria-checked\", \"false\");\r\n                updateOffCanvasAccordionCount(checkbox);\r\n            });\r\n            each(element.querySelectorAll(\".\" + prefix + \"modal-offcanvas button.\" + prefix + \"filter-item\"), function(filter) {\r\n                filterOffCanvasResults.removeChild(filter);\r\n            });\r\n            filtersTemp = [];\r\n            toggleClearAllButtons(false);\r\n        },\r\n\r\n        handleOffCanvasFilterItemClickEvent = function(e){\r\n            var target = e.target.classList.contains(\".\" + prefix + \"filter-item\") ? e.target : getClosest(e.target, \".\" + prefix + \"filter-item\"),\r\n                currentFilter = altFind(filtersTemp, function(result) {\r\n                    return result.value.toLowerCase().replace(/\\s+/g, \"\") === target.innerText.toLowerCase().replace(/\\s+/g, \"\");\r\n                });\r\n            \r\n            // uncheck the corresponding checkbox\r\n            if (currentFilter.offCanvasOrigin) {\r\n                currentFilter.offCanvasOrigin.checked = false;\r\n                getClosest(currentFilter.offCanvasOrigin, \"li\", true).setAttribute(\"aria-checked\", \"false\");\r\n                updateOffCanvasAccordionCount(currentFilter.offCanvasOrigin);\r\n            }\r\n\r\n            // remove from temp array\r\n            var index = filtersTemp.indexOf(currentFilter);\r\n            filtersTemp.splice(index, 1);\r\n\r\n            //set focus on next element if it exists\r\n            target.nextElementSibling ? \r\n                target.nextElementSibling.focus() : \r\n                target.previousElementSibling && target.previousElementSibling.classList.contains(prefix + \"filter-item\") ?\r\n                    target.previousElementSibling.focus() :\r\n                    setFocus(getFocusableElements(filterOffCanvas)[0]);\r\n            // getFocusableElements(filterOffCanvas)[0].focus();\r\n            \r\n            // remove filter button from DOM\r\n            if (filterOffCanvasResults.contains(target)){\r\n                setTimeout(function() {\r\n                    filterOffCanvasResults.removeChild(target);\r\n                    setTimeout(function() {\r\n                        //if no more filters turn off Clear All Item\r\n                        if (self.numOfFilters(true) < 1) {\r\n                            toggleClearAllButtons(false);\r\n                        }\r\n                    },10);\r\n                }, 1);\r\n            }\r\n        },\r\n    \r\n        handleOffCanvasOpen = function() {\r\n            isOffCanvasState = true;\r\n            filtersTemp = filters.slice();\r\n        },\r\n\r\n        handleResizeSmall = function (e) {\r\n            //change vertical clear all button\r\n            if (!e.matches) {\r\n                //going from small to big\r\n                mobileModal.hide();\r\n                smallWindow = false;\r\n                if (!horizontal) {\r\n                    if (clearAllItem.classList.contains(\"dds__d-flex\")) {\r\n                        clearAllItem.classList.remove(\"dds__d-flex\");\r\n                        clearAllItem.classList.add(\"dds__d-none\");\r\n                        clearAllItem = element.querySelector(\".\"+prefix+\"filter-collector-accordion .\"+prefix+\"filter-btn-clear\");\r\n                        clearAllItem.classList.remove(\"dds__d-none\");\r\n                        clearAllItem.classList.add(\"dds__d-flex\");\r\n                    } else {\r\n                        clearAllItem = element.querySelector(\".\"+prefix+\"filter-collector-accordion .\"+prefix+\"filter-btn-clear\");\r\n                    }\r\n                    clearAllItem.addEventListener(\"click\", handleClearAllEvent, false);\r\n                    clearAllItem.addEventListener(\"touchstart\", handleClearAllEvent, false);\r\n                }\r\n            } else if (e.matches && !horizontal) {\r\n                smallWindow = true;\r\n                if (clearAllItem.classList.contains(\"dds__d-flex\")) {\r\n                    clearAllItem.classList.remove(\"dds__d-flex\");\r\n                    clearAllItem.classList.add(\"dds__d-none\");\r\n                    clearAllItem = element.querySelector(\".dds__filter-label-results .dds__filter-btn-clear\");\r\n                    clearAllItem.classList.remove(\"dds__d-none\");\r\n                    clearAllItem.classList.add(\"dds__d-flex\");\r\n                } else {\r\n                    clearAllItem = element.querySelector(\".dds__filter-label-results .dds__filter-btn-clear\");\r\n                }\r\n                clearAllItem.addEventListener(\"click\", handleClearAllEvent, false);\r\n                clearAllItem.addEventListener(\"touchstart\", handleClearAllEvent, false);\r\n            }\r\n            updateFiltersCount();\r\n        },\r\n\r\n        handleResizeMedium = function (e) {\r\n            var numOfDropdowns, rows;\r\n            if (e.matches) {\r\n                mediaIncrementforDropdowns = 3;\r\n                \r\n                rows = Math.max(Math.ceil((visibileIdx + 1) / 4), 2);\r\n                numOfDropdowns = rows * 3 - 2;\r\n                if (numOfDropdowns < dropdowns.length - 1) {\r\n                    showMoreDiv.classList.remove(prefix + \"d-none\");\r\n                }\r\n                visibileIdx = numOfDropdowns - 1;\r\n                toggleDropdown(visibileIdx);\r\n            } else {\r\n                mediaIncrementforDropdowns = 4;\r\n                if (visibileIdx === dropdowns.length) {\r\n                    return;\r\n                }\r\n                rows = Math.max(Math.ceil((visibileIdx + 1) / 3), 2);\r\n                numOfDropdowns = rows * 4 - 2;\r\n                if (numOfDropdowns > dropdowns.length - 1) {\r\n                    numOfDropdowns = dropdowns.length;\r\n                    showMoreDiv.classList.add(prefix + \"d-none\");\r\n                }\r\n                visibileIdx = numOfDropdowns - 1;\r\n                toggleDropdown(visibileIdx);\r\n            }\r\n        },\r\n\r\n        handleShowMore = function () {\r\n            visibileIdx = Math.min(visibileIdx + mediaIncrementforDropdowns, dropdowns.length - 1);\r\n            if (visibileIdx === dropdowns.length - 1) {\r\n                showMoreDiv.classList.add(prefix + \"d-none\");\r\n            }\r\n            toggleDropdown(visibileIdx);\r\n            setTimeout(function() {\r\n                setFocus(dropdowns[visibileIdx].querySelector(\".\"+prefix+\"btn-secondary\"));\r\n            },1);\r\n        },\r\n\r\n        arrayOfObjectsContains = function (arr, value) {\r\n            var results = arr.filter(function(obj) {\r\n                return obj.value === value;\r\n            });\r\n            return results.length > 0;\r\n        },\r\n\r\n        clearMultiSelects = function () {\r\n            each(collectionInputs, function(input) {\r\n                if (input.querySelector(\".\" + prefix + \"checked-presentation\")) {\r\n                    input.firstElementChild.removeChild(input.querySelector(\".\" + prefix + \"checked-presentation\"));\r\n                }\r\n\r\n                var typeofInput = input[\"getAttribute\"](\"data-filter\");\r\n                if (typeofInput == prefix + \"multi-select\") {\r\n                    var ul = input[\"getAttribute\"](\"data-target\");\r\n                    each(element.querySelector(ul).children, function(option) {\r\n                        option.setAttribute(\"aria-checked\", false);\r\n                        option.querySelector(\"input\").checked = false;\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        clearFilter = function(filter) {\r\n            if (filter === null || filter === undefined) {\r\n                return;\r\n            }\r\n\r\n            // finder filter, if found no match in the filters, return\r\n            var targetValue = filter.innerText,\r\n                results = filters.filter(function(obj) {\r\n                    targetValue = targetValue.toLowerCase().replace(/\\n/g, \"\");\r\n                    return obj.value === targetValue;\r\n                });\r\n\r\n            if (results.length < 1) {\r\n                return;\r\n            }\r\n            \r\n            // if it's a checkbox, uncheck\r\n            var deselectTarget = results[0];            \r\n            if(deselectTarget.origin.tagName === \"INPUT\" && deselectTarget.origin.checked === true){\r\n                deselectTarget.origin.checked = false;\r\n                getClosest(deselectTarget.origin, \"li\", true).setAttribute(\"aria-checked\", \"false\");\r\n            }\r\n            if(deselectTarget.offCanvasOrigin && deselectTarget.offCanvasOrigin.tagName === \"INPUT\" && deselectTarget.offCanvasOrigin.checked === true){\r\n                deselectTarget.offCanvasOrigin.checked = false;\r\n                getClosest(deselectTarget.offCanvasOrigin, \"li\", true).setAttribute(\"aria-checked\", \"false\");\r\n                updateOffCanvasAccordionCount(deselectTarget.offCanvasOrigin);\r\n            }\r\n            if (!horizontal) {\r\n                updateVerticalDesktopAccordionCount(deselectTarget.origin);\r\n            }\r\n\r\n            var value = filter.value.toLowerCase();\r\n            var index;\r\n\r\n            if (filterResults.contains(filter)) {\r\n                var filterOffCanvas;        \r\n\r\n                filterResults.removeChild(filter);\r\n                filterOffCanvas = filterOffCanvasResults.querySelector(\"[value=\\\"\" + value + \"\\\"]\");\r\n                if (filterOffCanvasResults.contains(filterOffCanvas)) {\r\n                    filterOffCanvasResults.removeChild(filterOffCanvas);\r\n                    \r\n                    //remove from filter temp\r\n                    var offCanvasFilterObj = altFind(filtersTemp, function(result) {\r\n                        return result.value === targetValue.toLowerCase().replace(/\\n/g, \"\");\r\n                    });\r\n                    index = filtersTemp.indexOf(offCanvasFilterObj);\r\n                    filtersTemp.splice(index, 1);\r\n                }\r\n            }\r\n\r\n            //if selecting an offcanvas filter\r\n            else if (filterOffCanvasResults.contains(filter) || filterResults.querySelector(\"#\" +filter.id ) != null){\r\n                // filterOffCanvasResults.removeChild(filter);\r\n                var filterDesktop = filterResults.querySelector(\"#\" +filter.id );\r\n                filterResults.removeChild(filterDesktop);\r\n            }\r\n            \r\n            index = filters.indexOf(results[0]);\r\n            filters.splice(index, 1);\r\n            if (!horizontal && \r\n                (element.getBoundingClientRect().y && element.getBoundingClientRect().y< 0) \r\n                    || (element.getBoundingClientRect().top && element.getBoundingClientRect().top < 0 )) { //Edge FF use top, not y\r\n                element.scrollIntoView({behavior: \"smooth\"});\r\n            }\r\n            if (filters.length === 0) {\r\n                toggleClearAllButtons(false);\r\n            }\r\n            // reset text (count) values in dropdowns\r\n            each(dropdownObjects, function(dropdown) {\r\n                dropdown.recountChecked();\r\n            });\r\n\r\n        },\r\n\r\n        createShowMoreButton = function(){\r\n            showMoreDiv = createElement(\"div\", {\r\n                class: prefix + \"col-xs-12 \" + prefix + \"col-sm-6 \" + prefix + \"col-md-4 \" + prefix + \"col-lg-3\",\r\n            });\r\n            var showMore = createElement(\"button\", {\r\n                class: prefix + \"filter-btn-show \" + prefix + \"btn \" + prefix + \"btn-secondary \" + prefix + \"d-flex \" + prefix + \"text-truncate\",\r\n                id: \"showMorefilters\",\r\n                html: \"Show More Filters\"\r\n            });\r\n            showMore.addEventListener(\"click\", handleShowMore, false);\r\n            showMoreDiv.appendChild(showMore);\r\n            collectionInputsContainer.appendChild(showMoreDiv);\r\n        },\r\n\r\n        createOffCanvasFilterItem = function (filterItem, origin) {\r\n            if (filterAlreadyExists(filterItem.value ? filterItem.value : filterItem, true)) {\r\n                return;\r\n            }\r\n\r\n            var filterOffCanvasItem;\r\n            var isDigit = false;\r\n            if (origin === null || origin === undefined) {\r\n                origin = \"\";\r\n            }\r\n            if (typeof filterItem === \"object\") {\r\n                // it's an object so clone it\r\n                filterOffCanvasItem = filterItem.cloneNode(true);\r\n            } else {\r\n                // id's can't have a digit as first number\r\n                if (filterItem[0].match(/\\d/)){\r\n                    filterItem = digit.concat(filterItem);\r\n                    isDigit = true;\r\n                }\r\n                filterItem = filterItem.replace(/\\s+/g,\" \").trim();\r\n                // need to create an object\r\n                filterOffCanvasItem = createFilter(filterItem, true, isDigit);\r\n            }           \r\n            if (!isApplyingState) {\r\n                filterOffCanvasItem.addEventListener(\"click\", handleOffCanvasFilterItemClickEvent, false);\r\n                filterOffCanvasResults.appendChild(filterOffCanvasItem); // DOM Add New Filter to OffCanvas\r\n            }\r\n            var filterValue = filterItem.value ? filterItem.value : filterItem.replace(/^digit/, \"\") ;\r\n            if (isOffCanvasState){\r\n                var offCanvasOriginId = origin.id + \"OffCanvas\";\r\n                var offCanvasOrigin = document.getElementById(offCanvasOriginId);\r\n                filterOffCanvasItem.value = origin.name ? origin.name.toLowerCase() : filterValue.toLowerCase();\r\n                filterOffCanvasItem.origin = origin;\r\n                filterOffCanvasItem.offCanvasOrigin = offCanvasOrigin;\r\n                filtersTemp.push(filterOffCanvasItem);\r\n            }\r\n\r\n            if (clearAllOffCanvas.classList.contains(prefix + \"d-none\")) {\r\n                toggleClearAllButtons(true);\r\n            }\r\n\r\n        },\r\n\r\n        createDesktopFilterItem = function (filter, origin) {\r\n            var isDigit = false;\r\n            if (origin === null || origin === undefined) {\r\n                origin = \"\";\r\n            }\r\n            // id's can't have a digit as first number\r\n            if (filter[0].match(/\\d/)){\r\n                filter = digit.concat(filter);\r\n                isDigit = true;\r\n            }\r\n            filter = filter.replace(/\\s+/g,\" \").trim();\r\n \r\n            if (filterAlreadyExists(filter, false)) {\r\n                return;\r\n            }\r\n\r\n            if (filters.length <= 0) {\r\n                resultsLabelDesktop.classList.remove(prefix + \"d-none\");\r\n            }\r\n    \r\n            if (clearAllItem.classList.contains(prefix + \"d-none\")) {\r\n                toggleClearAllButtons(true);\r\n            }\r\n            \r\n            var filterItem = createFilter(filter, true, isDigit);\r\n            var offCanvasOriginId = origin.id + \"OffCanvas\";\r\n            var offCanvasOrigin = document.getElementById(offCanvasOriginId);\r\n\r\n            filterItem.origin = origin;\r\n            filterItem.offCanvasOrigin = offCanvasOrigin,\r\n            filterItem.value = origin.name ? origin.name.toLowerCase() : filter.replace(/^digit/, \"\").toLowerCase();\r\n            filterItem.addEventListener(\"click\", handleFilterItemClickEvent, false);\r\n\r\n            if(!isOffCanvasState){\r\n                filters.push(filterItem);\r\n                if (offCanvasOrigin) {\r\n                    offCanvasOrigin.checked = true; // Keep offCanvas checkbox in sync\r\n                    getClosest(offCanvasOrigin, \"li\", true).setAttribute(\"aria-checked\", \"true\");\r\n                    updateOffCanvasAccordionCount(offCanvasOrigin);\r\n                }\r\n                if (horizontal) {\r\n                    filterResults.insertBefore(filterItem, clearAllItem);\r\n                } else {\r\n                    filterResults.appendChild(filterItem); // DOM Add new filter to Desktop\r\n                    updateVerticalDesktopAccordionCount(origin);\r\n                }\r\n                if (!isApplyingState){\r\n                    createOffCanvasFilterItem(filterItem, filterItem.origin);\r\n                }\r\n                updateFiltersCount();\r\n                uicoreCustomEvent(\"FilterCollection\", \"CreateEvent\", filterItem, { \"filters\": filtersAsStrings(), \"addedFilter\": filterItem.innerText } );\r\n            }\r\n        },\r\n\r\n        // creates the HTML filterItem button\r\n        createFilter = function (filter, useX, isDigit) {\r\n            var filterText = filter;\r\n            if(isDigit){\r\n                filterText = filter.replace(/^digit/, \"\");\r\n            }\r\n            var filterId = filter.replace(/([^A-Za-z0-9._:/-])/g,\"\"); // =need to delete instances of special characters\r\n            var filterItem = createElement(\"button\", {\r\n                class: prefix + \"filter-item \" + prefix + \"btn \" + prefix +\"btn-secondary \" + prefix + \"btn-sm \" + prefix + \"text-truncate\",\r\n                id: filterId.toLowerCase().replace(/\\s/g, \"\").trim()\r\n            });\r\n\r\n            var filterLabel = createElement(\"label\", {\r\n                html: filterText,\r\n                class: prefix + \"text-truncate\"\r\n            });\r\n\r\n            filterItem.appendChild(filterLabel);\r\n\r\n            // create filterItem SVG\r\n            if(useX) {\r\n                var filterIcon = renderSvg([{name:\"close-x\", show:true}]);\r\n                classAdd(filterIcon, prefix + \"svg-close-x\");\r\n                classAdd(filterIcon, prefix + \"align-self-center\");\r\n                classAdd(filterIcon, prefix + \"m1-1\");\r\n                filterIcon.setAttribute(\"tabindex\", \"-1\");\r\n                filterIcon.setAttribute(\"focusable\", \"false\");\r\n                filterIcon.setAttribute(\"aria-label\", \"filter-close\");\r\n        \r\n                // put everything together\r\n                filterItem.appendChild(filterIcon);\r\n            } \r\n            return filterItem;            \r\n        },\r\n                \r\n        filterAlreadyExists = function(filter, isOffCanvasFilter) {\r\n            var whichFilters = isOffCanvasFilter ? filtersTemp : filters;\r\n            var whichParent = isOffCanvasFilter ? filterOffCanvas : element;\r\n            \r\n            if (filter === null || filter === undefined || filter == \"\") {\r\n                console.warn(\"Not a valid filter tag\");\r\n                return true;\r\n            }\r\n            if(arrayOfObjectsContains(whichFilters, filter.toLowerCase())){\r\n                \r\n                each(whichParent.querySelectorAll(\".dds__filter-item\"), function(htmlFilter) {\r\n                    if (htmlFilter.value.toLowerCase() == filter.toLowerCase()){\r\n                        htmlFilter.classList.add(prefix + \"shakey\");\r\n                        \r\n                        setTimeout(function(){\r\n                            htmlFilter.classList.remove(prefix + \"shakey\");\r\n                        }, getAnimationDurationFromElement(htmlFilter));\r\n                    }\r\n                });\r\n                console.warn(\"This filter has already been added\");\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        updateOffCanvasAccordionCount = function(origin){\r\n            var accordionParent = getClosest(origin, \".\" + prefix + \"collapse\").id;\r\n            var accordionBtn = element.querySelector(\"[data-target='#\"+accordionParent+\"']\");//[data-target='#\" + activeCollapse.id + \"']\"\r\n            var accordionBody = getClosest(origin, \".\" + prefix + \"accordion-card-body\");\r\n            var itemsChecked = accordionBody.querySelectorAll(\".\" + prefix + \"form-check-input:checked\").length;\r\n\r\n            var displayTxt;\r\n            if (itemsChecked > 0) {\r\n                displayTxt = \"(\" + itemsChecked +\")\";\r\n            } else {\r\n                displayTxt = \" \";\r\n            }\r\n\r\n            var checkedCounter = accordionBtn.querySelector(\".\" + prefix + \"checked-presentation\");\r\n            if (checkedCounter != null) {\r\n                checkedCounter.innerHTML = displayTxt;\r\n                // currentText = displayTxt;\r\n            } else {\r\n                checkedCounter = createElement(\"span\", {\r\n                    class: prefix + \"checked-presentation \" + prefix + \"ml-1\",\r\n                    html: displayTxt\r\n                });\r\n                accordionBtn.appendChild(checkedCounter);\r\n            }\r\n        },\r\n\r\n        updateVerticalDesktopAccordionCount = function(origin) {\r\n            if (origin) {\r\n                var accordionParent = getClosest(origin, \".\" + prefix + \"collapse\").id;\r\n                var accordionBtn = element.querySelector(\"[data-target='#\"+accordionParent+\"']\");//[data-target='#\" + activeCollapse.id + \"']\"\r\n                var accordionBody = getClosest(origin, \".\" + prefix + \"secondary-accordion\");\r\n                var itemsChecked = accordionBody.querySelectorAll(\".\" + prefix + \"form-check-input:checked\").length;\r\n                \r\n                var displayTxt;\r\n                if (itemsChecked > 0) {\r\n                    displayTxt = \"(\" + itemsChecked +\")\";\r\n                } else {\r\n                    displayTxt = \" \";\r\n                }\r\n    \r\n                var checkedCounter = accordionBtn.querySelector(\".\" + prefix + \"checked-presentation\");\r\n                if (checkedCounter != null) {\r\n                    checkedCounter.innerHTML = displayTxt;\r\n                } else {\r\n                    checkedCounter = createElement(\"span\", {\r\n                        class: prefix + \"checked-presentation \" + prefix + \"ml-1 \" + prefix + \"font-weight-bold\",\r\n                        html: displayTxt\r\n                    });\r\n                    accordionBtn.insertBefore(checkedCounter, accordionBtn.querySelector(\".\" + prefix + \"arrow-tri-solid-right\"));\r\n                }\r\n            } else {\r\n                accordionObjects.forEach(function(accordion) {\r\n                    var itemsChecked = accordion.parentNode.querySelectorAll(\".\" + prefix + \"form-check-input:checked\").length;\r\n                    \r\n                    var displayTxt;\r\n                    if (itemsChecked > 0) {\r\n                        displayTxt = \"(\" + itemsChecked +\")\";\r\n                    } else {\r\n                        displayTxt = \" \";\r\n                    }\r\n\r\n                    var checkedCounter = accordion.querySelector(\".\" + prefix + \"checked-presentation\");\r\n                    if (checkedCounter != null) {\r\n                        checkedCounter.innerHTML = displayTxt;\r\n                    } else {\r\n                        checkedCounter = createElement(\"span\", {\r\n                            class: prefix + \"checked-presentation \" + prefix + \"ml-1\",\r\n                            html: displayTxt\r\n                        });\r\n                        accordion.querySelector(\"span\").appendChild(checkedCounter);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        updateFiltersCount = function() {\r\n            var itemsChecked = filters.length;\r\n            var filteringMobileBtn = element.querySelectorAll(\".\" + prefix + \"filter-btn-mobile\")[0];\r\n\r\n            var displayTxt;\r\n            if (itemsChecked > 0) {\r\n                displayTxt = \"(\" + itemsChecked +\")\";\r\n            } else {\r\n                displayTxt = \" \";\r\n            }\r\n            var checkedCounter = filteringMobileBtn.querySelector(\".\" + prefix + \"checked-presentation\");\r\n            if (checkedCounter != null) {\r\n                checkedCounter.innerHTML = displayTxt;\r\n            } else {\r\n                checkedCounter = createElement(\"span\", {\r\n                    class: prefix + \"checked-presentation \" + prefix + \"ml-1\",\r\n                    html: displayTxt\r\n                });\r\n                filteringMobileBtn.appendChild(checkedCounter);\r\n            }\r\n        },\r\n\r\n        filtersAsStrings = function() {\r\n            var stringArray = [];\r\n            each(filters, function(filter) {\r\n                stringArray.push(filter.value);\r\n            });\r\n            return stringArray;\r\n        },\r\n\r\n        toggleClearAllButtons = function (onState) {\r\n            if (smallWindow && !horizontal) {\r\n                clearAllItem = element.querySelector(\".\"+prefix+\"filter-label-results .\"+prefix+\"filter-btn-clear\");\r\n            }\r\n            if (onState == true && clearAllItem.classList.contains(prefix + \"d-none\")) {\r\n                clearAllOffCanvas.classList.remove(prefix + \"d-none\");\r\n                clearAllItem.classList.add(prefix + \"d-flex\");\r\n                clearAllItem.classList.remove(prefix + \"d-none\");\r\n                clearAllItem.addEventListener(\"click\", handleClearAllEvent, false);\r\n                clearAllItem.addEventListener(\"touchstart\", handleClearAllEvent, false);\r\n            } else if (onState == false & !clearAllItem.classList.contains(prefix + \"d-none\")) {\r\n                clearAllOffCanvas.classList.add(prefix + \"d-none\");\r\n                clearAllItem.classList.remove(prefix + \"d-flex\");\r\n                clearAllItem.classList.add(prefix + \"d-none\");\r\n                clearAllItem.removeEventListener(\"click\", handleClearAllEvent, false);\r\n                clearAllItem.removeEventListener(\"touchstart\", handleClearAllEvent, false);\r\n            }\r\n        },\r\n\r\n        toggleDropdown = function (index) {\r\n            var i;\r\n            if (dropdowns[index].classList.contains(prefix + \"d-none\")) {\r\n                for (i = 0; i <= index; i++) {\r\n                    dropdowns[i].classList.remove(prefix + \"d-none\");\r\n                }\r\n            }\r\n            else {\r\n                for (i = index + 1; i < dropdowns.length; i++) {\r\n                    dropdowns[i].classList.add(prefix + \"d-none\");\r\n                }\r\n            }\r\n        };\r\n\r\n    this.numOfFilters = function(OffCanvas) {\r\n        if (OffCanvas) {\r\n            return filterOffCanvasResults.querySelectorAll(\".\" + prefix + \"filter-item\").length;\r\n        }\r\n    };\r\n    \r\n    this.updateResultsLabel = function(resultCount) {\r\n        if (!resultCount || typeof resultCount !== \"string\" ) {\r\n            console.warn(\"This is not a valid input for updateResultsLabel.\");\r\n            return;\r\n        }\r\n        element.querySelector(\".\" + prefix + \"resultCount\").innerText = resultCount;\r\n    };\r\n\r\n    // init\r\n    if (!(stringFilterCollection in element)) {\r\n        if (element.classList.contains(prefix + \"filter-collection-vertical\")) {\r\n            horizontal = false;\r\n        }\r\n        if (horizontal) {\r\n            clearAllItem = element.querySelector(\".\"+prefix+\"filter-collection-wrapper .\"+prefix+\"filter-btn-clear\");\r\n        } else if (smallMediaSize.matches) {\r\n            clearAllItem = element.querySelector(\".\"+prefix+\"filter-label-results .\"+prefix+\"filter-btn-clear\");\r\n        } else {\r\n            clearAllItem = element.querySelector(\".\"+prefix+\"filter-collector-accordion .\"+prefix+\"filter-btn-clear\");\r\n        }\r\n    \r\n        collectionInputsContainer = element.querySelector(\".\" + prefix + \"filter-input-container\");\r\n        dropdowns = collectionInputsContainer.querySelectorAll(\"div.\" + prefix + \"btn-dropdown\");\r\n        collectionInputs = element.querySelectorAll(\"[data-filter]\");\r\n        targetCollection = element[\"getAttribute\"](\"data-target\");\r\n        filterCollection = element.querySelector(targetCollection);\r\n\r\n        if (filterCollection == null) {\r\n            console.error(\"Found no filter collection to output results to.\");\r\n            return false;\r\n        }\r\n        if (collectionInputs == null) {\r\n            console.error(\"Found no data-filter element(s) available to use\");\r\n            return false;\r\n        }\r\n\r\n        //off canvas inits\r\n        if (element.querySelector(\".\" + prefix + \"filter-btn-mobile\")) {\r\n            var modalBtn = element.querySelector(\".\" + prefix + \"filter-btn-mobile\");\r\n            mobileModal = new Modal(modalBtn);\r\n            modalBtn.addEventListener(\"click\", handleOffCanvasOpen);\r\n            filterOffCanvas = element.querySelector(\".\" + prefix + \"modal-offcanvas\");\r\n\r\n            if (element.querySelectorAll(\"[data-toggle='\" + prefix + \"collapse\" + \"']\")) {\r\n                each(element.querySelectorAll(\"[data-toggle='\" + prefix + \"collapse\" + \"']\"), function(accordion) {\r\n                    new Collapse(accordion);\r\n                });\r\n            }\r\n            if (filterOffCanvas.querySelector(\".\" + prefix + \"text-right .\" + prefix + \"btn-primary\")) {\r\n                var applyBtn = filterOffCanvas.querySelector(\".\" + prefix + \"text-right .\" + prefix + \"btn-primary\");\r\n                applyBtn.addEventListener(\"click\", handleOffCanvasApplyEvent);\r\n            }\r\n            if (filterOffCanvas.querySelector(\".\" + prefix + \"text-right .\" + prefix + \"dds__btn-secondary-primary\")) {\r\n                var clearAllBtn = filterOffCanvas.querySelector(\".\" + prefix + \"text-right .\" + prefix + \"dds__btn-secondary\");\r\n                clearAllBtn.addEventListener(\"click\", handleClearAllEvent);\r\n            }\r\n            if (filterOffCanvas.querySelector(\".\" + prefix + \"text-right .\" + prefix + \"btn-secondary\")) {\r\n                clearAllOffCanvas = filterOffCanvas.querySelector(\".\" + prefix + \"text-right .\" + prefix + \"btn-secondary\");\r\n                clearAllOffCanvas.addEventListener(\"click\", handleOffCanvasClearAllClick, false);\r\n            }\r\n            if (filterOffCanvas.querySelector(\"[data-dismiss]\")) {\r\n                var backOffCanvas = filterOffCanvas.querySelector(\"[data-dismiss]\");\r\n                backOffCanvas.addEventListener(\"click\", handleOffCanvasCancelEvent, false);\r\n            }\r\n            each(filterOffCanvas.querySelectorAll(\".\" + prefix + \"form-check-input\"), function(checkbox){\r\n                checkbox.addEventListener(\"click\", handleOffCanvasCheckboxClick, false);\r\n            });\r\n        }\r\n        if (horizontal) {\r\n            if (!mediumMediaSize.matches) {\r\n                if (collectionInputs.length > 8){\r\n                    visibileIdx = 5;\r\n                    mediaIncrementforDropdowns = 4;\r\n                    for (var i = visibileIdx + 1; i < dropdowns.length; i++ ) {\r\n                        dropdowns[i].classList.add(prefix + \"d-none\");\r\n                    }\r\n                    createShowMoreButton();\r\n                }\r\n            }\r\n            else if (mediumMediaSize.matches) {\r\n                if (collectionInputs.length > 6) {\r\n                    visibileIdx = 3;\r\n                    mediaIncrementforDropdowns = 3;\r\n                    for (i = visibileIdx + 1; i < dropdowns.length; i++ ) {\r\n                        dropdowns[i].classList.add(prefix + \"d-none\");\r\n                    }\r\n                    createShowMoreButton();\r\n                }\r\n            }\r\n        }\r\n\r\n        each(collectionInputs, function(input) {\r\n            var typeofInput = input[\"getAttribute\"](\"data-filter\");\r\n            if (typeofInput == prefix + \"keyword-filter\") {\r\n                keywordFilter = input;\r\n                new FilterKeyword(keywordFilter);\r\n                keywordFilter.addEventListener(\"uicFilterKeywordCreateEvent\", handleAddEvent, false);\r\n            }\r\n            else if (typeofInput == prefix + \"multi-select\") {\r\n                var multiSelect = input;\r\n                dropdownObjects.push(new Dropdown(input));\r\n                multiSelect.addEventListener(\"uicDropdownAddEvent\", handleDesktopCheckboxClick, false);\r\n                multiSelect.addEventListener(\"uicDropdownRemoveEvent\", handleDesktopCheckboxClick, false);\r\n            } else if (typeofInput == prefix + \"secondary-accordion\") {\r\n                accordionObjects.push(input);\r\n                var checkboxes = input.parentNode.querySelectorAll(\".\" + prefix + \"form-check\");\r\n                each(checkboxes, function(checkbox) {\r\n                    checkbox.addEventListener(\"click\", handleDesktopCheckboxClick, true);\r\n                });\r\n            }\r\n        });\r\n        \r\n        filterResults = filterCollection.querySelector(\"div.\" + prefix + \"filter-results\");\r\n        filterOffCanvasResults = element.querySelector(\"div.\" + prefix + \"modal-offcanvas div.\" + prefix + \"filter-results\");\r\n        resultsLabelDesktop = element.querySelector(\"label.\" + prefix + \"filter-label-results\");\r\n\r\n        if (horizontal) { mediumMediaSize.addListener(handleResizeMedium);}\r\n        smallMediaSize.addListener(handleResizeSmall);\r\n        \r\n    }\r\n\r\n    element[stringFilterCollection] = self;\r\n}\r\n","import { prefix, DOC, getElementsByClassName, each, jsonOptionsInit } from \"./utilities.js\";\r\nimport InputMask from \"./helpers/inputMask.js\";\r\n\r\nexport default function Forms(element, options) {\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    \r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.validate = element.dataset.validate ? element.dataset.validate  === \"true\" ? true: false : options.validate ? options.validate : true;\r\n\r\n    var self = this,\r\n        stringForm = \"Form\",\r\n        togglePassword = function (e) {\r\n            var passwordState = DOC.getElementById(e.target.dataset[\"target\"]);\r\n            if (passwordState) {\r\n                if (passwordState.type === \"password\") {\r\n                    passwordState.type = \"text\";\r\n                } else {\r\n                    passwordState.type = \"password\";\r\n                }\r\n            } else {\r\n                console.warn(\"The target password field does not exist.\");\r\n            }\r\n        },\r\n        submitHandler = function(event) {\r\n            var formValidationErrorSuffix = \"Feedback\";\r\n            if (element.checkValidity() === false) {\r\n                each(element, function(el) {\r\n                    if(el.tagName == \"INPUT\"){\r\n                        var errorMsg = element.querySelector(\"#\"+ el.getAttribute(\"id\")+formValidationErrorSuffix);\r\n                        setTimeout(function(){\r\n                            if (!el.validity.valid) {\r\n                                //if error message has not been turned on yet\r\n                                if(errorMsg && !(getComputedStyle(errorMsg)[\"display\"] == \"block\")){\r\n                                    errorMsg.style.display = \"block\";\r\n                                }\r\n                                el.setAttribute(\"aria-invalid\", \"true\");\r\n                                el.setAttribute(\r\n                                    \"aria-describedby\",\r\n                                    el.getAttribute(\"id\") + formValidationErrorSuffix\r\n                                );\r\n                            } else {\r\n                                //if error message has not been turned off yet\r\n                                if(errorMsg && (getComputedStyle(errorMsg)[\"display\"] == \"block\")){\r\n                                    errorMsg.style.display = \"none\";\r\n                                } \r\n                                el.setAttribute(\"aria-invalid\", \"false\");\r\n                                el.setAttribute(\"aria-describedby\", \"\");\r\n                            }\r\n                        }, 10);\r\n                    }\r\n                });\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n\r\n            element.classList.add(\"dds__was-validated\");\r\n        };\r\n    \r\n    //init\r\n    if (!(stringForm in element)) {\r\n        if (element.querySelectorAll(\"input\")) {\r\n            each(element.querySelectorAll(\"input\"), function(child) {\r\n                if (child.classList.contains(prefix + \"input-masked\")) {\r\n                    new InputMask(child);\r\n                }\r\n            });\r\n        }\r\n        if  (!element.hasAttribute(\"novalidate\")) {\r\n            element.setAttribute(\"novalidate\", \"\");\r\n        } \r\n        if (options.validate) {\r\n            element.addEventListener(\"submit\", submitHandler);\r\n        }\r\n\r\n        var checkboxValidators = getElementsByClassName(element, prefix + \"form-check-input\");\r\n        each(checkboxValidators, function(checkboxValidator) {\r\n            if (checkboxValidator && !!checkboxValidator.dataset[\"target\"]) {\r\n                checkboxValidator.addEventListener(\"click\", togglePassword);\r\n            }\r\n        });\r\n    }\r\n    element[stringForm] = self;\r\n}\r\n","import {each, createElement} from \"./utilities.js\";\r\n\r\nexport default function LinkPicker(element) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // constants, event targets, strings\r\n    var self = this,\r\n        stringLinkPicker = \"LinkPicker\",\r\n        interestName = \"Interest\",\r\n        touseName = \"ToUse\",\r\n        interest = element.querySelector(\"select[name=\\\"\"+stringLinkPicker+\"_\"+interestName+\"\\\"]\"),\r\n        touse = element.querySelector(\"select[name=\\\"\"+stringLinkPicker+\"_\"+touseName+\"\\\"]\"),\r\n        interestData = JSON.parse(interest.getAttribute(\"data-select\")),\r\n        touseData = JSON.parse(touse.getAttribute(\"data-select\")),\r\n        findName = \"Find\",\r\n        find = element.querySelector(\"button[name=\\\"\"+stringLinkPicker+\"_\"+findName+\"\\\"]\"),\r\n        // handlers\r\n        onChangeHandler = function(e) {\r\n            var eventTarget = e[\"target\"];\r\n            if(eventTarget === interest) {\r\n                if(interest.selectedIndex === 0) {\r\n                    touse.disabled = true;\r\n                    touse.classList.add(\"dds__disabled\"); //disabled attribute doesn't work on FF\r\n                } else {\r\n                    touse.disabled = false;\r\n                    touse.classList.remove(\"dds__disabled\");\r\n                }\r\n                var obj = touseData[ touseName ][ interest.value ];\r\n                removeAllOptions(touse, true);\r\n                appendDataToSelect(touse, obj);\r\n                find.classList.add(\"dds__disabled\");\r\n            } else {\r\n                if(touse.selectedIndex === 0)\r\n                {\r\n                    find.disabled = true;\r\n                    find.classList.add(\"dds__disabled\");\r\n                }\r\n                else{\r\n                    find.disabled = false;\r\n                    find.classList.remove(\"dds__disabled\");\r\n                }\r\n            }\r\n        },\r\n        clickHandler = function() {\r\n            var link = touse.options[touse.selectedIndex].value;\r\n            find[\"setAttribute\"](\"href\",link);\r\n            find.click();\r\n        },\r\n        removeAllOptions = function(sel, removeGrp) {\r\n            var len, groups, par;\r\n            if (removeGrp) {\r\n                groups = sel.getElementsByTagName(\"optgroup\");\r\n                len = groups.length;\r\n                for (var i=len; i; i--) {\r\n                    sel.removeChild( groups[i-1] );\r\n                }\r\n            }\r\n\r\n            len = sel.options.length;\r\n            for (i=len; i; i--) {\r\n                par = sel.options[i-1].parentNode;\r\n                par.removeChild( sel.options[i-1] );\r\n            }\r\n        },\r\n        appendDataToSelect = function(sel, obj) {\r\n            var f = document.createDocumentFragment();\r\n            var labels = [], group, opts;\r\n\r\n            function addOptions(obj) {\r\n                var f = document.createDocumentFragment();\r\n                var o;\r\n\r\n                for (var i=0, len=obj.text.length; i<len; i++) {\r\n                    o = createElement(\"option\");\r\n                    o.appendChild( document.createTextNode( obj.text[i] ) );\r\n\r\n                    if ( obj.value ) {\r\n                        o.value = obj.value[i];\r\n                    }\r\n\r\n                    f.appendChild(o);\r\n                }\r\n                return f;\r\n            }\r\n\r\n            if ( obj.text ) {\r\n                opts = addOptions(obj);\r\n                f.appendChild(opts);\r\n            } else {\r\n                for ( var prop in obj ) {\r\n                    if ( Object.prototype.hasOwnProperty.call(obj, prop) ) {\r\n                        labels.push(prop);\r\n                    }\r\n                }\r\n                \r\n                each (labels, function(label) {\r\n                    group = createElement(\"optgroup\", {\r\n                        label: label\r\n                    });\r\n                    f.appendChild(group);\r\n                    opts = addOptions(obj[ label ] );\r\n                    group.appendChild(opts);\r\n                });\r\n            }\r\n            sel.appendChild(f);\r\n        };\r\n\r\n\r\n    // init\r\n    if (!(stringLinkPicker in element)) {\r\n        appendDataToSelect(interest, interestData);\r\n        interest.selectedIndex = 0;\r\n        interest.addEventListener(\"change\", onChangeHandler, false);\r\n        touse.addEventListener(\"change\", onChangeHandler, false);\r\n        find.addEventListener(\"click\", clickHandler, false);\r\n        var data = touseData[ touseName ][ interest.value ];\r\n        appendDataToSelect(touse, data);\r\n    }\r\n\r\n    element[stringLinkPicker] = self;\r\n}\r\n","import {prefix, DOC, getClosest, each, getFullScreenOverlay, isSafari, isIPhone, isIOS, uicoreCustomEvent, setFocus, getFocusableElements, isIE} from \"./utilities.js\";\r\nimport Collapse from \"./collapse.js\";\r\nimport Dropdown from \"./dropdown.js\";\r\n\r\nexport default function Masthead(element) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    var self = this,\r\n        stringMasthead = \"Masthead\",\r\n        bottomMenu = element.querySelector(\".\" + prefix + \"msthd-bottom\"),\r\n        mouseHover = [\"mouseenter\", \"mouseleave\"],\r\n        activeContainerId,\r\n        offCanvasMenuBtn,\r\n        fullScreenOverlay,\r\n        overlay,\r\n        signInText = element.querySelector(\"[data-target=msthd-signin-ctnr] .\"+prefix+\"msthd-label\") ? element.querySelector(\"[data-target=msthd-signin-ctnr] .\"+prefix+\"msthd-label\").innerHTML : \"Sign In\",\r\n        mediaSize = window.matchMedia(\"(max-width: 991.98px)\"),\r\n        // validate with Search Story\r\n        // searchClass = \".\" + prefix + \"msthd-search\",\r\n        // searchCtnrClass = \".\" + prefix + \"msthd-search-ctnr\",\r\n        // search = element.querySelector(searchClass),\r\n        // searchCtnr = element.querySelector(searchCtnrClass),\r\n        // searchIconCtnr = element.querySelector(\"div[data-toggle='dds__msthd-search']\"),\r\n        ////////////////////////////\r\n        // handlers\r\n        handleMenuItemEvent = function(e) {\r\n            e.preventDefault();\r\n            var target = e.target.tagName === \"LI\" ? e.target : getClosest(e.target, \"LI\", false);\r\n            // openOverLay();\r\n            updateMenuHeights(target);\r\n            e.stopPropagation();\r\n        },\r\n        handleMenuCntrEvent = function(e) {\r\n            e.preventDefault();\r\n            var currentMenu =  e.target.tagName === \"UL\" ? e.target : getClosest(e.target, \"UL\", false);\r\n            updateMenuHeights(currentMenu);\r\n            e.stopPropagation();\r\n        },\r\n        handleMenuCtnrBlurEvent = function(e) {\r\n            var target = e.currentTarget;\r\n            var relatedTarget = e.relatedTarget ? e.relatedTarget : DOC.activeElement;\r\n            if (!e.currentTarget.contains(relatedTarget)) {\r\n                closeMenu(target);\r\n                if (!relatedTarget.classList.contains(prefix + \"msthd-menu-link\") && !relatedTarget.classList.contains(prefix + \"msthd-menu-top-link\")) {\r\n                    closeOverLay();\r\n                }\r\n            }\r\n        },\r\n        handleMenuHoverInEvent = function(e) {\r\n            e.preventDefault();\r\n            openOverLay();\r\n            e.stopPropagation();\r\n        },\r\n        handleMenuHoverOutEvent = function(e) {\r\n            e.preventDefault();\r\n            closeOverLay();\r\n            e.stopPropagation();\r\n        },\r\n        handleMenuItemKeyEvent = function(e) {\r\n            var anchor = e.target ? e.target : DOC.activeElement,\r\n                item = anchor.parentNode,\r\n                menu = item.querySelector(\"ul\") ? item.querySelector(\"ul\") : undefined,\r\n                isTop = item.classList.contains(prefix + \"msthd-menu-top-item\"),\r\n                nextItem;\r\n            switch (e.keyCode) {\r\n            case 37: // left key\r\n                e.preventDefault();\r\n                if (isTop) {\r\n                    if (item.previousElementSibling && (nextItem = item.previousElementSibling.querySelector(\"a\"))) {\r\n                        nextItem.focus();\r\n                    }\r\n                }\r\n                else if (item.classList.contains(prefix + \"msthd-menu-item-img\") && item.previousElementSibling) {\r\n                    item.previousElementSibling.querySelector(\"a\").focus();\r\n                } else {\r\n                    previousItem = closeMenu(item);\r\n                    \r\n                    if (previousItem.classList.contains(prefix + \"msthd-menu-top-item\")) {\r\n                        closeOverLay();\r\n                        if(previousItem.previousElementSibling) {\r\n                            previousItem.previousElementSibling.querySelector(\"a\").focus();\r\n                        }\r\n                        else{\r\n                            previousItem.querySelector(\"a\").focus();\r\n                        } \r\n                    }\r\n                    else{\r\n                        previousItem.querySelector(\"a\").focus();\r\n                        updateMenuHeights(previousItem);\r\n                    }\r\n                }\r\n                break;\r\n            case 38: // up key\r\n                e.preventDefault();\r\n                if (!isTop) {\r\n                    if (item.previousElementSibling && (nextItem = item.previousElementSibling.querySelector(\"a\"))) {\r\n                        nextItem.focus();\r\n                    } else {\r\n                        item.parentNode.lastElementChild.querySelector(\"a\").focus();\r\n                    }\r\n                } \r\n                break;\r\n            case 39: // right key\r\n                e.preventDefault();\r\n                if (isTop) {\r\n                    if (item.nextElementSibling && (nextItem = item.nextElementSibling.querySelector(\"a\"))) {\r\n                        nextItem.focus();\r\n                    }\r\n                } else {\r\n                    if (anchor.querySelector(\"svg\")) {\r\n                        openMenu([item, menu, anchor]);\r\n                        if (!isTop) {\r\n                            updateMenuHeights(item);\r\n                        }\r\n                        menu.querySelector(\"a\").focus();\r\n                    } else if (item.classList.contains(prefix + \"msthd-menu-item-img\") && item.nextElementSibling) {\r\n                        item.nextElementSibling.querySelector(\"a\").focus();\r\n                    } else {\r\n                        do {\r\n                            previousItem = closeMenu(item);\r\n                            item = previousItem;\r\n                        } while(!item.classList.contains(prefix + \"msthd-menu-top-item\"));\r\n                        closeOverLay();\r\n                        if(item.nextElementSibling) {\r\n                            item.nextElementSibling.querySelector(\"a\").focus();\r\n                        } else {\r\n                            item.querySelector(\"a\").focus();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case 40: // down key\r\n                e.preventDefault();\r\n                if (isTop) {\r\n                    if(!menu){\r\n                        item.focus();\r\n                    } else{\r\n                        openMenu([item, menu, anchor]);\r\n                        menu.querySelector(\"a\").focus();\r\n                        openOverLay();\r\n                    }\r\n                } else {\r\n                    if (item.nextElementSibling && (nextItem = item.nextElementSibling.querySelector(\"a\"))) {\r\n                        nextItem.focus();\r\n                    } else {\r\n                        item.parentNode.firstElementChild.querySelector(\"a\").focus();\r\n                    }\r\n                }\r\n                break;\r\n            case 27: // escape key\r\n                if (!item.classList.contains(prefix + \"msthd-menu-top-item\")) {\r\n                    do {\r\n                        var previousItem = closeMenu(item);\r\n                        item = previousItem;\r\n                    } while(!item.classList.contains(prefix + \"msthd-menu-top-item\"));\r\n                    item.querySelector(\"a\").focus();\r\n                }\r\n                closeOverLay();\r\n                break;\r\n            case 13:\r\n            case 32: // enter and spacebar keys\r\n                e.preventDefault();\r\n                if (menu) {\r\n                    if (item.hasAttribute(\"active\")) {\r\n                        closeMenu(item);\r\n                        updateMenuHeights(menu);\r\n                    } else {\r\n                        openMenu([item, menu, anchor]);\r\n                        openOverLay();\r\n                        if (!isTop) {\r\n                            updateMenuHeights(item);\r\n                        }\r\n                    }\r\n                    menu.querySelector(\"a\").focus();\r\n                }\r\n                break;\r\n            case 9: //TAB\r\n                if (e.shiftKey) {\r\n                    closeOverLay();\r\n                }\r\n                break;\r\n            }\r\n        },\r\n        handleIconClickEvent = function(e) {\r\n            var button = e.target.tagName === \"BUTTON\" || e.target.tagName === \"A\"? e.target : e.target.parentNode,\r\n                target = button.dataset.target,\r\n                container = DOC.getElementById(target),\r\n                origContainerId;\r\n\r\n            if (activeContainerId) {\r\n                origContainerId = activeContainerId;\r\n                var activeContainer = DOC.getElementById(activeContainerId);\r\n                var activeButton = getClosest(activeContainer, \"BUTTON\", false);\r\n                closeContainer(activeButton, activeContainer);\r\n            }\r\n            if (origContainerId != target) {\r\n                openContainer(target, button, container);\r\n            }\r\n        },\r\n        handleWindowClickEvent = function(e) {\r\n            if (activeContainerId) {\r\n                var container = DOC.getElementById(activeContainerId),\r\n                    button = getClosest(container, \"button\", false);\r\n                if (!container.contains(e.target) && !button.contains(e.target)) {\r\n                    closeContainer(button, container);\r\n                }\r\n            }\r\n        },\r\n        handleFocusOutEvent = function(e) {\r\n            var target = e.relatedTarget ? e.relatedTarget : e.target;\r\n            if (activeContainerId) {\r\n                var container = DOC.getElementById(activeContainerId),\r\n                    button = getClosest(container, \"button\", false);\r\n                if (target === button) {\r\n                    return;\r\n                } else if (!container.contains(target)) { \r\n                    closeContainer(button, container);\r\n                } else {\r\n                    window.addEventListener(\"click\", handleWindowClickEvent, false);\r\n                }\r\n            }\r\n        },\r\n        handleKeyDownEvent = function(e) {\r\n            if(activeContainerId) {\r\n                var container = DOC.getElementById(activeContainerId);\r\n                var button = getClosest(container, \"button\", false);\r\n\r\n                switch (e.keyCode) {\r\n                case 9: //TAB\r\n                    if (e.shiftKey) {\r\n                        if (e.target === container.querySelectorAll(\"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex='0']\")[0]) {\r\n                            closeContainer(button, container);\r\n                            break;\r\n                        } \r\n                    } \r\n                    setTimeout(function() {\r\n                        if (!container.contains(document.activeElement)) {\r\n                            closeContainer(button, container);\r\n                        }\r\n                    },200);\r\n                    break;\r\n                case 27: //ESC\r\n                    closeContainer(button, container);\r\n                    button.focus();\r\n                    break;\r\n                case 37:\r\n                case 38:\r\n                case 39:\r\n                case 40:\r\n                    e.preventDefault();\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        openOverLay = function() {\r\n            if (overlay) {\r\n                if (!overlay.classList.contains(prefix + \"show\")) {\r\n                    overlay.classList.add(prefix + \"show\");\r\n                }\r\n            } else {\r\n                console.error(\"Please put the overlay in place!\");\r\n            }\r\n        },\r\n        closeOverLay = function() {\r\n            if (overlay) {\r\n                if (overlay.classList.contains(prefix + \"show\")) {\r\n                    overlay.classList.remove(prefix + \"show\");\r\n                }\r\n            } else {\r\n                console.error(\"Please put the overlay in place!\");\r\n            }\r\n        },\r\n        closeMenu = function(item){\r\n            var previousMenu = item.tagName === \"LI\" ? item.parentNode : item,\r\n                previousItem = previousMenu.parentNode,\r\n                previousLink = previousItem.querySelector(\"a\");\r\n\r\n            if (previousMenu.hasAttribute(\"style\")) {\r\n                previousMenu.removeAttribute(\"style\");\r\n            }\r\n\r\n            previousItem.removeAttribute(\"active\");\r\n            previousMenu.removeAttribute(\"active\");\r\n            previousLink.removeAttribute(\"active\");\r\n            previousLink.setAttribute(\"aria-expanded\",\"false\");\r\n\r\n            return previousItem;\r\n        },\r\n        openMenu = function(items) {\r\n            each(items, function(item) {\r\n                item.setAttribute(\"active\",\"\");\r\n                if(item.tagName === \"A\") item.setAttribute(\"aria-expanded\",\"true\");\r\n            });\r\n            \r\n        },\r\n        updateMenuHeights = function(target) {\r\n            var currentMenu, \r\n                nextMenu, \r\n                previousMenu, \r\n                prePreviousMenu,\r\n                heights = [],\r\n                max;\r\n\r\n            // do not do logic on a list item image\r\n            if (!target.classList.contains(prefix + \"msthd-menu-item-img\")) {\r\n                // if a list item is passed\r\n                if (target.tagName === \"LI\") {\r\n                    currentMenu = target.parentNode;\r\n                    nextMenu = target.querySelector(\"ul\") ? target.querySelector(\"ul\") : undefined;\r\n                // if a unordered list is passed\r\n                } else {\r\n                    currentMenu = target;\r\n                }         \r\n\r\n                previousMenu = currentMenu.parentNode.parentNode.classList.contains(prefix + \"msthd-menu-top\") ? undefined : currentMenu.parentNode.parentNode;\r\n                prePreviousMenu = previousMenu ? previousMenu.parentNode.parentNode.classList.contains(prefix + \"msthd-menu-top\") ? undefined : previousMenu.parentNode.parentNode : undefined;\r\n\r\n                if (!previousMenu) {\r\n                    if (currentMenu.hasAttribute(\"style\")) {\r\n                        currentMenu.removeAttribute(\"style\");\r\n                    }\r\n                }\r\n\r\n                if (!nextMenu || !nextMenu.classList.contains(prefix + \"msthd-menu-tier-img\")) {\r\n                    // resst any height style\r\n                    if (currentMenu.hasAttribute(\"style\")) {\r\n                        currentMenu.removeAttribute(\"style\");\r\n                    }\r\n                    if (nextMenu && nextMenu.hasAttribute(\"style\")) {\r\n                        nextMenu.removeAttribute(\"style\");\r\n                    }\r\n                    if (previousMenu && previousMenu.hasAttribute(\"style\")) {\r\n                        previousMenu.removeAttribute(\"style\");\r\n                    }\r\n                    if (prePreviousMenu && prePreviousMenu.hasAttribute(\"style\")) {\r\n                        prePreviousMenu.removeAttribute(\"style\");\r\n                    }\r\n\r\n                    // find max height\r\n                    if (currentMenu) heights.push(currentMenu.offsetHeight);\r\n                    if (nextMenu) heights.push(nextMenu.offsetHeight);\r\n                    if (previousMenu) heights.push(previousMenu.offsetHeight);\r\n                    if (prePreviousMenu) heights.push(prePreviousMenu.offsetHeight);\r\n                    max = Math.max.apply(this, heights);\r\n\r\n                    // update height style\r\n                    if (max > 0) {\r\n                        currentMenu.setAttribute(\"style\",\"height: \"+max+\"px\");\r\n                        if (nextMenu) {\r\n                            nextMenu.setAttribute(\"style\",\"height: \"+max+\"px\");\r\n                        }\r\n                        if (previousMenu) {\r\n                            previousMenu.setAttribute(\"style\",\"height: \"+max+\"px\");\r\n                        }\r\n                        if (prePreviousMenu) {\r\n                            prePreviousMenu.setAttribute(\"style\",\"height: \"+max+\"px\");\r\n                        }\r\n                    }\r\n                } else {\r\n                    var cBottom = currentMenu.getBoundingClientRect().bottom,\r\n                        cHeight =  currentMenu.offsetHeight,\r\n                        nBottom = nextMenu.getBoundingClientRect().bottom,\r\n                        nHeight = nextMenu.offsetHeight;\r\n                        \r\n                    if (cHeight < nHeight) {   \r\n                        if (currentMenu.hasAttribute(\"style\")) {\r\n                            currentMenu.removeAttribute(\"style\");\r\n                        }\r\n                        currentMenu.setAttribute(\"style\",\"height: \"+nHeight+\"px\");\r\n                    }\r\n                    if (cBottom < nBottom) {\r\n                        if (nextMenu.hasAttribute(\"style\")) {\r\n                            nextMenu.removeAttribute(\"style\");\r\n                        }\r\n                        nextMenu.setAttribute(\"style\",\"bottom: -4px\");\r\n                    }\r\n                }\r\n            } \r\n        },\r\n        // Top navigation methods\r\n        openContainer = function(target, button, container) {\r\n            activeContainerId = target;\r\n            button.classList.add(prefix + \"active\");\r\n            button.setAttribute(\"aria-expanded\",\"true\");\r\n            container.classList.add(prefix + \"active\");  \r\n            if (container.classList.contains(prefix + \"msthd-offcanvas-menu\")) {\r\n                toggleFullScreen(container, true);\r\n                uicoreCustomEvent(\"Masthead\", \"OffCanvasOpen\", element);\r\n                setTimeout(function() {\r\n                    setFocus(getFocusableElements(container)[0]);\r\n                }, 200);\r\n            } else {\r\n                container.querySelectorAll(\"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex='0']\")[0].focus();\r\n                container.addEventListener(\"focusout\", handleFocusOutEvent, true);\r\n            }\r\n            container.addEventListener(\"keydown\", handleKeyDownEvent, false);          \r\n            \r\n        },\r\n        closeContainer = function(button, container) {\r\n            activeContainerId = null;\r\n            window.removeEventListener(\"click\", handleWindowClickEvent, false);\r\n            button.classList.remove(prefix + \"active\");\r\n            button.setAttribute(\"aria-expanded\",\"false\");\r\n            if (container.classList.contains(prefix + \"msthd-offcanvas-menu\")) {\r\n                toggleFullScreen(container, false);\r\n                uicoreCustomEvent(\"Masthead\", \"OffCanvasClose\", element);\r\n            } else{\r\n                container.removeEventListener(\"focusout\", handleFocusOutEvent, true);\r\n                container.removeEventListener(\"keydown\", handleKeyDownEvent, false);\r\n            }\r\n            container.classList.remove(prefix + \"active\");\r\n        },\r\n        toggleFullScreen = function(container, show) {\r\n            if (show) {\r\n                if (container) {\r\n                    container.hidden = false;\r\n                }\r\n                DOC.body.classList.add(prefix + \"active\");\r\n                \r\n                // container.addEventListener(\"keydown\", handle)\r\n             \r\n                if(fullScreenOverlay && !(fullScreenOverlay.classList[\"contains\"](prefix + \"show\"))) {\r\n                    fullScreenOverlay.classList.add(prefix + \"show\");\r\n                    fullScreenOverlay.hidden = false;\r\n                }\r\n                window.addEventListener(\"click\", handleWindowClickEvent, false);\r\n                window.addEventListener(\"touchstart\", handleWindowClickEvent, false);\r\n            } else {\r\n                if (container) {\r\n                    container.hidden = true;\r\n                }\r\n                DOC.body.classList.remove(prefix + \"active\");\r\n                if (fullScreenOverlay && fullScreenOverlay.classList[\"contains\"](prefix + \"show\")) {\r\n                    fullScreenOverlay.classList.remove(prefix + \"show\");\r\n                    fullScreenOverlay.hidden = true;\r\n                }\r\n                window.removeEventListener(\"touchstart\", handleWindowClickEvent, false);\r\n            }\r\n        },\r\n        touchHandler = function(e) {\r\n            if (!document.querySelector(\".\" + prefix + \"msthd-menu-top\").contains(e.target)) {\r\n                closeOverLay();\r\n            }\r\n        };\r\n        \r\n    this.logIn = function(displayname) {\r\n        var signInCtnr = element.querySelector(\".\" + prefix + \"msthd-icon-ctnr\"+\"[data-target='msthd-signin-ctnr']\"),\r\n            signInBadge = signInCtnr.querySelector(\".\" + prefix + \"badge\"),\r\n            label = signInCtnr.querySelector(\".\" + prefix + \"msthd-label\");\r\n\r\n        if (signInBadge.hidden) {\r\n            signInBadge.hidden = false;\r\n        }\r\n        \r\n        if (label) {\r\n            label.innerHTML = displayname;\r\n        }\r\n        signInCtnr.setAttribute(\"data-target\",\"msthd-signout-ctnr\");\r\n    };\r\n    this.logOut = function() {\r\n        var signInCtnr = element.querySelector(\".\" + prefix + \"msthd-icon-ctnr\"+\"[data-target='msthd-signout-ctnr']\"),\r\n            signInBadge = signInCtnr.querySelector(\".\" + prefix + \"badge\"),\r\n            label = signInCtnr.querySelector(\".\" + prefix + \"msthd-label\");\r\n\r\n        if (!signInBadge.hidden) {\r\n            signInBadge.hidden = true;\r\n        }\r\n        \r\n        if (label) {\r\n            label.innerHTML = signInText;\r\n        }\r\n        signInCtnr.setAttribute(\"data-target\",\"msthd-signin-ctnr\");\r\n    };\r\n    this.cartCount = function(count) {\r\n        var cartCtnr = element.querySelector(\".\" + prefix + \"msthd-icon-ctnr\"+\"[data-target='msthd-cart-ctnr']\"),\r\n            cartBadge = cartCtnr.querySelector(\".\" + prefix + \"badge\");\r\n        if (count && count > 0) {\r\n            if (cartBadge.hidden) {\r\n                cartBadge.hidden = false;\r\n            }\r\n            cartBadge.innerHTML = count;\r\n        } else {\r\n            cartBadge.hidden = true;\r\n            cartBadge.innerHTML = 0;\r\n        }\r\n    };\r\n\r\n    // init\r\n    if (!(stringMasthead in element)) {\r\n        document.addEventListener(\"uicLeftNavCloseEvent\", function(e) {\r\n            closeContainer(e.detail.button, e.detail.container);\r\n        });\r\n\r\n        each(element.querySelectorAll(\"button.\"+ prefix +\"msthd-icon-ctnr\", \"a.\"+ prefix +\"msthd-icon-ctnr\"),function(button) {\r\n            if (button.dataset.toggle && button.dataset.toggle === (prefix + \"msthd-offcanvas\")) {\r\n                offCanvasMenuBtn = button;\r\n            }\r\n            if (button.dataset.target === \"msthd-country-ctnr\") {\r\n                new Dropdown(button);\r\n            } else {\r\n                button.addEventListener(\"click\", handleIconClickEvent, false);\r\n            }\r\n        });\r\n        if (offCanvasMenuBtn) {\r\n            fullScreenOverlay = getFullScreenOverlay();\r\n            if (!DOC.body.classList.contains(prefix + \"body-off-canvas\")) {\r\n                DOC.body.classList.add(prefix + \"body-off-canvas\");\r\n            }\r\n            if (isIPhone && isSafari) {\r\n                element.querySelector(\".\" + prefix + \"msthd-offcanvas-menu\").classList.add(prefix + \"safari-fix\");\r\n            }\r\n            each(element.querySelectorAll(\"[data-toggle='dds__collapse']\"), function(collapse) {\r\n                new Collapse(collapse);\r\n            });\r\n            mediaSize.addListener(function() {\r\n                if (!mediaSize.matches) {\r\n                    if (activeContainerId) {\r\n                        var container = DOC.getElementById(activeContainerId),\r\n                            button = getClosest(container, \"BUTTON\", false);\r\n                        closeContainer(button, container);\r\n                    }\r\n                    if (bottomMenu) {\r\n                        each(bottomMenu.querySelectorAll(\".\" + prefix + \"msthd-menu-top-item\"), function(topMenuItem){\r\n                            if (topMenuItem.matches(\":hover\")) {\r\n                                openOverLay();\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    closeOverLay();\r\n                }\r\n            });\r\n        }\r\n        if (bottomMenu) {\r\n            \r\n            overlay = DOC.getElementById(prefix + \"msthd-overlay\");\r\n\r\n            each(bottomMenu.querySelectorAll(\".\" + prefix + \"msthd-menu-ctnr\"), function(menuCtnr) {\r\n                if (!menuCtnr.classList.contains(prefix+\"msthd-menu-tier-img\")) {\r\n                    if(window.matchMedia(\"(any-hover: hover)\").matches || isIE) { //Device capable of hover + IE (IE Doesn't support media features)\r\n                        menuCtnr.addEventListener(mouseHover[0], handleMenuCntrEvent, false);\r\n                        menuCtnr.addEventListener(mouseHover[1], handleMenuCntrEvent, false);\r\n                    } else { //Device only capable of touch\r\n                        menuCtnr.addEventListener(\"touchstart\", handleMenuCntrEvent, false);\r\n                    }\r\n                }\r\n                menuCtnr.addEventListener(\"blur\", handleMenuCtnrBlurEvent, true);\r\n            });\r\n            each(bottomMenu.querySelectorAll(\".\" + prefix + \"msthd-menu-top-item > a\"), function(topMenuItem){\r\n                topMenuItem.addEventListener(\"keydown\", handleMenuItemKeyEvent, false);\r\n            });\r\n            each(bottomMenu.querySelectorAll(\".\" + prefix + \"msthd-menu-item , .\" + prefix + \"msthd-menu-item-img\"), function(menuItem) {\r\n                \r\n                menuItem.querySelector(\"a\").addEventListener(\"keydown\", handleMenuItemKeyEvent, false);\r\n                if(window.matchMedia(\"(any-hover: hover)\").matches || isIE) { //Device capable of hover + IE (IE Doesn't support media features)\r\n                    menuItem.addEventListener(mouseHover[0], handleMenuItemEvent, false);\r\n                    menuItem.addEventListener(mouseHover[1], handleMenuItemEvent, false);\r\n                } else { //Device only capable of touch\r\n                    menuItem.addEventListener(\"touchstart\", handleMenuItemEvent, false);\r\n                }\r\n            });\r\n\r\n            bottomMenu = element.querySelector(\".\" + prefix + \"msthd-menu-top\");\r\n            if(window.matchMedia(\"(any-hover: hover)\").matches || isIE) { //Device capable of hover + IE (IE Doesn't support media features)\r\n                bottomMenu.addEventListener(mouseHover[0], handleMenuHoverInEvent, false);\r\n                bottomMenu.addEventListener(mouseHover[1], handleMenuHoverOutEvent, false);\r\n            } else { //Device only capable of touch\r\n                bottomMenu.addEventListener(\"touchstart\", handleMenuHoverInEvent, false);\r\n            }\r\n\r\n            if (isIOS) {\r\n                window.addEventListener(\"touchstart\", touchHandler, false);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    element[stringMasthead] = self;\r\n}\r\n","\r\n/**\r\n* Detect Element Resize\r\n*\r\n* https://github.com/sdecima/javascript-detect-element-resize\r\n* Sebastian Decima\r\n*\r\n* version: 0.5.3\r\n**/\r\nexport default function ResizeElement() {\r\n    (function () {\r\n        var attachEvent = document.attachEvent,\r\n            stylesCreated = false;\r\n    \r\n        if (!attachEvent) {\r\n            var requestFrame = (function(){\r\n                var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\r\n                  function(fn){ return window.setTimeout(fn, 20); };\r\n                return function(fn){ return raf(fn); };\r\n            })();\r\n      \r\n            var cancelFrame = (function(){\r\n                var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\r\n                     window.clearTimeout;\r\n                return function(id){ return cancel(id); };\r\n            })();\r\n  \r\n            var resetTriggers = function(element){\r\n                var triggers = element.__resizeTriggers__,\r\n                    expand = triggers.firstElementChild,\r\n                    contract = triggers.lastElementChild,\r\n                    expandChild = expand.firstElementChild;\r\n                contract.scrollLeft = contract.scrollWidth;\r\n                contract.scrollTop = contract.scrollHeight;\r\n                expandChild.style.width = expand.offsetWidth + 1 + \"px\";\r\n                expandChild.style.height = expand.offsetHeight + 1 + \"px\";\r\n                expand.scrollLeft = expand.scrollWidth;\r\n                expand.scrollTop = expand.scrollHeight;\r\n            };\r\n  \r\n            var checkTriggers = function(element){\r\n                return element.offsetWidth != element.__resizeLast__.width ||\r\n               element.offsetHeight != element.__resizeLast__.height;\r\n            };\r\n      \r\n            var scrollListener = function(e){\r\n                var element = this;\r\n                resetTriggers(this);\r\n                if (this.__resizeRAF__) cancelFrame(this.__resizeRAF__);\r\n                this.__resizeRAF__ = requestFrame(function(){\r\n                    if (checkTriggers(element)) {\r\n                        element.__resizeLast__.width = element.offsetWidth;\r\n                        element.__resizeLast__.height = element.offsetHeight;\r\n                        element.__resizeListeners__.forEach(function(fn){\r\n                            fn.call(element, e);\r\n                        });\r\n                    }\r\n                });\r\n            };\r\n      \r\n            /* Detect CSS Animations support to detect element display/re-attach */\r\n            var animation = false,\r\n                // animationstring = \"animation\",\r\n                keyframeprefix = \"\",\r\n                animationstartevent = \"animationstart\",\r\n                domPrefixes = \"Webkit Moz O ms\".split(\" \"),\r\n                startEvents = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \"),\r\n                pfx  = \"\";\r\n            {\r\n                var elm = document.createElement(\"fakeelement\");\r\n                if( elm.style.animationName !== undefined ) { animation = true; }    \r\n        \r\n                if( animation === false ) {\r\n                    for( var i = 0; i < domPrefixes.length; i++ ) {\r\n                        if( elm.style[ domPrefixes[i] + \"AnimationName\" ] !== undefined ) {\r\n                            pfx = domPrefixes[ i ];\r\n                            // animationstring = pfx + \"Animation\";\r\n                            keyframeprefix = \"-\" + pfx.toLowerCase() + \"-\";\r\n                            animationstartevent = startEvents[ i ];\r\n                            animation = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n      \r\n            var animationName = \"resizeanim\";\r\n            var animationKeyframes = \"@\" + keyframeprefix + \"keyframes \" + animationName + \" { from { opacity: 0; } to { opacity: 0; } } \";\r\n            var animationStyle = keyframeprefix + \"animation: 1ms \" + animationName + \"; \";\r\n        }\r\n    \r\n        var createStyles = function() {\r\n            if (!stylesCreated) {\r\n                //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\r\n                var css = (animationKeyframes ? animationKeyframes : \"\") +\r\n            \".resize-triggers { \" + (animationStyle ? animationStyle : \"\") + \"visibility: hidden; opacity: 0; } \" +\r\n            \".resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \\\" \\\"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }\",\r\n                    head = document.head || document.getElementsByTagName(\"head\")[0],\r\n                    style = document.createElement(\"style\");\r\n        \r\n                style.type = \"text/css\";\r\n                if (style.styleSheet) {\r\n                    style.styleSheet.cssText = css;\r\n                } else {\r\n                    style.appendChild(document.createTextNode(css));\r\n                }\r\n  \r\n                head.appendChild(style);\r\n                stylesCreated = true;\r\n            }\r\n        };\r\n    \r\n        window.addResizeListener = function(element, fn){\r\n            if (attachEvent) element.attachEvent(\"onresize\", fn);\r\n            else {\r\n                if (!element.__resizeTriggers__) {\r\n                    if (getComputedStyle(element).position == \"static\") element.style.position = \"relative\";\r\n                    createStyles();\r\n                    element.__resizeLast__ = {};\r\n                    element.__resizeListeners__ = [];\r\n                    (element.__resizeTriggers__ = document.createElement(\"div\")).className = \"resize-triggers\";\r\n                    element.__resizeTriggers__.innerHTML = \"<div class=\\\"expand-trigger\\\"><div></div></div>\" +\r\n                                              \"<div class=\\\"contract-trigger\\\"></div>\";\r\n                    element.appendChild(element.__resizeTriggers__);\r\n                    resetTriggers(element);\r\n                    element.addEventListener(\"scroll\", scrollListener, true);\r\n          \r\n                    /* Listen for a css animation to detect element display/re-attach */\r\n                    animationstartevent && element.__resizeTriggers__.addEventListener(animationstartevent, function(e) {\r\n                        if(e.animationName == animationName)\r\n                            resetTriggers(element);\r\n                    });\r\n                }\r\n                element.__resizeListeners__.push(fn);\r\n            }\r\n        };\r\n    \r\n        window.removeResizeListener = function(element, fn){\r\n            if (attachEvent) element.detachEvent(\"onresize\", fn);\r\n            else {\r\n                element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\r\n                if (!element.__resizeListeners__.length) {\r\n                    element.removeEventListener(\"scroll\", scrollListener);\r\n                    element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\r\n                }\r\n            }\r\n        };\r\n    })();\r\n}","import { ariaAnnounce, classAdd, classRemove, createElement, debounce, each, DOC, getClosest, getFocusableElements, getNextFocusableElement, isIE, isIOS, isSafari, jsonOptionsInit, one, prefix, setFocus, uicoreCustomEvent } from \"./utilities.js\";\r\n\r\nimport Collapse from \"./collapse.js\";\r\nimport ResizeElement from \"./helpers/resizeElement.js\";\r\n\r\nexport function NavAnchored(element) {\r\n    // initialization element, the element we spy on\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    var self = this,\r\n        items,\r\n        tabs,\r\n        modalElement,\r\n        backButton,\r\n        activeTab = null,\r\n        focusableEls,\r\n        stringNav = \"Nav\",\r\n        sticky,\r\n        isSticky = false,\r\n        targetItems,\r\n        tabbing = false,\r\n        targetNav,\r\n        modalSize = window.matchMedia(\"(max-width: 767.98px)\"),\r\n        exitFocus,\r\n        // Event Handlers\r\n        handleClickEvent = function(e) {\r\n            activeTab = e.target;\r\n            tabbing = false;\r\n            if (modalSize.matches && modalElement && !(modalElement.classList.contains(prefix + \"show\"))) {\r\n                showModal(activeTab);\r\n                for (var index = 0; index < items[\"length\"]; index++) {\r\n                    var item = items[index];\r\n                    if(index == activeTab.idx) {\r\n                        activateTab(item);\r\n                    } else {\r\n                        deactivateTab(item);\r\n                    }\r\n                }\r\n                e.preventDefault();\r\n            } else {\r\n                window.addEventListener(\"scroll\", handleScrollEvent, false);\r\n                if (!isSticky) {\r\n                    if (isIE) {\r\n                        element.scrollIntoView(true);\r\n                    } else {\r\n                        element.scrollIntoView({behavior: \"smooth\"});\r\n                    }\r\n                } \r\n                if (isIE) {\r\n                    targetItems[activeTab.idx].scrollIntoView(true);\r\n                } else {\r\n                    targetItems[activeTab.idx].scrollIntoView({behavior: \"smooth\"});\r\n                }\r\n            }\r\n        },\r\n        handleScrollEvent = function() {\r\n            var last_known_scroll_position = window.pageYOffset;\r\n            stickNav(last_known_scroll_position);\r\n            if (!tabbing) {\r\n                window.requestAnimationFrame(updateItems);\r\n            }\r\n        },\r\n        stickNav = function(itemTop) {\r\n            var targetBottom = targetNav.getBoundingClientRect().bottom,\r\n                spacer;\r\n            if (itemTop > sticky && 0 <= targetBottom) {\r\n                if (!isSticky) {\r\n                    if(isIE) { // bug fix for position fixed on IE\r\n                        spacer = createElement(\"div\", {\r\n                            class: prefix + \"nav-spacer\"\r\n                        });\r\n                        spacer.style.height = element.offsetHeight+\"px\";\r\n                        setElementWidth(element);\r\n                        element.parentElement.insertBefore(spacer, element);\r\n                    }\r\n                    element.style.zIndex = 1030;\r\n                    element.classList.add(prefix + \"active\");\r\n                    isSticky = true;\r\n                }\r\n            } else {\r\n                if (isSticky) {\r\n                    if (isIE) {\r\n                        spacer = element.parentElement.querySelector(\".\" + prefix + \"nav-spacer\");\r\n                        if (spacer) {\r\n                            element.parentElement.removeChild(spacer);\r\n                        }\r\n                        removeElementWidth();\r\n                    }\r\n                    element.style.zIndex = \"\";\r\n                    element.classList.remove(prefix + \"active\");\r\n                    isSticky = false;\r\n                }\r\n            }\r\n        },\r\n        dismissHandler = function(e) {\r\n            if (modalElement.classList.contains(prefix + \"show\")) {\r\n                hideModal();\r\n                e.preventDefault();\r\n                setFocus(activeTab);\r\n            }\r\n        },\r\n        handleModalKeydown = function(e) {            \r\n            var KEY_TAB = 9;\r\n            var KEY_ESC = 27;\r\n    \r\n            switch(e.keyCode) {\r\n            case KEY_TAB:\r\n                if ( focusableEls.length === 1 ) {\r\n                    e.preventDefault();\r\n                    break;\r\n                }\r\n                if ( e.shiftKey ) {\r\n                    handleBackwardTab(e);\r\n                } else {\r\n                    handleForwardTab(e);\r\n                }\r\n                break;\r\n            case KEY_ESC: \r\n                hideModal();\r\n                setFocus(activeTab);\r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n        },\r\n        showModal = function(item) {\r\n            createModal(item);\r\n            modalElement.style.display = \"block\";\r\n            modalElement.setAttribute(\"aria-hidden\", false);\r\n            triggerShow();\r\n            modalElement.classList.add(prefix + \"show\");\r\n\r\n            if (isSafari && isIOS) {\r\n                modalElement.classList.add(prefix + \"is-safari\");\r\n            }\r\n\r\n            DOC.body.classList.add(prefix + \"modal-open\");\r\n\r\n            backButton = modalElement && modalElement.querySelector(\"[data-dismiss='\"+prefix+\"modal']\");\r\n            backButton.addEventListener(\"click\", dismissHandler, false);\r\n            setFocusableElements();\r\n            setTimeout(function() {\r\n                setFocus(backButton);\r\n            }, 50);\r\n            modalElement.addEventListener(\"keydown\", handleModalKeydown);\r\n        },\r\n        hideModal = function() {\r\n            modalElement.classList.add(prefix + \"slide-right\");\r\n            modalElement.classList.remove(prefix + \"show\");\r\n            modalElement.setAttribute(\"aria-hidden\", true);\r\n            if (isSafari && isIOS && modalElement.classList.contains(prefix + \"is-safari\")) {\r\n                modalElement.classList.remove(prefix + \"is-safari\");\r\n            }\r\n            setTimeout(function() {\r\n                triggerHide();\r\n                \r\n                DOC.body.classList.remove(prefix + \"modal-open\");\r\n                if (backButton) {\r\n                    backButton.removeEventListener(\"click\", dismissHandler, false);\r\n                }\r\n            }, 200);\r\n        },\r\n        createModal = function(tab) {\r\n            var controls = tab.getAttribute(\"aria-controls\");\r\n            var isIconElement =\r\n                (tab === tab.parentElement\r\n                    .querySelector(\".dds__icons.dds__chevron-right.dds__tab-icon\"));\r\n\r\n            if (!controls && isIconElement) {\r\n                controls = tab.parentElement.getAttribute(\"aria-controls\");\r\n            }\r\n\r\n            var tabContent = document.getElementById(controls).innerHTML;\r\n    \r\n            var modalBody = modalElement.querySelector(\".\" + prefix+ \"modal-body\");\r\n            modalBody.innerHTML = tabContent;\r\n        },\r\n        // triggers\r\n        triggerShow = function() {\r\n            setFocus(modalElement);\r\n        },\r\n        triggerHide = function() {\r\n            modalElement.style.display = \"\";\r\n        },\r\n        setFocusableElements = function() {\r\n            focusableEls = getFocusableElements(modalElement);\r\n            modalElement.firstFocusableEl = focusableEls[0];\r\n            modalElement.lastFocusableEl = focusableEls[ focusableEls.length - 1 ];\r\n        },\r\n        handleBackwardTab = function (e) {\r\n            if ( document.activeElement === modalElement.firstFocusableEl ) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.lastFocusableEl);\r\n            }\r\n        },\r\n        handleForwardTab = function (e) {\r\n            if ( document.activeElement === modalElement.lastFocusableEl ) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.firstFocusableEl);\r\n            }\r\n        },\r\n        setElementWidth = function(el) {\r\n            element.style.width = el.offsetWidth+\"px\";\r\n        },\r\n        removeElementWidth = function() {\r\n            element.style.width = \"\";\r\n        },\r\n        toggleElementWidth = debounce(function() {\r\n            if (isSticky) {\r\n                setElementWidth(element.parentElement);\r\n            } else {\r\n                removeElementWidth();\r\n            }\r\n        }, 10),\r\n        // takes a number to slighly adjust scroll offset if needed        \r\n        determineSection = function(scrollOffset) {\r\n            scrollOffset = scrollOffset || 0;\r\n            for (var i = 0; i < targetItems.length; i++) {\r\n                if (targetItems[i].getBoundingClientRect().top + scrollOffset > 0) {\r\n                    return i;\r\n                }\r\n            }\r\n            return targetItems.length >= 1 ? targetItems.length : 1;\r\n        },\r\n        handleEnterEvent = function(e) {\r\n            var target = e.target;\r\n            tabbing = true;\r\n            if (e.keyCode == 9) {\r\n                if (!modalSize.matches) {\r\n                    var currentSection = (determineSection(-5) -1);\r\n                    currentSection = currentSection < 0 ? 0 : currentSection;\r\n                    if (isIE) {\r\n                        targetItems[target.idx].scrollIntoView(true);\r\n                    } else {\r\n                        targetItems[target.idx].scrollIntoView({behavior: \"smooth\"});\r\n                    }\r\n                    toggleTab(tabs[currentSection],tabs[target.idx]);\r\n                }\r\n            }\r\n            tabbing = false;\r\n        },\r\n        handleKeydownEvent = function(e) {\r\n            var key = e.keyCode,\r\n                idx = e.target.idx;\r\n            \r\n            switch(key) {\r\n            case 9: if (!e.shiftKey) {\r\n                if (modalSize.matches) {\r\n                    e.preventDefault(); \r\n                    setFocus(exitFocus);\r\n                } else {\r\n                    tabbing = true;\r\n                    var focusEl;\r\n                    each(targetItems, function(target, iter) {\r\n                        if (iter >= idx && target.focusableEls.length > 0 && !focusEl) {\r\n                            focusEl = target.focusableEls;\r\n                        }\r\n                    });\r\n                    if (focusEl) { e.preventDefault(); setFocus(focusEl[0]); }\r\n                    else if (exitFocus) { e.preventDefault(); setFocus(exitFocus); }\r\n                }\r\n            }\r\n                break;\r\n            case 13:\r\n            case 32: // enter and spacebar keys\r\n                e.preventDefault();\r\n                tabbing = false;\r\n                setFocus(e.target);\r\n                e.target.click();\r\n                break;\r\n            case 35:    e.preventDefault();\r\n                setFocus(items[tabs.length-1]);\r\n                items[tabs.length-1].click();\r\n                break;\r\n            case 36:    e.preventDefault();\r\n                setFocus(items[0]);\r\n                items[0].click();\r\n                break;\r\n            case 39:    e.preventDefault();\r\n                if (idx === items.length-1) {\r\n                    setFocus(items[0]);\r\n                } else {\r\n                    setFocus(items[idx+1]);\r\n                }\r\n                break;\r\n            case 37:    e.preventDefault();\r\n                if (idx === 0) {\r\n                    setFocus(items[items.length-1]);\r\n                } else {\r\n                    setFocus(items[idx-1]);\r\n                }\r\n                break;\r\n            }\r\n        },\r\n        updateItems = function() {\r\n            var section = (determineSection(-5) -1);\r\n            section = section < 0 ? 0 : section;\r\n            for (var index = 0; index < items[\"length\"]; index++) {\r\n                var item = items[index];\r\n                if (isSticky) {\r\n                    if(index == section) {\r\n                        activateTab(item);\r\n                    } else {\r\n                        deactivateTab(item);\r\n                    }\r\n                } else {\r\n                    if (index == 0) {\r\n                        activateTab(item);\r\n                    } else {\r\n                        deactivateTab(item);\r\n                    }\r\n                }\r\n            }\r\n            return item;\r\n        },\r\n        toggleTab = function(oldItem, newItem) {\r\n            deactivateTab(oldItem);\r\n            activateTab(newItem);\r\n        },\r\n        activateTab = function(item) {\r\n            item.setAttribute(\"tabindex\",\"0\");\r\n            item.classList.add(prefix + \"active\");\r\n            item.setAttribute(\"aria-selected\",\"true\");\r\n        },\r\n        deactivateTab = function(item) {\r\n            item.setAttribute(\"tabindex\",\"-1\");\r\n            item.classList.remove(prefix + \"active\");\r\n            item.setAttribute(\"aria-selected\",\"false\");\r\n        },\r\n        activateItems = function() {\r\n            element.setAttribute(\"style\", \"display: none !important;\");\r\n            each(targetItems, function(item) {\r\n                item.setAttribute(\"style\", \"display: block;\");\r\n            });\r\n        };\r\n        \r\n    // init - prevent adding event handlers twice\r\n    if (!(stringNav in element)) {\r\n\r\n        modalElement = element.dataset[\"target\"] && DOC.getElementById(element.dataset[\"target\"].substr(1));\r\n\r\n        targetNav = element.nextElementSibling;\r\n        \r\n        tabs = element.querySelectorAll(\"li button\");\r\n\r\n        sticky = element.getBoundingClientRect().top;\r\n        items = [];\r\n        targetItems = [];\r\n        \r\n        if (isIE) {\r\n            window.addEventListener(\"resize\", toggleElementWidth, false);\r\n        }\r\n        \r\n        // populate items and targets\r\n        for (var i=0; i < tabs.length; i++) {\r\n            tabs[i].idx = i;\r\n            items.push(tabs[i]);\r\n            items[i].addEventListener(\"click\", handleClickEvent, false);\r\n            items[i].addEventListener(\"keydown\", handleKeydownEvent, false);\r\n            var panel = document.getElementById(tabs[i].dataset[\"target\"].slice(1));\r\n            panel.scrollTop += element.offsetHeight;\r\n            panel.focusableEls = getFocusableElements(panel);\r\n            each(panel.focusableEls, function(field) {\r\n                field.addEventListener(\"keyup\", handleEnterEvent, false);\r\n                field.idx = i;\r\n            });\r\n            targetItems.push(panel);\r\n        }\r\n        if (targetItems[targetItems.length-1].focusableEls.length == 0) { // last panel and no focusable items\r\n            DOC.addEventListener(\"DOMContentLoaded\", function() { // make sure all HTML is available prior to checking\r\n                exitFocus = getNextFocusableElement(panel);\r\n            });\r\n        }\r\n\r\n        if (modalSize.matches) {\r\n            window.removeEventListener(\"scroll\", handleScrollEvent, false);\r\n            if (!modalElement) {\r\n                activateItems();\r\n            }\r\n        } else {\r\n            window.addEventListener(\"scroll\", handleScrollEvent, false);\r\n        }\r\n        modalSize.addListener(function() {\r\n            if (!modalSize.matches) {\r\n                element.removeAttribute(\"style\");\r\n                window.addEventListener(\"scroll\", handleScrollEvent, false);\r\n                if (modalElement) {\r\n                    hideModal();\r\n                }\r\n            } else {\r\n                element.classList.remove(prefix + \"active\");\r\n                var spacer = element.parentElement.querySelector(\".\" + prefix + \"nav-spacer\");\r\n                if (spacer) {\r\n                    element.parentElement.removeChild(spacer);\r\n                }\r\n                window.removeEventListener(\"scroll\", handleScrollEvent, false);\r\n                if (!modalElement) {\r\n                    activateItems();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    element[stringNav] = self;\r\n}\r\n\r\nexport function NavSkip(element) {\r\n\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    var self = this,\r\n        stringNavSkip = \"NavSkip\",\r\n        hiddenZindex = \"-1000\",\r\n        visibleZindex = \"1080\",\r\n        tabindex,\r\n        borderStyle,\r\n        dataInset,\r\n   \r\n        // handlers\r\n        focusInHandler = function(e) {\r\n            if (element === e.target || element.contains(e.target)) {\r\n                element.style.zIndex = visibleZindex;\r\n                element.style.opacity = \"1\";\r\n                each(element.querySelectorAll(\"a.\" + prefix + \"btn\"), function(button) {\r\n                    button.addEventListener(\"click\", clickHandler, false);\r\n                });\r\n            }\r\n            element.addEventListener(\"focusout\", focusOutHandler);\r\n        },\r\n\r\n        focusOutHandler = function(e) {\r\n            var target = e.relatedTarget ? e.relatedTarget : DOC.activeElement;\r\n            if (!element.contains(target) && !(element === target)) {\r\n                toggleZindex();\r\n            }\r\n        },    \r\n        \r\n        toggleZindex = function() {\r\n            element.style.zIndex = hiddenZindex;\r\n            element.style.opacity = \"0\";\r\n            each(element.querySelectorAll(\"a.\" + prefix + \"btn\"), function(button) {\r\n                button.removeEventListener(\"click\", clickHandler, false);\r\n            });\r\n            element.removeEventListener(\"focusout\", focusOutHandler);\r\n\r\n        },\r\n\r\n        clickHandler = function(e) {\r\n            // element.style.zIndex = hiddenZindex;\r\n            toggleZindex();\r\n            var focusElement = document.getElementById(e.target.getAttribute(\"href\").substr(1));\r\n            tabindex = focusElement.getAttribute(\"tabIndex\");\r\n            if (tabindex !== 0) {\r\n                focusElement.setAttribute(\"tabIndex\", \"0\"); \r\n            } \r\n            focusElement.addEventListener(\"focusout\", blurHandler, false);\r\n            setTimeout( function() {\r\n                focusElement.focus();\r\n            }, 100); //firefox needs a little timeout to register tabindex\r\n            if (e.target.getAttribute(\"data-inset\") === \"true\") { //only add special border if pass in this attr\r\n                dataInset = true;\r\n                borderStyle = focusElement.style.border;\r\n                setTimeout( function() {  \r\n                    focusElement.style.border = \"2px inset #000000\";\r\n                }, 10);\r\n            } else {\r\n                dataInset = false;\r\n            }\r\n        },\r\n\r\n        blurHandler = function(e) { \r\n            if (dataInset) {\r\n                e.target.style.border = borderStyle;\r\n            }\r\n            if (tabindex !== 0) {\r\n                tabindex == null ? e.target.removeAttribute(\"tabIndex\") : e.target.setAttribute(\"tabIndex\", tabindex);\r\n            }\r\n            e.target.removeEventListener(\"focusout\", blurHandler, false); //once one blur event occurs, we want to remove the event listener\r\n        };\r\n\r\n    // init\r\n    if (!(stringNavSkip in element)) {\r\n        // prevent adding event handlers twice\r\n        element.addEventListener(\"focusin\", focusInHandler);\r\n        // window.addEventListener(\"keyup\", keydownZindexHandler);\r\n        // var focusableEls = document.querySelectorAll(\"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex='0']\");\r\n        // focusableEls[0].addEventListener(\"keyup\", keydownZindexHandler);\r\n        // if using Mac, keyboard accessbility  will only work if you set up this setting: https://stackoverflow.com/questions/11704828/how-to-allow-keyboard-focus-of-links-in-firefox\r\n        // On Mac: In System Preferences  Keyboard, in the Shortcuts pane, check the all controls radio at the bottom.\r\n        // Safari on Mac: additionally, go to safari preferences-> Advanced -> Accessibility \"Press Tab to highlight each item on a webpage\"\r\n        // Firefox on Mac: additionally, type \"about:config\" in the URL bar. There is no accessibility.tabfocus preference on the mac, so you'll have to make one. Right click in the window, create a new \"integer\" pref, and set it to 7.\r\n    }\r\n\r\n\r\n    element[stringNavSkip] = self;\r\n}\r\n\r\nexport function NavAnchoredVertical(element, options) { \r\n    // initialization element, the element we spy on\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    var opt = {};\r\n\r\n    if (options && Object.keys(options).length) {\r\n        opt.showModal = typeof options.showModal === \"boolean\" && options.showModal;\r\n    }\r\n\r\n    var self = this,\r\n        activeCSSClassName = prefix + \"active\",\r\n        activeTab = null,\r\n        backButton,\r\n        exitFocus,\r\n        focusableEls,\r\n        modalElement,\r\n        modalSize = window.matchMedia(\"(max-width: 767.98px)\"),\r\n        isSticky = false,\r\n        items,\r\n        stringNav = \"Nav\",\r\n        sticky,\r\n        tabs,\r\n        targetItems,\r\n        tabbing = false,\r\n        targetNav,\r\n        // Event Handlers\r\n        handleClickEvent = function (e) {\r\n            var scrollViewType = !isIE ? { behavior: \"smooth\" } : true;\r\n            var shouldShowModal = opt.showModal && \r\n                modalSize.matches &&\r\n                modalElement && \r\n                !(modalElement.classList.contains(prefix + \"show\"));\r\n\r\n            var isClickOnIconElement = (e.target === e.target.parentElement\r\n                .querySelector(\".dds__icons.dds__chevron-right.dds__tab-icon\"));\r\n\r\n            activeTab = isClickOnIconElement ? e.target.parentElement : e.target;\r\n            tabbing = false;\r\n\r\n            if (shouldShowModal) {\r\n                showModal(activeTab);\r\n                for (var index = 0; index < items[\"length\"]; index++) {\r\n                    var item = items[index];\r\n                    if (index == activeTab.idx) {\r\n                        activateTab(item);\r\n                    } else {\r\n                        deactivateTab(item);\r\n                    }\r\n                }\r\n                return e.preventDefault();\r\n            } \r\n\r\n            window.addEventListener(\"scroll\", handleScrollEvent, false);\r\n            \r\n            if (!isSticky) {\r\n                element.scrollIntoView(scrollViewType);\r\n            }\r\n\r\n            targetItems[activeTab.idx].scrollIntoView(scrollViewType);\r\n        },\r\n        handleScrollEvent = function () {\r\n            var lastKnownScrollPosition = window.pageYOffset;\r\n            stickNav(lastKnownScrollPosition);\r\n            if (!tabbing) {\r\n                window.requestAnimationFrame(updateItems);\r\n            }\r\n        },\r\n        stickNav = function (lastKnownScrollPosition) {\r\n            // var lastTargetContent = targetItems[targetItems.length - 1];\r\n\r\n            var target = targetNav.getBoundingClientRect();\r\n            var navPositionCoords = element.parentElement.getBoundingClientRect();\r\n\r\n            var navOnTopScreen = (navPositionCoords.top <= 0);\r\n            var elemClassList = element.classList;\r\n\r\n            if (lastKnownScrollPosition > sticky && 0 <= target.bottom) {\r\n                elemClassList.add(activeCSSClassName);\r\n                element.style.zIndex = 1030;\r\n                isSticky = true;\r\n            } else if (isSticky) {\r\n                elemClassList.remove(activeCSSClassName);\r\n                element.style.zIndex = \"\";\r\n                isSticky = false;\r\n            }\r\n\r\n            if (isIE) {\r\n                var navItem = element.querySelectorAll(\".dds__nav-anchored-vertical-item\");\r\n                var lastNavItem = navItem[navItem.length - 1];\r\n                \r\n                var positionOflastNavItemBottom = lastNavItem.getBoundingClientRect().bottom;\r\n                var negativeTop = target.bottom - lastNavItem.parentElement.getBoundingClientRect().height;\r\n                var isNavAfterLastContentBottom = (target.bottom >= positionOflastNavItemBottom);\r\n\r\n                if (navOnTopScreen) {\r\n                    element.style.top = isNavAfterLastContentBottom ? \"0px\" : negativeTop + \"px\";\r\n                    element.style.position = \"fixed\";\r\n                    element.style.height = target.bottom +\"px\";\r\n\r\n                    targetNav.style.marginLeft =\"270px\";\r\n                    return;\r\n                }\r\n\r\n                element.style.height =\"auto\";\r\n                element.style.position =\"relative\";\r\n                targetNav.style.marginLeft =\"0\";\r\n            }\r\n        },\r\n        dismissHandler = function (e) {\r\n            if (modalElement.classList.contains(prefix + \"show\")) {\r\n                hideModal();\r\n                e.preventDefault();\r\n                setFocus(activeTab);\r\n            }\r\n        },\r\n        handleModalKeydown = function (e) {\r\n            var KEY_TAB = 9;\r\n            var KEY_ESC = 27;\r\n\r\n            switch (e.keyCode) {\r\n            case KEY_TAB:\r\n                if (focusableEls.length === 1) {\r\n                    e.preventDefault();\r\n                    break;\r\n                }\r\n                if (e.shiftKey) {\r\n                    handleBackwardTab(e);\r\n                } else {\r\n                    handleForwardTab(e);\r\n                }\r\n                break;\r\n            case KEY_ESC:\r\n                hideModal();\r\n                setFocus(activeTab);\r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n        },\r\n        showModal = function (item) {\r\n            createModal(item);\r\n            modalElement.style.display = \"block\";\r\n            modalElement.setAttribute(\"aria-hidden\", false);\r\n            triggerShow();\r\n            modalElement.classList.add(prefix + \"show\");\r\n\r\n            if (isSafari && isIOS) {\r\n                modalElement.classList.add(prefix + \"is-safari\");\r\n            }\r\n\r\n            DOC.body.classList.add(prefix + \"modal-open\");\r\n\r\n            backButton = modalElement && modalElement.querySelector(\"[data-dismiss='\" + prefix + \"modal']\");\r\n            backButton.addEventListener(\"click\", dismissHandler, false);\r\n            setFocusableElements();\r\n            setTimeout(function () {\r\n                setFocus(backButton);\r\n            }, 50);\r\n            modalElement.addEventListener(\"keydown\", handleModalKeydown);\r\n        },\r\n        hideModal = function () {\r\n            modalElement.classList.add(prefix + \"slide-right\");\r\n            modalElement.classList.remove(prefix + \"show\");\r\n            modalElement.setAttribute(\"aria-hidden\", true);\r\n            if (isSafari && isIOS && modalElement.classList.contains(prefix + \"is-safari\")) {\r\n                modalElement.classList.remove(prefix + \"is-safari\");\r\n            }\r\n            setTimeout(function () {\r\n                triggerHide();\r\n\r\n                DOC.body.classList.remove(prefix + \"modal-open\");\r\n                if (backButton) {\r\n                    backButton.removeEventListener(\"click\", dismissHandler, false);\r\n                }\r\n            }, 200);\r\n        },\r\n        createModal = function (tab) {\r\n            var controls = tab.getAttribute(\"aria-controls\");\r\n            var isIconElement = \r\n                (tab === tab.parentElement\r\n                    .querySelector(\".dds__icons.dds__chevron-right.dds__tab-icon\"));\r\n\r\n            if (!controls && isIconElement) {\r\n                controls = tab.parentElement.getAttribute(\"aria-controls\");\r\n            }\r\n\r\n            var tabContent = document.getElementById(controls).innerHTML;\r\n\r\n            var modalBody = modalElement.querySelector(\".\" + prefix + \"modal-body\");\r\n            modalBody.innerHTML = tabContent;\r\n        },\r\n        // triggers\r\n        triggerShow = function () {\r\n            setFocus(modalElement);\r\n        },\r\n        triggerHide = function () {\r\n            modalElement.style.display = \"\";\r\n        },\r\n        setFocusableElements = function () {\r\n            focusableEls = getFocusableElements(modalElement);\r\n            modalElement.firstFocusableEl = focusableEls[0];\r\n            modalElement.lastFocusableEl = focusableEls[focusableEls.length - 1];\r\n        },\r\n        handleBackwardTab = function (e) {\r\n            if (document.activeElement === modalElement.firstFocusableEl) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.lastFocusableEl);\r\n            }\r\n        },\r\n        handleForwardTab = function (e) {\r\n            if (document.activeElement === modalElement.lastFocusableEl) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.firstFocusableEl);\r\n            }\r\n        },\r\n        setElementWidth = function (el) {\r\n            element.style.width = el.offsetWidth + \"px\";\r\n        },\r\n        removeElementWidth = function () {\r\n            element.style.width = \"\";\r\n        },\r\n        toggleElementWidth = debounce(function () {\r\n            if (isSticky) {\r\n                setElementWidth(element.parentElement);\r\n            } else {\r\n                removeElementWidth();\r\n            }\r\n        }, 10),\r\n        toogleContent = debounce(function () {\r\n            each(targetItems, function (panel) {\r\n                if (opt.showModal && !modalSize.matches) {\r\n                    panel.classList.remove(\"modal-off\");\r\n                    panel.classList.remove(\"modal-on\");\r\n                } else {\r\n                    panel.classList.add(\"modal-off\");\r\n                    panel.classList.add(\"modal-on\");\r\n                }\r\n            });\r\n        }, 10),\r\n        // takes a number to slighly adjust scroll offset if needed        \r\n        determineSection = function (scrollOffset) {\r\n            scrollOffset = scrollOffset || 0;\r\n            for (var i = 0; i < targetItems.length; i++) {\r\n                if (targetItems[i].getBoundingClientRect().top + scrollOffset > 0) {\r\n                    return i;\r\n                }\r\n            }\r\n\r\n            return targetItems.length >= 1 ? targetItems.length : 1;\r\n        },\r\n        handleEnterEvent = function (e) {\r\n            var target = e.target;\r\n            tabbing = true;\r\n            if (e.keyCode == 9) {\r\n                if (!modalSize.matches) {\r\n                    var currentSection = (determineSection(-5) - 1);\r\n                    currentSection = currentSection < 0 ? 0 : currentSection;\r\n                    if (isIE) {\r\n                        targetItems[target.idx].scrollIntoView(true);\r\n                    } else {\r\n                        targetItems[target.idx].scrollIntoView({ behavior: \"smooth\" });\r\n                    }\r\n                    toggleTab(tabs[currentSection], tabs[target.idx]);\r\n                }\r\n            }\r\n            tabbing = false;\r\n        },\r\n        handleKeydownEvent = function (e) {\r\n            var key = e.keyCode,\r\n                idx = e.target.idx;\r\n\r\n            switch (key) {\r\n            case 9: if (!e.shiftKey) {\r\n                if (modalSize.matches) {\r\n                    e.preventDefault();\r\n                    setFocus(exitFocus);\r\n                } else {\r\n                    tabbing = true;\r\n                    var focusEl;\r\n                    each(targetItems, function (target, iter) {\r\n                        if (iter >= idx && target.focusableEls.length > 0 && !focusEl) {\r\n                            focusEl = target.focusableEls;\r\n                        }\r\n                    });\r\n                    if (focusEl) { e.preventDefault(); setFocus(focusEl[0]); }\r\n                    else if (exitFocus) { e.preventDefault(); setFocus(exitFocus); }\r\n                }\r\n            }\r\n                break;\r\n            case 13:\r\n            case 32: // enter and spacebar keys\r\n                e.preventDefault();\r\n                tabbing = false;\r\n                setFocus(e.target);\r\n                e.target.click();\r\n                break;\r\n            case 35: e.preventDefault();\r\n                setFocus(items[tabs.length - 1]);\r\n                items[tabs.length - 1].click();\r\n                break;\r\n            case 36: e.preventDefault();\r\n                setFocus(items[0]);\r\n                items[0].click();\r\n                break;\r\n            case 39: e.preventDefault();\r\n                if (idx === items.length - 1) {\r\n                    setFocus(items[0]);\r\n                } else {\r\n                    setFocus(items[idx + 1]);\r\n                }\r\n                break;\r\n            case 37: e.preventDefault();\r\n                if (idx === 0) {\r\n                    setFocus(items[items.length - 1]);\r\n                } else {\r\n                    setFocus(items[idx - 1]);\r\n                }\r\n                break;\r\n            }\r\n        },\r\n        updateItems = function () {\r\n            var section = (determineSection(-5) - 1);\r\n            section = section < 0 ? 0 : section;\r\n            for (var index = 0; index < items[\"length\"]; index++) {\r\n                var item = items[index];\r\n                if (isSticky) {\r\n                    if (index == section) {\r\n                        activateTab(item);\r\n                    } else {\r\n                        deactivateTab(item);\r\n                    }\r\n                } else {\r\n                    if (index == 0) {\r\n                        activateTab(item);\r\n                    } else {\r\n                        deactivateTab(item);\r\n                    }\r\n                }\r\n            }\r\n            return item;\r\n        },\r\n        toggleTab = function (oldItem, newItem) {\r\n            deactivateTab(oldItem);\r\n            activateTab(newItem);\r\n        },\r\n        activateTab = function (item) {\r\n            item.setAttribute(\"tabindex\", \"0\");\r\n            item.classList.add(prefix + \"active\");\r\n            item.setAttribute(\"aria-selected\", \"true\");\r\n        },\r\n        deactivateTab = function (item) {\r\n            item.setAttribute(\"tabindex\", \"-1\");\r\n            item.classList.remove(prefix + \"active\");\r\n            item.setAttribute(\"aria-selected\", \"false\");\r\n        },\r\n        activateItems = function () {\r\n            element.setAttribute(\"style\", \"display: none !important;\");\r\n            each(targetItems, function (item) {\r\n                item.setAttribute(\"style\", \"display: none;\");\r\n            });\r\n        };\r\n\r\n    // init - prevent adding event handlers twice\r\n    if (!(stringNav in element)) {\r\n\r\n        modalElement = element.dataset[\"target\"] && DOC.getElementById(element.dataset[\"target\"].substr(1));\r\n\r\n        targetNav = element.nextElementSibling;\r\n\r\n        tabs = element.querySelectorAll(\"li button\");\r\n        sticky = element.getBoundingClientRect().top;\r\n        items = [];\r\n        targetItems = [];\r\n\r\n        // populate items and targets\r\n        for (var i = 0; i < tabs.length; i++) {\r\n            tabs[i].idx = i;\r\n            items.push(tabs[i]);\r\n            items[i].addEventListener(\"click\", handleClickEvent, false);\r\n            items[i].addEventListener(\"keydown\", handleKeydownEvent, false);\r\n\r\n            var panel = document.getElementById(tabs[i].dataset[\"target\"].slice(1));\r\n            panel.scrollTop += element.offsetHeight;\r\n            panel.focusableEls = getFocusableElements(panel);\r\n\r\n            each(panel.focusableEls, function (field) {\r\n                field.addEventListener(\"keyup\", handleEnterEvent, false);\r\n                field.idx = i;\r\n            });\r\n\r\n            targetItems.push(panel);\r\n            \r\n            if (opt.showModal && modalSize.matches) {\r\n                panel.classList.add(\"modal-on\");\r\n                panel.classList.remove(\"modal-off\");\r\n            } else {\r\n                panel.classList.add(\"modal-off\");\r\n                panel.classList.remove(\"modal-off\");\r\n            }\r\n        }\r\n\r\n        if (targetItems[targetItems.length - 1].focusableEls.length == 0) { // last panel and no focusable items\r\n            DOC.addEventListener(\"DOMContentLoaded\", function () { // make sure all HTML is available prior to checking\r\n                exitFocus = getNextFocusableElement(panel);\r\n            });\r\n        }\r\n\r\n        if (modalSize.matches && !opt.showModal) {    \r\n            window.removeEventListener(\"scroll\", handleScrollEvent, false);\r\n\r\n            if (!modalElement) {\r\n                activateItems();\r\n            }\r\n\r\n            element\r\n                .setAttribute(\"style\", \"display: none !important;\");\r\n        } else {\r\n            window.addEventListener(\"scroll\", handleScrollEvent, false);\r\n        }\r\n\r\n        window.addEventListener(\"resize\", function () {\r\n            if (modalSize.matches && !opt.showModal) {\r\n                return element\r\n                    .setAttribute(\"style\", \"display: none !important;\");\r\n            }\r\n\r\n            opt.showModal && toogleContent();\r\n\r\n            if (isIE) {\r\n                opt.showModal && stickNav(window.pageYOffset);\r\n                toggleElementWidth();\r\n            }\r\n        }, false);\r\n\r\n        modalSize.addListener(function () {\r\n            if (!modalSize.matches) {\r\n                element.removeAttribute(\"style\");\r\n                window.addEventListener(\"scroll\", handleScrollEvent, false);\r\n                if (modalElement) {\r\n                    hideModal();\r\n                }\r\n            } else {\r\n                element.classList.remove(prefix + \"active\");\r\n                var spacer = element.parentElement.querySelector(\".\" + prefix + \"nav-spacer\");\r\n                if (spacer) {\r\n                    element.parentElement.removeChild(spacer);\r\n                }\r\n                window.removeEventListener(\"scroll\", handleScrollEvent, false);\r\n                if (!modalElement) {\r\n                    activateItems();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    element[stringNav] = self;\r\n}\r\n\r\nexport function NavLeft(element, options) {\r\n    // initialization element, the element we spy on\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.menu = element.dataset.menu ? element.dataset.menu : options.menu ? options.menu : \"navLeft-list\";\r\n    options.main = element.dataset.main ? element.dataset.main : options.main ? options.main : null;\r\n    options.suffix = element.dataset.suffix ? element.dataset.suffix : options.suffix ? options.suffix : null;\r\n    options.arrows = element.dataset.arrows ? element.dataset.arrows : options.arrows ? options.arrows : \"right\"; // can be \"left\", \"right\", or \"center\"\r\n    options.selected = element.dataset.selected ? element.dataset.selected : options.selected ? options.selected : null;\r\n    options.altmenu = element.dataset.altmenu ? element.dataset.altmenu : options.altmenu ? options.altmenu : null; \r\n    options.replace = element.dataset.replace ? element.dataset.replace == \"true\" : options.replace ? options.replace == \"true\" : false; \r\n\r\n    // warn if required options are not provided\r\n    if (!options.main) {\r\n        throw new Error(\"Left Nav 'main' option must be set.\");\r\n    }\r\n\r\n    var self = this,\r\n        stringNavLeft = \"NavLeft\",\r\n        masthead,\r\n        desktopLeftNav,\r\n        siteBody,\r\n        offCanvas,\r\n        suffix,\r\n        footer,\r\n        buttonToggle,\r\n        footerHeight,\r\n        mastheadHeight,\r\n        visibleFooter,\r\n        parentAccordions = [],\r\n        focusableElms,\r\n        KEY_TAB = 9,\r\n        KEY_ESC = 27,\r\n        defaultMain = options.menu === \"navLeft-list\",\r\n        adjustHeightForFooter = function () {\r\n            if (!footer) {\r\n                return;\r\n            }\r\n            visibleFooter = (document.documentElement.clientHeight - footer.getBoundingClientRect().top);\r\n            visibleFooter = visibleFooter < 0 ? 0 : visibleFooter;\r\n            var calcHeight = (document.documentElement.clientHeight - visibleFooter);\r\n            if (visibleFooter > 0) {\r\n                buttonToggle.style.height = element.style.height = calcHeight + \"px\";\r\n            }\r\n            if (suffix) {\r\n                if (visibleFooter > 0) {\r\n                    suffix.style.bottom = visibleFooter + \"px\";\r\n                }\r\n                desktopLeftNav.style.maxHeight = (document.documentElement.clientHeight - suffix.getBoundingClientRect().height - footerHeight) + \"px\";\r\n            }\r\n        },\r\n        adjustHeightForMasthead = function () {\r\n            if (!masthead) {\r\n                return;\r\n            }\r\n            var calcHeight;\r\n            mastheadHeight = masthead.getBoundingClientRect().height;\r\n            if (window.pageYOffset > mastheadHeight) {\r\n                // if masthead not is visible\r\n                element.style.top = \"0px\";\r\n                if (!isFooterVisible()) {\r\n                    buttonToggle.style.height = element.style.height = document.documentElement.clientHeight + \"px\";\r\n                } else {\r\n                    buttonToggle.style.height = element.style.height = (document.documentElement.clientHeight  - visibleFooter)+ \"px\";\r\n                }\r\n            } else {\r\n                element.style.top = (mastheadHeight - window.pageYOffset) + \"px\";\r\n                if (isFooterVisible()) {\r\n                    calcHeight = (parseInt(window.getComputedStyle(element).height, 10) - (mastheadHeight - window.pageYOffset));\r\n                    buttonToggle.style.height = element.style.height = calcHeight + \"px\";\r\n                } else {\r\n                    calcHeight = (document.documentElement.clientHeight - mastheadHeight + window.pageYOffset);\r\n                    buttonToggle.style.height = element.style.height = calcHeight + \"px\";\r\n                }\r\n            }\r\n        },\r\n        alignChevrons = function(accordionButtons) {\r\n            if (accordionButtons) {\r\n                if (options.arrows === \"right\") {\r\n                    each(accordionButtons, function (accordionButton) {\r\n                        classAdd(accordionButton, prefix + \"navLeft-button-optionRight\");\r\n                    });\r\n                } else if (options.arrows === \"center\") {\r\n                    each(accordionButtons, function (accordionButton) {\r\n                        classAdd(accordionButton, prefix + \"navLeft-button-optionCenter\");\r\n                        accordionButton.children[1].after(accordionButton.children[0]);\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        cloneLeftNavToOffCanvas = function () {\r\n            if (defaultMain && !options.altmenu) {\r\n                return;\r\n            }\r\n            var offCanvasCloneSuffix = \"-offCanvas\";\r\n            if (options.altmenu) {\r\n                each(DOC.getElementById(options.altmenu).children, function (li) {\r\n                    offCanvas.leftMenu.querySelector(\"ul\").appendChild(li.cloneNode(true));\r\n                });\r\n                DOC.getElementById(options.altmenu).parentElement.removeChild(DOC.getElementById(options.altmenu));\r\n            } else {\r\n                each(element.querySelectorAll(\".\" + prefix + \"navLeft-list>li\"), function (li) {\r\n                    offCanvas.leftMenu.querySelector(\"ul\").appendChild(li.cloneNode(true));\r\n                });\r\n            }\r\n            each(offCanvas.leftMenu.querySelectorAll(\".\" + prefix + \"accordion\"), function(lnAccordion) {\r\n                lnAccordion.id = lnAccordion.id + offCanvasCloneSuffix;\r\n                lnAccordion.querySelector(\".\" + prefix + \"accordion-btn\").setAttribute(\"data-parent\", \r\n                    lnAccordion.querySelector(\".\" + prefix + \"accordion-btn\").getAttribute(\"data-parent\").substr(1) + offCanvasCloneSuffix);\r\n            });\r\n            each(offCanvas.leftMenu.querySelectorAll(\".\" + prefix + \"accordion-card-header\"), function(lnCardHeader) {\r\n                lnCardHeader.id = lnCardHeader.id + offCanvasCloneSuffix;\r\n                lnCardHeader.nextElementSibling.setAttribute(\"aria-labelledby\", \r\n                    lnCardHeader.nextElementSibling.getAttribute(\"aria-labelledby\") + offCanvasCloneSuffix);\r\n            });\r\n            each(offCanvas.leftMenu.querySelectorAll(\".\" + prefix + \"collapse\"), function(lnCollapse) {\r\n                lnCollapse.id = lnCollapse.id + offCanvasCloneSuffix;\r\n                if (lnCollapse.previousElementSibling.querySelector(\".\" + prefix + \"accordion-btn\")) {\r\n                    lnCollapse.previousElementSibling.querySelector(\".\" + prefix + \"accordion-btn\").setAttribute(\"data-target\", \r\n                        lnCollapse.previousElementSibling.querySelector(\".\" + prefix + \"accordion-btn\").getAttribute(\"data-target\") + offCanvasCloneSuffix);\r\n                    lnCollapse.previousElementSibling.querySelector(\".\" + prefix + \"accordion-btn\").setAttribute(\"aria-controls\", \r\n                        lnCollapse.previousElementSibling.querySelector(\".\" + prefix + \"accordion-btn\").getAttribute(\"aria-controls\") + offCanvasCloneSuffix);\r\n                }\r\n            });\r\n            each(offCanvas.leftMenu.querySelectorAll(\"a\"), function(lnAnchor) {\r\n                if(lnAnchor.id) {\r\n                    lnAnchor.id = lnAnchor.id + offCanvasCloneSuffix;\r\n                }\r\n            });\r\n            \r\n            // define focusable offcanvas elements\r\n            focusableElms = getFocusableElements(DOC.querySelector(\".\" + prefix + \"msthd-top .\" + prefix + \"navLeft\"));\r\n\r\n            \r\n            // reinit offcanvas collapses\r\n            each(offCanvas.leftMenu.querySelectorAll(\"[data-toggle='\" + prefix + \"collapse']\"), function (collapse) {\r\n                new Collapse(collapse);\r\n            });\r\n        },\r\n        createOffCanvasMenu = function () {\r\n            if (defaultMain && !options.altmenu) {\r\n                return;\r\n            }\r\n            // remove header menu\r\n            offCanvas = {\r\n                mastheadMend: masthead.querySelectorAll(\".\" + prefix + \"msthd-offcanvas-menu\")[0],\r\n                parent: undefined,\r\n                storedId: undefined,\r\n                leftMenu: element.querySelectorAll(\".\" + prefix + \"msthd-offcanvas-menu\")[0]\r\n            };\r\n            if (offCanvas.mastheadMend) {\r\n                offCanvas.parent = offCanvas.mastheadMend.parentElement;\r\n                offCanvas.storedId = offCanvas.mastheadMend.id;\r\n                offCanvas.parent.removeChild(offCanvas.mastheadMend);\r\n            } else {\r\n                throw new Error(\"Left Nav cannot initialize without a masthead component in the header element.\");\r\n            }\r\n\r\n            // reassign ID to leftNav's offCanvas\r\n            offCanvas.leftMenu.id = offCanvas.storedId;\r\n            if (offCanvas.parent) {\r\n                offCanvas.parent.appendChild(offCanvas.leftMenu);\r\n            }\r\n        },\r\n        expandSelection = function () {\r\n            if (!options.selected) {\r\n                return;\r\n            }\r\n            each(parentAccordions, function(stepAccord) {\r\n                var aButton = stepAccord.querySelector(\".\" + prefix + \"accordion-btn\"),\r\n                    aChevron = stepAccord.querySelector(\".\" + prefix + \"accordion-btn i\"),\r\n                    aCollapse = stepAccord.querySelector(\".\" + prefix + \"collapse\");\r\n                aButton.setAttribute(\"aria-expanded\", true);\r\n                classAdd(aChevron, prefix + \"navLeft-icon-rotate\");\r\n                one(aButton, \"click\", function(event) {\r\n                    each(getClosest(event.target, \".\" + prefix + \"accordion\", true).querySelectorAll(\".\" + prefix + \"accordion-btn i\"), function(thisChevron) {\r\n                        classRemove(thisChevron, prefix + \"navLeft-icon-rotate\");\r\n                    });\r\n                });\r\n                aCollapse.setAttribute(\"aria-expanded\", true);\r\n                classAdd(aCollapse, prefix + \"show\");\r\n            });\r\n\r\n            setTimeout(function() {\r\n                each(element.querySelectorAll(\".\" + prefix + \"navLeft-list\"), function(list) {\r\n                    var selectedLink = list.querySelector(\".\" + prefix + \"navLeft-link-selected\");\r\n                    if (selectedLink) {\r\n                        selectedLink.scrollIntoView();\r\n                    }\r\n                });\r\n            }, 500);\r\n        },\r\n        handleAdjustmentEvent = function () {\r\n            adjustHeightForFooter();\r\n            adjustHeightForMasthead();\r\n        },\r\n        handleBackClick = function () {\r\n            var activeContainer = masthead.querySelector(\".\" + prefix + \"msthd-offcanvas-menu\");\r\n            var activeButton = masthead.querySelector(\"[data-toggle='\" + prefix + \"msthd-offcanvas']\");\r\n            uicoreCustomEvent(\"LeftNav\", \"CloseEvent\", element, {\"button\": activeButton, \"container\": activeContainer});\r\n        },\r\n        handleOffCanvasKeyDown = function (e) {\r\n            switch(e.keyCode) {\r\n            case KEY_TAB:\r\n                if ( focusableElms.length === 1 ) {\r\n                    e.preventDefault();\r\n                    break;\r\n                }\r\n                if ( e.shiftKey ) {\r\n                    handleBackwardTab(e);\r\n                } else {\r\n                    handleForwardTab(e);\r\n                }\r\n                break;\r\n            case KEY_ESC: {\r\n                handleBackClick();\r\n                break;   \r\n            }\r\n            default:\r\n                break;\r\n            }\r\n        },\r\n        handleBackwardTab = function (e) {\r\n            if ( DOC.activeElement === focusableElms[0] ) {\r\n                e.preventDefault();\r\n                focusableElms[focusableElms.length-1].focus();\r\n            }\r\n        },\r\n        handleForwardTab = function (e) {\r\n            if ( DOC.activeElement === focusableElms[focusableElms.length-1] ) {\r\n                e.preventDefault();\r\n                focusableElms[0].focus();\r\n            }\r\n        },\r\n        handleOffCanvasItemEsc = function (e) {\r\n            switch(e.keyCode) {\r\n            case KEY_ESC: {\r\n                handleBackClick();\r\n                break;   \r\n            }\r\n            default:\r\n                break;\r\n            }    \r\n        },\r\n        handleOffCanvasOpenEvent = function () {\r\n            each(focusableElms, function(fElement) { // top level categories\r\n                fElement.addEventListener(\"keydown\", handleOffCanvasKeyDown, false);\r\n            });\r\n            // add eventListener to offCanvas menu choices, but not categories\r\n            each(offCanvas.leftMenu.querySelectorAll(\"li a\"), function(aItem) {\r\n                aItem.addEventListener(\"keydown\", handleOffCanvasItemEsc);\r\n                aItem.addEventListener(\"click\", handleBackClick);\r\n            });\r\n            each(offCanvas.leftMenu.querySelectorAll(\"li button\"), function(aItem) {\r\n                aItem.addEventListener(\"keydown\", handleOffCanvasItemEsc);\r\n            });\r\n            if (DOC.body.classList.contains(\"user-is-tabbing\")) {\r\n                setTimeout(function() {\r\n                    setFocus(focusableElms[0]);\r\n                }, 200);\r\n            }\r\n        },\r\n        handleOffCanvasCloseEvent = function () {\r\n            each(focusableElms, function(fElement) {\r\n                fElement.removeEventListener(\"keydown\", handleOffCanvasKeyDown, false);\r\n            });\r\n            each(offCanvas.leftMenu.querySelectorAll(\"li a\"), function(aItem) {\r\n                aItem.removeEventListener(\"keydown\", handleOffCanvasItemEsc);\r\n                aItem.removeEventListener(\"click\", handleBackClick);\r\n            });\r\n            each(offCanvas.leftMenu.querySelectorAll(\"li button\"), function(aItem) {\r\n                aItem.removeEventListener(\"keydown\", handleOffCanvasItemEsc);\r\n            });\r\n            if (DOC.body.classList.contains(\"user-is-tabbing\")) {\r\n                setTimeout(function() {\r\n                    setFocus(masthead.querySelector(\"[data-toggle='\" + prefix + \"msthd-offcanvas']\"));\r\n                }, 200);\r\n            }\r\n            ariaAnnounce(\r\n                masthead.querySelector(\"[data-toggle='\" + prefix + \"msthd-offcanvas']\").getAttribute(\"aria-label\") + \" \" + \r\n                masthead.querySelector(\"[data-toggle='\" + prefix + \"msthd-offcanvas']\").getAttribute(\"aria-expanded\")\r\n            );\r\n        },\r\n        handleToggleClick = function () { // active in this case means the site body is fully expanded, or that the leftnav has been altered from its initial state (thus, collapsed)\r\n            if (element.classList[\"contains\"](prefix + \"active\")) {\r\n                classRemove(element, prefix + \"active\");\r\n                classRemove(siteBody, prefix + \"active\");\r\n                classRemove(buttonToggle.querySelector(\"svg\"), prefix + \"rotate-180\");\r\n                buttonToggle.setAttribute(\"aria-expanded\", \"true\");\r\n                element.querySelector(\"#navLeft-list\").style.display = \"\";\r\n            } else {\r\n                classAdd(element, prefix + \"active\");\r\n                classAdd(siteBody, prefix + \"active\");\r\n                classAdd(buttonToggle.querySelector(\"svg\"), prefix + \"rotate-180\");\r\n                buttonToggle.setAttribute(\"aria-expanded\", \"false\");\r\n                element.querySelector(\"#navLeft-list\").style.display = \"none\";\r\n            }\r\n            setTimeout(function () {\r\n                adjustHeightForFooter();\r\n                adjustHeightForMasthead();\r\n            }, 200);\r\n        },\r\n        highlightSelection = function () {\r\n            if (!options.selected) {\r\n                return;\r\n            }\r\n            var anchortags = DOC.querySelectorAll(\"a[href*='\" + options.selected + \"']\");\r\n            each(anchortags, function (tag) {\r\n                var ps = tag.parentElement.previousElementSibling;\r\n                if (ps && ps.tagName.toLowerCase() === \"li\") {\r\n                    classAdd(ps, prefix + \"navLeft-link-selectedPrev\");\r\n                }\r\n                classAdd(tag.parentElement, prefix + \"navLeft-link-selected\");\r\n                // take note of parent accordions\r\n                var parentAccordion = getClosest(tag, \".\" + prefix + \"accordion\", true);\r\n                do {\r\n                    parentAccordions.push(parentAccordion);\r\n                    parentAccordion = getClosest(parentAccordion.parentElement, \".\" + prefix + \"accordion\", true);\r\n                } while (parentAccordion);\r\n                parentAccordions = parentAccordions.reverse();\r\n            });\r\n        },\r\n        isFooterVisible = function () {\r\n            return footer ? DOC.body.offsetHeight >= footer.getBoundingClientRect().top : false;\r\n        };\r\n\r\n    // init\r\n    if (!(stringNavLeft in element)) { // prevents adding event handlers twice\r\n        var pageReadyCount = 0,\r\n            pageReadyInterval = 50,\r\n            maxPageReadyTry = 5000;\r\n        // assign global variables\r\n        desktopLeftNav = element.querySelector(\".\" + prefix + \"navLeft\");\r\n        siteBody = DOC.getElementById(options.main);\r\n        buttonToggle = element.querySelector(\".\" + prefix + \"navLeft-btn-toggle\");\r\n\r\n        // add event handlers\r\n        window.addEventListener(\"scroll\", handleAdjustmentEvent);\r\n        window.addEventListener(\"resize\", handleAdjustmentEvent);\r\n        if (options.menu.length > 0 || options.altmenu.length > 0) { // otherwise let masthead continue to manage offcanvas\r\n            DOC.addEventListener(\"uicMastheadOffCanvasOpen\", handleOffCanvasOpenEvent, false);\r\n            DOC.addEventListener(\"uicMastheadOffCanvasClose\", handleOffCanvasCloseEvent, false);\r\n        }\r\n        buttonToggle.addEventListener(\"click\", handleToggleClick);\r\n\r\n        // adjust initial page elements\r\n        if (!defaultMain) {\r\n            if (DOC.getElementById(options.menu)) {\r\n                DOC.getElementById(options.menu).hidden = true;\r\n            } else {\r\n                throw new Error(\"Element not found by ID ('\" + options.menu + \"') for left nav menu choices.\");\r\n            }\r\n        }\r\n        if (options.altmenu) {\r\n            if (DOC.getElementById(options.altmenu)) {\r\n                DOC.getElementById(options.altmenu).hidden = true;\r\n            } else {\r\n                throw new Error(\"Element not found by ID ('\" + options.altmenu + \"') for left nav (offcanvas) menu choices.\");\r\n            }\r\n        }\r\n        classAdd(siteBody, prefix + \"body-ml-20\");\r\n        if (options.suffix) {\r\n            suffix = DOC.getElementById(options.suffix);\r\n            element.querySelector(\"nav\").appendChild(suffix);\r\n            classAdd(suffix, prefix + \"navLeft-suffix\");\r\n        }\r\n\r\n        // move user's leftNav options into our HTML structure\r\n        if (!defaultMain) {\r\n            each(DOC.getElementById(\"navLeft-list\").querySelectorAll(\"li\"), function(oneLi) {\r\n                oneLi.parentElement.removeChild(oneLi);\r\n            });\r\n            var developerLinks = DOC.querySelectorAll(\"#\" + options.menu + \">ul>li\").length ? \r\n                DOC.querySelectorAll(\"#\" + options.menu + \">ul>li\") : \r\n                DOC.querySelectorAll(\"#\" + options.menu + \">li\");\r\n            each(developerLinks, function(thisLi) {\r\n                element.querySelector(\".\" + prefix + \"navLeft-list\").appendChild(thisLi);\r\n            });\r\n            DOC.getElementById(options.menu).parentElement.removeChild(DOC.getElementById(options.menu));\r\n        }\r\n\r\n        // Remove masthead horizontal menu if it exists\r\n        if (options.replace) {\r\n            var headerHorizontalMenu = DOC.querySelector(\".\" + prefix + \"msthd-navbar-bottom\");\r\n            if (headerHorizontalMenu) {\r\n                headerHorizontalMenu.parentElement.removeChild(headerHorizontalMenu);\r\n            }\r\n        }\r\n\r\n        // align accordion chevrons\r\n        alignChevrons(element.querySelectorAll(\".\" + prefix + \"accordion button\"));\r\n        if (options.altmenu) {\r\n            alignChevrons(document.getElementById(options.altmenu).querySelectorAll(\".\" + prefix + \"accordion button\"));\r\n        }\r\n\r\n        // assign global variables that have dependencies\r\n        var pageReady = function() {\r\n            footer = DOC.querySelector(\"footer\");\r\n            masthead = DOC.querySelector(\"header\");\r\n            footerHeight = footer.getBoundingClientRect().height;\r\n            createOffCanvasMenu();\r\n            cloneLeftNavToOffCanvas();\r\n            // set initial heights of elements\r\n            adjustHeightForFooter();\r\n            adjustHeightForMasthead();\r\n            element.style.top = mastheadHeight;\r\n            if (!isIE) { // this is a bonus check for guaranteed initial display. IE doesn't Promise, so it's skip IE, or use a polyfill.\r\n                Promise.all(Array.from(DOC.images).filter(function (img) { !img.complete; }).map(function (img) { new Promise(function (resolve) { { img.onload = img.onerror = resolve; } }); })).then(function () {\r\n                    adjustHeightForFooter();\r\n                    adjustHeightForMasthead();\r\n                });\r\n            }\r\n            highlightSelection();\r\n            expandSelection();\r\n            ResizeElement();\r\n        };\r\n\r\n        // wait for header and footer. Will be instant unless page load time is abnormally lengthy\r\n        var waitForLeftNav = function() {\r\n            if (pageReadyCount < maxPageReadyTry) {\r\n                if (DOC.querySelector(\"footer\") && DOC.querySelector(\"header\")) {\r\n                    setTimeout(pageReady, pageReadyInterval);\r\n                } else {\r\n                    setTimeout(waitForLeftNav, pageReadyInterval);\r\n                }\r\n                pageReadyCount += pageReadyInterval;\r\n            } else {\r\n                throw new Error(\"Unable to initialize Left Nav component due to page load timeout.\");\r\n            }\r\n        };\r\n\r\n        waitForLeftNav();\r\n    }\r\n\r\n\r\n    element[stringNavLeft] = self;\r\n}\r\n","import { DOC, prefix, createElement, isArray, uicoreCustomEvent, isIE, each, validateNum, renderSvg, flush } from \"./utilities.js\";\r\n\r\nexport default function Pagination(element, options) {\r\n\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    var jsonParams = element.dataset.page;\r\n    if (jsonParams) {\r\n        options = JSON.parse(jsonParams);\r\n    }\r\n\r\n    // set options\r\n    options = options || {};\r\n    options.items =  validateNum(options.items, 1);\r\n    options.filter = element.classList.contains(prefix + \"pagination-justified-filter\") ? true : false;\r\n    options.pageText = typeof options.pageText === \"string\" ? options.pageText : \"Page\";\r\n    options.itemsPerPageText = typeof options.itemsPerPageText === \"string\" ? options.itemsPerPageText : \"Items per page\";\r\n    options.perPageSelect = options.perPageSelect ? options.perPageSelect : [12, 24, 48, 96];\r\n    if (isArray(options.perPageSelect)) {\r\n        if (typeof options.perPageSelect[0] === \"number\") {\r\n            options.perPageSelect = options.perPageSelect.map(function(i) { \r\n                i = Math.abs(parseInt(i));\r\n                return i;\r\n            });\r\n        } else if (validateNum(options.perPageSelect[0])) {\r\n            options.perPageSelect = options.perPageSelect.map(function(i) { \r\n                i = Math.abs(parseInt(i));\r\n                return i;\r\n            });\r\n        } else {\r\n            throw new Error(\"Invalid perPageSelect. Should be a non-empty array of integer\");\r\n        }\r\n    } else {\r\n        options.perPageSelect = [12,24,28,96];\r\n    }\r\n    options.perPage = options.perPageSelect.indexOf(options.perPage) > -1 ? validateNum(options.perPage) : options.perPageSelect[0];\r\n    options.hidePages = options.hidePages && typeof options.hidePages === \"boolean\" ? options.hidePages : false;\r\n    options.external = options.external != null && typeof options.external === \"boolean\" ? options.external : false;\r\n    options.buttonLabelLeft = options.buttonLabelLeft ? options.buttonLabelLeft : \"Previous\";\r\n    options.buttonLabelRight = options.buttonLabelRight ? options.buttonLabelRight : \"Next\";\r\n    options.disablePaginationInput = options.disablePaginationInput != null && typeof options.disablePaginationInput === \"boolean\" ? options.disablePaginationInput : false;\r\n    options.showTotal = options.showTotal && typeof options.showTotal === \"string\" ? options.showTotal : false;\r\n\r\n    var self = this,\r\n        stringPagination = \"Pagination\",\r\n        template = \"{total}{pager}{select}\",\r\n        pagination,\r\n        prevText = options.buttonLabelLeft,\r\n        nextText = options.buttonLabelRight,\r\n        currentPage,\r\n        origPerPage = options.perPage,\r\n        previousPerPage,\r\n        newPage,\r\n        totalPages,\r\n        newTotalPages,\r\n        lastPage,\r\n        onFirstPage,\r\n        onLastPage,\r\n        links,\r\n        // handlers\r\n        handlePaginationEvent = function(e) {\r\n            var target;\r\n            if (e.target.dataset[\"page\"]) {\r\n                target = e.target;\r\n            } else {\r\n                target = e.target.parentNode;\r\n            }\r\n            var name = target.getAttribute(\"aria-label\");\r\n            var focusBtn;\r\n\r\n            var buttons = pagination.querySelectorAll(\"button\");\r\n            for (var idx = 0;idx < buttons.length;idx++) {\r\n                if (target === buttons[idx]) {\r\n                    focusBtn = buttons[idx];\r\n                    break;\r\n                } \r\n            }\r\n\r\n            if (!options.external) {\r\n                if (target.dataset[\"page\"]) {\r\n                    self.page(target.dataset[\"page\"]);\r\n                }\r\n            } else {\r\n                uicoreCustomEvent(\"Pagination\", \"PageChangeEvent\", element, { \"page\": target.dataset[\"page\"], \"perPage\" : options.perPage, \"pages\" : totalPages });\r\n            }\r\n\r\n            focusBtn = pagination.querySelector(\"[aria-label=\\\"\"+name+\"\\\"]\"),\r\n            focusBtn.focus();\r\n\r\n        },\r\n        handleKeydownEvent = function(e) {\r\n            if(e.keyCode == 13) {\r\n                if(e.target.value <= totalPages && e.target.value > 0) {\r\n                    if (!options.external) {\r\n                        self.page(e.target.value);\r\n                    } else {\r\n                        uicoreCustomEvent(\"Pagination\", \"PageChangeEvent\", element, { \"page\": e.target.value, \"perPage\" : options.perPage, \"pages\" : totalPages });\r\n                    }\r\n                } else {\r\n                    e.target.value = currentPage;\r\n                }\r\n                var queryStr = e.target.tagName;\r\n                each(e.target.classList, function(clazz) {\r\n                    queryStr += \".\" + clazz;\r\n                });\r\n                pagination.querySelector(queryStr).focus();\r\n            }\r\n        },\r\n        handleFocusoutEvent = function(e) {\r\n            if(e.target.value != currentPage) {\r\n                e.target.value = currentPage;\r\n            } else {\r\n                e.preventDefault();\r\n            }\r\n        },\r\n        handleChangeEvent = function(e) {\r\n            if (e.target.value != options.perPage) {\r\n                previousPerPage = options.perPage;\r\n                options.perPage = parseInt(e.target.value);\r\n                if (!options.external) {\r\n                    update();\r\n                } else {\r\n                    renderPage(); \r\n                    uicoreCustomEvent(\"Pagination\", \"PerPageChangeEvent\", element, { \"page\": currentPage, \"perPage\" : options.perPage, \"pages\" : totalPages });\r\n                }\r\n                var queryStr = e.target.tagName;\r\n                each(e.target.classList, function(clazz) {\r\n                    queryStr += \".\" + clazz;\r\n                });\r\n                element.querySelector(queryStr).focus();\r\n            }\r\n        },\r\n        // dynamic ui\r\n        render = function() {\r\n            if (options.showTotal) {\r\n                var totalItems = createElement(\"div\", {\r\n                    class: prefix + \"pagination-total-items\"\r\n                });\r\n                var spanItems = createElement(\"span\", {\r\n                    html: options.items + \" \" + options.showTotal\r\n                });\r\n                totalItems.appendChild(spanItems);\r\n                template = template.replace(\"{total}\", totalItems.outerHTML);\r\n            } else {\r\n                template = template.replace(\"{total}\", \"\");\r\n            }\r\n\r\n            var paginator = createElement(\"ul\", {\r\n                class: prefix + \"pagination-list\",\r\n                role: \"presentation\"\r\n            });\r\n    \r\n            // Pager placement\r\n            template = template.replace(\"{pager}\", paginator.outerHTML);\r\n\r\n            // Per Page Select placement\r\n            if (options.filter) {\r\n                var wrap = \"<div class='\" + prefix + \"perpage'></div>\";\r\n    \r\n                // Selector placement\r\n                template = template.replace(\"{select}\", wrap);\r\n            } else {\r\n                template = template.replace(\"{select}\", \"\");\r\n            }\r\n\r\n            element.innerHTML = template;\r\n\r\n            pagination = element.querySelector(\".\" + prefix + \"pagination-list\");\r\n\r\n            if (options.items < options.perPage) {\r\n                pagination.classList.add(prefix + \"pagination-hidden\");\r\n            }\r\n\r\n            update();\r\n        },\r\n        renderPage = function () {\r\n            var origCurrentPage = currentPage;\r\n\r\n            if (newPage) {\r\n                currentPage = newPage;\r\n                newPage = null;\r\n            } else if (previousPerPage) {\r\n                var firstItemOnPage = ( (origCurrentPage - 1) * previousPerPage) + 1;\r\n                currentPage = Math.ceil(firstItemOnPage / options.perPage);\r\n                previousPerPage = null;\r\n            } else if (newTotalPages && currentPage > newTotalPages) {\r\n                currentPage = newTotalPages;\r\n            }\r\n\r\n            onFirstPage = currentPage === 1;\r\n            onLastPage = currentPage === lastPage;\r\n\r\n            if (origCurrentPage != currentPage) {\r\n                uicoreCustomEvent(\"Pagination\", \"PageUpdateEvent\", element, { \"page\": currentPage, \"perPage\" : options.perPage, \"pages\" : totalPages });\r\n            }\r\n        },\r\n        renderPageInput = function() {\r\n            var pageInputWrapper = createElement(\"li\", {\r\n                class: prefix + \"pagination-input-ctnr\"\r\n            });\r\n            if (options.hidePages) {\r\n                pageInputWrapper.classList.add(prefix + \"d-none\");\r\n            }\r\n            var pageInputTextBefore = createElement(\"label\", {\r\n                html: options.pageText\r\n            });\r\n            var pageInputField = createElement(\"input\", {\r\n                class: prefix + \"form-control \" + prefix + \"text-center\" ,\r\n                type: \"text\",\r\n                value: currentPage,\r\n                \"aria-label\": \"Page \" + currentPage + \" of \" +  (newTotalPages ? newTotalPages : totalPages)\r\n            });\r\n            pageInputField.disabled = options.disablePaginationInput;\r\n            var pageInputTextAfter = createElement(\"label\", {\r\n                html: \"of \" +  (newTotalPages ? newTotalPages : totalPages)\r\n            });\r\n            \r\n            pageInputWrapper.appendChild(pageInputTextBefore);\r\n            pageInputWrapper.appendChild(pageInputField);\r\n            pageInputWrapper.appendChild(pageInputTextAfter);\r\n            return pageInputWrapper;\r\n        },\r\n        renderPager = function () {\r\n            var origTotalPages = totalPages,\r\n                pages = newTotalPages ? newTotalPages : totalPages;\r\n\r\n            flush(pagination, isIE);\r\n    \r\n            if (pages > 1) {\r\n                var frag = DOC.createDocumentFragment(),\r\n                    prev = onFirstPage ? 1 : currentPage - 1,\r\n                    next = onLastPage ? pages : currentPage + 1;\r\n    \r\n                frag.appendChild(button(\"dds__btn dds__btn-secondary dds__page-item\", prev, prevText));\r\n    \r\n                each(links, function(p) {\r\n                    frag.appendChild(p);\r\n                });\r\n    \r\n                frag.appendChild(button(\"dds__btn dds__btn-secondary dds__page-item\", next, nextText));\r\n            \r\n                pagination.appendChild(frag.cloneNode(true));\r\n                // add in click and keydown listeners\r\n                each(pagination.querySelectorAll(\"li\"), function(el) {\r\n                    var hasInput = el.querySelector(\"input\");\r\n                    var hasButton = el.querySelector(\"button\");\r\n                    if(hasButton) {\r\n                        el.addEventListener(\"click\", handlePaginationEvent, true);\r\n                    }\r\n                    if(hasInput) {\r\n                        hasInput.addEventListener(\"keydown\", handleKeydownEvent, false);\r\n                        hasInput.addEventListener(\"focusout\", handleFocusoutEvent, false);\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (pages != origTotalPages || newTotalPages) {\r\n                totalPages = pages;\r\n                newTotalPages = null;\r\n                uicoreCustomEvent(\"Pagination\", \"PerPageUpdateEvent\", element, { \"page\": currentPage, \"perPage\" : options.perPage, \"pages\" : totalPages });\r\n            }\r\n        },\r\n        renderSelect = function() {\r\n            var el = element.querySelector(\".\" + prefix + \"perpage\");\r\n            if (el) { flush(el, isIE); }\r\n            var select = createElement(\"select\",{\r\n                class: prefix + \"form-control\"\r\n            });\r\n\r\n            // Create the options\r\n            each(options.perPageSelect, function(val) {\r\n                var option;\r\n                if (val == options.perPage) {\r\n                    option = new Option(val, val, true, true);\r\n                } else {\r\n                    option = new Option(val, val, false, false);\r\n                }\r\n                select.add(option);\r\n            });\r\n\r\n            var label = createElement(\"label\", {\r\n                html: options.itemsPerPageText\r\n            });\r\n\r\n            // Custom label\r\n            el.innerHTML = \"\";\r\n            el.appendChild(select);\r\n            el.appendChild(label);\r\n\r\n            select.addEventListener(\"change\", handleChangeEvent, false);\r\n\r\n        },\r\n        renderTotalItems = function() {\r\n            var totalItemsWrapper = element.querySelector(\".\" + prefix + \"pagination-total-items\");\r\n            flush(totalItemsWrapper, isIE);\r\n            totalItemsWrapper.appendChild(createElement(\"span\", {html: options.items + \" \" + options.showTotal}));\r\n        },\r\n        button = function (c, p, t) {\r\n            var el = createElement(\"li\");\r\n\r\n            var bEl = createElement(\"button\", {\r\n                class: c + \" \" + prefix + \"pager-link\",\r\n\r\n                \"aria-label\": t,\r\n                \"data-page\": p\r\n            });\r\n            \r\n            var span = createElement(\"span\", {\r\n                html: t\r\n            });\r\n            bEl.appendChild(span);\r\n            var svgElem;\r\n            if (t === prevText) {\r\n                svgElem = renderSvg([{name:\"chevron-left\", show:true}]);\r\n                svgElem.setAttribute(\"name\",\"chevron-left\");\r\n                bEl.insertBefore(svgElem, span);\r\n                if (onFirstPage) {\r\n                    bEl.setAttribute(\"disabled\",\"\");\r\n                }\r\n            } else if (t === nextText) {\r\n                svgElem = renderSvg([{name:\"chevron-right\", show:true}]);\r\n                svgElem.setAttribute(\"name\",\"chevron-right\");\r\n                bEl.appendChild(svgElem);\r\n                if (onLastPage) {\r\n                    bEl.setAttribute(\"disabled\",\"\");\r\n                }\r\n            }\r\n            el.appendChild(bEl);\r\n\r\n            return el;\r\n        },\r\n        paginate = function () {\r\n            var pages;\r\n\r\n            if (options.items < options.perPage) {\r\n                pages = 1;\r\n            } else {\r\n                pages = Math.ceil( (options.items / options.perPage) );\r\n            }\r\n            if (!totalPages) {\r\n                totalPages = lastPage = pages;\r\n            } else {\r\n                newTotalPages = lastPage = pages;\r\n            }\r\n        },\r\n        update = function() {\r\n\r\n            if (options.items < options.perPage) {\r\n                pagination.classList.add(prefix + \"pagination-hidden\");\r\n            } else if (pagination.classList.contains(prefix + \"pagination-hidden\")) {\r\n                pagination.classList.remove(prefix + \"pagination-hidden\");\r\n            }\r\n\r\n            paginate(); \r\n\r\n            renderPage();\r\n    \r\n            links = [renderPageInput()];\r\n    \r\n            renderPager();\r\n\r\n            if(options.filter) {\r\n                renderSelect();\r\n            }\r\n\r\n            if (options.showTotal) {\r\n                renderTotalItems();\r\n            }\r\n        };\r\n\r\n\r\n\r\n    /**\r\n     * Changes the page to the number passed in\r\n     * @param  {int} num\r\n     * @return {void}\r\n     */\r\n    this.page = function(num) {\r\n        \r\n        newPage = validateNum(num);\r\n\r\n        if (!newPage\r\n            || newPage == currentPage \r\n            || newPage > totalPages \r\n            || newPage < 0\r\n        ) {\r\n            return false;\r\n        }\r\n\r\n        update();\r\n    };\r\n\r\n    /**\r\n     * Changes the value chosen in the per-page selection input\r\n     * @param  {int} num\r\n     * @return {void}\r\n     */\r\n    this.perPage = function(num) {\r\n        var newPerPage = validateNum(num);\r\n\r\n        if (!newPerPage) {\r\n            return false;\r\n        } else {\r\n            options.perPage = newPerPage;\r\n        }\r\n\r\n        update();\r\n    };\r\n    \r\n    /**\r\n     * Adds the amount of items passed in\r\n     * @param  {int} num\r\n     * @return {void}\r\n     */\r\n    this.addItems = function(num) {\r\n        \r\n        var addItems = validateNum(num);\r\n\r\n        if (!addItems) {\r\n            return false;\r\n        } else {\r\n            options.items += addItems;\r\n        }\r\n\r\n        update();\r\n    };\r\n\r\n    /**\r\n     * Removes the amount of items passed in\r\n     * @param  {int} num\r\n     * @return {void}\r\n     */\r\n    this.removeItems = function(num) {\r\n        \r\n        var remItems = validateNum(num);\r\n\r\n        if (!remItems) {\r\n            return false;\r\n        } else {\r\n            options.items -= remItems;\r\n        }\r\n\r\n        update();\r\n    };\r\n\r\n    /**\r\n     * Sets the total number of items to the number passed in\r\n     * @param  {int} num\r\n     * @return {void}\r\n     */\r\n    this.setItems = function(num) {\r\n        \r\n        var newItems = validateNum(num);\r\n        if (newItems == undefined || newItems == null) {\r\n            if (num === 0) options.items = 0;\r\n            pagination.classList.add(prefix + \"pagination-hidden\");\r\n            return false;\r\n        } else {\r\n            options.items = newItems;\r\n            if (options.items === 0) {\r\n                options.perPage = origPerPage;\r\n                previousPerPage = null;\r\n            }\r\n        }\r\n\r\n        update();\r\n    };\r\n\r\n    /**\r\n     * Return the calculated pages\r\n     * @return {int} totalPages\r\n     */\r\n    this.pages = function() {\r\n        return totalPages;\r\n    };\r\n\r\n    //init\r\n    if (!(stringPagination in element)) {\r\n        currentPage = 1;\r\n        render();\r\n    }\r\n\r\n    element[stringPagination] = self;\r\n}","import { DOC, emulateTransitionEnd, globalObject, getClosest, prefix, styleTip, uicoreCustomEvent, getFullScreenOverlay, createElement, jsonOptionsInit} from \"./utilities.js\";\r\n\r\nexport default function Popover(element, options) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.delay = element.dataset.delay ? parseInt(element.dataset.delay) : options.delay ? parseInt(options.delay) : 10;\r\n    options.title = element.dataset.title ? element.dataset.title : options.data_title ? options.data_title : null;\r\n    options.content = element.dataset.content ? element.dataset.content : options.data_content ? options.data_content : null;\r\n    options.placement = element.dataset.placement ? element.dataset.placement : options.data_placement ? options.data_placement : null;\r\n    options.container = element.dataset.container ? element.dataset.container : options.container ? options.container : DOC.body;\r\n\r\n    // validate options\r\n    (function () {\r\n        if (options.title == null || options.title === \"\") {\r\n            throw new Error(\"There was a problem found with title value, please correct and try again\");\r\n        }\r\n        if (options.content == null || options.content === \"\") {\r\n            throw new Error(\"There was a problem found with content value, please correct and try again\");\r\n        }\r\n        if (options.placement == null) {\r\n            throw new Error(\"There was a problem found with placement value, please correct and try again\");\r\n        }\r\n        var inOffCanvas = getClosest(element, \".\" + prefix + \"modal-offcanvas\");\r\n        if(inOffCanvas) {\r\n            options.container = inOffCanvas;\r\n        } else {\r\n            var inFixedTop = getClosest(element, \".fixed-top\");\r\n            if(inFixedTop) {\r\n                options.container = inFixedTop;\r\n            } else {\r\n                var inFixedBottom = getClosest(element, \".fixed-bottom\");\r\n                if(inFixedBottom) {\r\n                    options.container = inFixedBottom;\r\n                }\r\n            }\r\n        }\r\n    })();\r\n\r\n    // DATA API\r\n    var self = this,\r\n        popoverString = \"Popover\",\r\n        container = DOC.body,\r\n        overlay = getFullScreenOverlay(),\r\n        popoverArrow = null,\r\n        popoverCloseBtn = null,\r\n        positionCalc = true,\r\n        smallMedia = window.matchMedia(\"(max-width: 767.98px)\"),\r\n        popover = null,\r\n        popoverModal = null,\r\n        // handlers\r\n        triggerHandler = function(e) {\r\n            setTimeout( function() {\r\n                self.toggle();\r\n                e.preventDefault();\r\n            }, options.delay);\r\n        },\r\n        blurHandler = function(e) {\r\n            setTimeout( function() {\r\n                if(popover && !popover.contains(DOC.activeElement)) {\r\n                    self.hide();\r\n                    element.focus();\r\n                    DOC.activeElement.removeEventListener(\"focusout\", blurHandler, false);\r\n                    e.preventDefault();\r\n                } else {\r\n                    DOC.activeElement.addEventListener(\"focusout\", blurHandler, false);\r\n                }\r\n            }, options.delay);\r\n        },\r\n        clickHandler = function(e) {\r\n            if (popover && popover.contains(e.target)) {\r\n                if(e.target === popoverCloseBtn || popoverCloseBtn.contains(e.target)) {\r\n                    self.hide();\r\n                    element.focus();\r\n                    e.preventDefault();\r\n                }\r\n            } \r\n        },\r\n        keyHandler = function (e) {\r\n            if (e.keyCode === 27 && e.type === \"keydown\") { //esc\r\n                element.focus();\r\n                self.hide();\r\n                e.preventDefault();\r\n            } else if (e.keyCode === 13 && e.type === \"keydown\") { //enter\r\n                if (e.currentTarget.classList.contains(prefix + \"close\")) {\r\n                    self.hide();\r\n                    element.focus();\r\n                    e.preventDefault();\r\n                }\r\n            } else if (e.keyCode === 9 & e.type === \"keydown\") { //tab out\r\n                if (e.shiftKey && e.srcElement.classList.contains(prefix + \"popover\")) {\r\n                    self.hide();\r\n                    element.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        },\r\n        createPopover = function () {\r\n            //create popover divs\r\n            var popoverDialog = null,\r\n                popoverTitleDiv = null,\r\n                popoverTitle = null,\r\n                popoverContent = null,\r\n                popoverParagraph = null;\r\n\r\n            popover = createElement(\"div\", {\r\n                class: prefix + \"modal-dialog\",\r\n                tabindex: \"0\",\r\n                role: \"dialog\"\r\n            });\r\n\r\n\r\n            popoverDialog = createElement(\"div\", {\r\n                class: prefix + \"popover-dialog\",\r\n            });\r\n            popover.appendChild(popoverDialog);\r\n\r\n            //create popover arrow\r\n            popoverArrow = createElement(\"div\", {\r\n                class: prefix + \"arrow\"\r\n            });\r\n            popover.appendChild(popoverArrow);\r\n\r\n            //set popover title container\r\n            popoverTitleDiv = createElement(\"div\", {\r\n                class: prefix + \"popover-title-container \" + prefix + \"d-flex\"\r\n            });\r\n\r\n            popoverDialog.appendChild(popoverTitleDiv);\r\n\r\n            popoverTitle = createElement(\"h3\", {\r\n                class: prefix + \"popover-header \" + prefix + \"bold-16\",\r\n                html: options.title\r\n            });\r\n            popoverTitleDiv.appendChild(popoverTitle);\r\n\r\n            //set popover body content\r\n            popoverContent = createElement(\"div\", {\r\n                class: prefix + \"popover-body\"\r\n            });\r\n\r\n            popoverParagraph = createElement(\"p\", {\r\n                html: options.content\r\n            });\r\n\r\n            popoverDialog.appendChild(popoverContent);\r\n            popoverContent.appendChild(popoverParagraph);\r\n            \r\n            //create close button\r\n            popoverCloseBtn = createElement(\"button\", {\r\n                class: prefix + \"close\" + \" \" +  prefix + \"icons \" + prefix + \"close-x \" + prefix + \"position-absolute\",\r\n                tabindex: \"0\",\r\n                aria_label: \"Close Popover\",\r\n                data_dismiss: prefix + \"popover\"\r\n            });\r\n\r\n            popoverTitleDiv.appendChild(popoverCloseBtn);\r\n        \r\n            //append to the container\r\n            if (smallMedia.matches) {\r\n                popoverModal = createElement(\"div\", {\r\n                    class: prefix + \"modal\"\r\n                });\r\n                popoverModal.style.display = \"block\";\r\n            \r\n                DOC.body.classList.add(prefix + \"modal-open\");\r\n                popoverModal.appendChild(popover);\r\n                element.parentNode.insertBefore(popoverModal, element);\r\n            } else {\r\n                container.insertBefore(popover, container.firstChild);\r\n            }\r\n            popover.style.display = \"block\";\r\n            popover.setAttribute(\"class\", prefix + \"popover\" + \" \" + prefix + \"bs-popover-\" + options.placement + \" \" + prefix + \"fade\"+ \" \" + prefix + \"show \" + prefix + \"rounded-0\");\r\n        },\r\n        createOverlay = function () {\r\n            if (overlay) {\r\n                overlay.classList.add(prefix + \"show\");\r\n                overlay.removeAttribute(\"hidden\");\r\n                overlay.style.visibility = \"hidden\";\r\n            } else {\r\n                console.warn(\"POPOVER: Overlay requested. Corresponding HTML missing. Please apply 'dds__overlay' to a div\");\r\n            }\r\n\r\n        },\r\n        removeOverlay = function () {\r\n            if (overlay) {\r\n                overlay.classList.remove(prefix + \"show\");\r\n            }\r\n        },\r\n        removePopover = function () {\r\n            var popoverParent = popover.parentNode;\r\n\r\n            // if popover has the dds__modal, then access it's parent to remove the whole node\r\n            if (popoverParent.getAttribute('class') === prefix + \"modal\") {\r\n                popoverParent.parentNode.removeChild(popoverParent);\r\n            } else {\r\n                container.removeChild(popover);\r\n            }\r\n            popover = null;\r\n            DOC.body.classList.remove(prefix + \"modal-open\");\r\n        },\r\n        showPopover = function () {\r\n            !(popover.classList.contains(prefix + \"show\")) && popover.classList.add(prefix + \"show\");\r\n            popover.focus();\r\n        },\r\n        updatePopover = function () {\r\n            if (positionCalc) {\r\n                styleTip(element, popover, options.placement, container);\r\n            }\r\n            else {\r\n                popover.style.cssText = \"\";\r\n            }\r\n        },\r\n        // triggers\r\n        showTrigger = function() {\r\n            popover.addEventListener(\"blur\", blurHandler, false);\r\n            uicoreCustomEvent(\"Popver\", \"Shown\", element);\r\n        },\r\n        hideTrigger = function() {\r\n            popover.removeEventListener(\"blur\", blurHandler, false);\r\n            removePopover();\r\n            uicoreCustomEvent(\"Popover\", \"Hidden\", element);\r\n        },\r\n        positionCalculation = function(e) {\r\n            if (e.matches) {\r\n                positionCalc = false;\r\n            }\r\n            else {\r\n                positionCalc = true;\r\n            }\r\n        };\r\n\r\n    // public methods / handlers\r\n    this.toggle = function() {\r\n        if (popover === null) {\r\n            self.show();\r\n        } else {\r\n            self.hide();\r\n        }\r\n    };\r\n    this.show = function() {\r\n        setTimeout(function () {\r\n            if (popover === null) {\r\n                createPopover();\r\n                createOverlay();\r\n                updatePopover();\r\n                showPopover();\r\n\r\n                element.removeEventListener(\"click\", triggerHandler, false);\r\n                window.addEventListener(\"click\", clickHandler, false);\r\n                popover.addEventListener(\"keydown\", keyHandler, false);\r\n                globalObject.addEventListener(\"resize\", self.toggle, false);\r\n                uicoreCustomEvent(\"Popover\", \"ShowEvent\", element);\r\n\r\n                emulateTransitionEnd(popover, showTrigger);\r\n            }\r\n        }, options.delay);\r\n    };\r\n    this.hide = function() {\r\n        removeOverlay();\r\n        setTimeout(function () {\r\n            if (popover && popover !== null && popover.classList.contains(prefix + \"show\")) {\r\n\r\n                uicoreCustomEvent(\"Popover\", \"HideEvent\", element);\r\n                window.removeEventListener(\"click\", clickHandler, false);\r\n                popover.removeEventListener(\"keydown\", keyHandler, false);\r\n                globalObject.removeEventListener(\"resize\", self.toggle, false);\r\n                popover.classList.remove(prefix + \"show\");\r\n\r\n                emulateTransitionEnd(popover, hideTrigger);\r\n                element.addEventListener(\"click\", triggerHandler, false);\r\n            }\r\n        }, options.delay);\r\n    };\r\n    this.update = function () {\r\n        updatePopover();\r\n    };\r\n\r\n    // init\r\n    if (!(popoverString in element)) {\r\n        // prevent adding event handlers twice\r\n        element.addEventListener(\"click\", triggerHandler, false);\r\n        positionCalculation(smallMedia);\r\n        smallMedia.addListener(positionCalculation);\r\n    }\r\n\r\n    element[popoverString] = self;\r\n}\r\n","import {createElement, prefix, uicoreCustomEvent, each, jsonOptionsInit, debounce, isIE, isSafari, isEdge} from \"./utilities.js\";\r\n\r\nexport default function ProductStack(element, options) {\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.lazyload = typeof options.lazyload === \"boolean\" ? options.lazyload : false;\r\n    options.type = options.type ? options.type : \"single\";\r\n\r\n    var stringProductStack = \"ProductStack\",\r\n        itemsView,\r\n        currentOffset,\r\n        overflowContainer,\r\n        childrenWidth,\r\n        productStacks,\r\n        rightCtrls,\r\n        leftCtrls,\r\n        productStackID,\r\n        // handlers\r\n        resizeHandler = function() {\r\n            updateSectionHeights();\r\n            updateItemsView();\r\n        },\r\n        controlClick = function(e) {\r\n            var increment = childrenWidth;\r\n            if (options.type == \"page\") {\r\n                // increment = overflowContainer.offsetWidth;\r\n                var leftNumber = Math.ceil((overflowContainer.scrollLeft - 5) / childrenWidth) + 1;\r\n                var rightNumber = Math.floor((overflowContainer.scrollLeft + overflowContainer.offsetWidth + 5) / childrenWidth);\r\n                if (rightNumber - leftNumber <= 0){\r\n                    increment = childrenWidth;\r\n                } else {\r\n                    increment = childrenWidth * (rightNumber - leftNumber + 1);\r\n                }\r\n            }\r\n            \r\n            var isRight = (e.target.classList.contains(prefix + \"overflow-control-right\") || e.target.parentElement.classList.contains(prefix + \"overflow-control-right\")) ? true : false;\r\n            \r\n            if (isRight) {\r\n                if ((currentOffset + increment) < childrenWidth * productStacks.length - overflowContainer.offsetWidth - 1) {\r\n                    currentOffset += increment;\r\n                }\r\n                else {\r\n                    currentOffset = childrenWidth * productStacks.length - overflowContainer.offsetWidth;\r\n                }\r\n            } else {\r\n                if ((currentOffset - increment) > 1) {\r\n                    currentOffset -= increment;\r\n                }\r\n                else {\r\n                    currentOffset = 0;\r\n                }\r\n            }\r\n            if(isIE || isSafari || isEdge) {\r\n                overflowContainer.scrollLeft = currentOffset;\r\n            }\r\n            else {\r\n                overflowContainer.scroll({ top: 0, left: currentOffset, behavior: \"smooth\" });\r\n            }\r\n            updateItemsView();\r\n        },\r\n        updateSectionHeights = function() {\r\n            element.getElementsByTagName(\"style\")[0].innerHTML = \"\";\r\n            childrenWidth = productStacks[0].parentElement.offsetWidth;\r\n            // tallestSections can be used in the future to optimize the performace on resize\r\n            // var tallestSections = [];\r\n            each(productStacks[0].sections, function(section) {\r\n                // to optimize, we can extract querySelectorAll outside and save it somewhere instead of doing it over and over\r\n                var sectionName = \".\" + section.className.replace(/\\s/g, \".\");\r\n                var sectionMatches = element.querySelectorAll(sectionName);         \r\n                if(sectionMatches.length > 1){\r\n                    var maxHeight = 0;\r\n                    each(sectionMatches, function(sectionMatch) {\r\n                        if (sectionMatches.style){\r\n                            sectionMatches.removeAttribute(\"style\");\r\n                        }\r\n                        if (sectionMatch.offsetHeight > maxHeight) {\r\n                            maxHeight = sectionMatch.offsetHeight;\r\n                        }\r\n                        else if (sectionMatch.offsetHeight == 0) {\r\n                            sectionMatch.nextElementSibling.style.visibility = \"hidden\";\r\n                        }\r\n                    });\r\n                    var styleTag = element.getElementsByTagName(\"style\")[0].innerHTML;\r\n                    element.getElementsByTagName(\"style\")[0].innerHTML = styleTag + \"#\"+ productStackID + \" \" + sectionName + \"{ height: \" + maxHeight + \"px }\";\r\n                }\r\n            }); \r\n        },\r\n        updateItemsView = function() {\r\n            //can be optimized later on to avoid cycling through all sections to generate stylesheet \r\n            // adding and subtracting 5 pixels for flexibility on non-integer scrollLeft\r\n            if (itemsView) {\r\n                var leftNumber = Math.ceil((overflowContainer.scrollLeft - 5) / childrenWidth) + 1;\r\n                var rightNumber = Math.floor((overflowContainer.scrollLeft + overflowContainer.offsetWidth + 5) / childrenWidth);\r\n                each(itemsView, function(view){\r\n                    view.innerHTML = \"<span>\" + (leftNumber) + (leftNumber < rightNumber ? \" - \" + (Math.min(rightNumber, productStacks.length)) : \"\") + \" of \"+ productStacks.length +\"</span>\";\r\n                });\r\n                uicoreCustomEvent(\"ProductStack\", \"ChangeEvent\", element, {\"left\": leftNumber, \"right\": rightNumber, \"totalItems\": productStacks.length});\r\n                if(leftNumber <= 1){\r\n                    each(leftCtrls, function(leftCtrl){\r\n                        leftCtrl.setAttribute(\"disabled\", \"\");\r\n                    });\r\n                } else {\r\n                    each(leftCtrls, function(leftCtrl){\r\n                        leftCtrl.removeAttribute(\"disabled\");\r\n                    });\r\n                }\r\n                if (rightNumber >= productStacks.length) {\r\n                    each(rightCtrls, function(rightCtrl){\r\n                        rightCtrl.setAttribute(\"disabled\", \"\");\r\n                    });\r\n                } else {\r\n                    each(rightCtrls, function(rightCtrl){\r\n                        rightCtrl.removeAttribute(\"disabled\");\r\n                    });\r\n                }\r\n                if(rightCtrls[0].disabled && leftCtrls[0].disabled){\r\n                    each(rightCtrls, function(rightCtrl){\r\n                        rightCtrl.style.display = \"none\";\r\n                    });\r\n                    each(leftCtrls, function(leftCtrl){\r\n                        leftCtrl.style.display = \"none\";\r\n                    });\r\n                    each(itemsView, function(viewDiv){\r\n                        viewDiv.style.display = \"none\";\r\n                    });\r\n                } else{\r\n                    each(rightCtrls, function(rightCtrl){\r\n                        rightCtrl.style.display = \"block\";\r\n                    });\r\n                    each(leftCtrls, function(leftCtrl){\r\n                        leftCtrl.style.display = \"block\";\r\n                    });\r\n                    each(itemsView, function(viewDiv){\r\n                        viewDiv.style.display = \"block\";\r\n                    });\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n    this.lazyLoad = function() {\r\n        if (options.lazyload) {\r\n            updateSectionHeights();\r\n            updateItemsView();\r\n            uicoreCustomEvent(\"ProductStack\", \"LazyLoadEvent\", element, {\"success\": true});\r\n        }\r\n        else {\r\n            uicoreCustomEvent(\"ProductStack\", \"LazyLoadEvent\", element, {\"success\": false, \"msg\": \"Carousel cannot be lazy loaded. Check usage or avoid mulitple lazy loads.\"});\r\n        }\r\n    };\r\n\r\n    // prevent adding event handlers twice\r\n    if (!(stringProductStack in element)) {\r\n        productStackID = element.id ? element.id : \"product-stack\";\r\n        var style = createElement(\"style\");\r\n        style.type = \"text/css\"; \r\n        element.insertBefore(style, element.firstElementChild);\r\n        productStacks = element.querySelectorAll(\"UL.\" + prefix + \"product-stack\");\r\n        each(productStacks, function(productStack) {\r\n            productStack.sections = [];\r\n            var i = 0;\r\n            each(productStack.children, function(section) {\r\n                if (section.tagName ==\"LI\") {\r\n                    section.classList.add(prefix + \"ps-row-\"+ i++);\r\n                    productStack.sections.push(section);\r\n                }\r\n            });  \r\n        });\r\n        itemsView = element.parentElement.querySelectorAll(\"DIV.\" + prefix + \"items-view\");\r\n        overflowContainer = element.querySelector(\".\" + prefix + \"product-stack-wrapper\");\r\n        overflowContainer.addEventListener(\"scroll\", debounce(function() {\r\n            if (overflowContainer.scrollLeft != currentOffset) {\r\n                updateItemsView();\r\n                currentOffset = overflowContainer.scrollLeft;\r\n            }\r\n        }), 15);\r\n        window.addEventListener(\"load\", updateSectionHeights, false); \r\n        window.addEventListener(\"resize\", debounce(resizeHandler, 15));\r\n        childrenWidth = element.querySelector(\".\" + prefix + \"product-stack\").parentElement.offsetWidth;\r\n        rightCtrls = element.querySelectorAll(\"[data-toggle='\" + prefix + \"product-stack-control-right']\");\r\n        each(rightCtrls, function(rightCtrl){\r\n            rightCtrl.addEventListener(\"click\", controlClick, true);\r\n        });\r\n        leftCtrls = element.querySelectorAll(\"[data-toggle='\" + prefix + \"product-stack-control-left']\");\r\n        each(leftCtrls, function(leftCtrl){\r\n            leftCtrl.addEventListener(\"click\", controlClick, true);\r\n            leftCtrl.setAttribute(\"disabled\", \"\");\r\n        });\r\n        if (isEdge) {\r\n            rightCtrls[0].addEventListener(\"keydown\", function(e){\r\n                setTimeout(function(){\r\n                    if ((e.keyCode == 13 || e.keyCode == 32) && rightCtrls[0].disabled) {\r\n                        e.preventDefault();\r\n                        leftCtrls[0].focus();\r\n                    }\r\n                }, 100);\r\n            }, false);\r\n            leftCtrls[0].addEventListener(\"keydown\", function(e){\r\n                setTimeout(function(){\r\n                    if ((e.keyCode == 13 || e.keyCode == 32) && leftCtrls[0].disabled) {\r\n                        e.preventDefault();\r\n                        rightCtrls[0].focus();\r\n                    }\r\n                }, 100);\r\n            }, false);\r\n            leftCtrls[1].addEventListener(\"keydown\", function(e){\r\n                setTimeout(function(){\r\n                    if ((e.keyCode == 13 || e.keyCode == 32) && leftCtrls[1].disabled) {\r\n                        e.preventDefault();\r\n                        rightCtrls[1].focus();\r\n                    }\r\n                }, 100);\r\n            }, false);\r\n            rightCtrls[1].addEventListener(\"keydown\", function(e){\r\n                setTimeout(function(){\r\n                    if ((e.keyCode == 13 || e.keyCode == 32) && rightCtrls[1].disabled) {\r\n                        e.preventDefault();\r\n                        leftCtrls[1].focus();\r\n                    }\r\n                }, 100);\r\n            }, false);\r\n        }\r\n        currentOffset = overflowContainer.scrollLeft;\r\n        updateItemsView();\r\n    }\r\n\r\n    element[stringProductStack] = self;\r\n}","import { validateNum, jsonOptionsInit } from \"./utilities\";\r\n\r\nexport default function Progress(element, options) {\r\n    element = element instanceof HTMLElement ? element : (function () {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.showText = element.dataset.showtext ? element.dataset.showtext == \"true\" ? true : false : options.showtext == \"true\" ? true : false;\r\n    options.timeToComplete = element.dataset.timeToComplete ? validateNum(element.dataset.timeToComplete, 10000) : validateNum(options.timeToComplete, 10000);\r\n\r\n\r\n    // this defines how chunky you want the increment block to be the smaller the increment, the smoother it is,\r\n    // however, it will impact minimum time to complete depending on client's machine's performance\r\n    var increment = 0.25,\r\n        timeToComplete = options.timeToComplete,\r\n        millisecondPerTick = timeToComplete / (100.0 / increment),\r\n        width = 0,\r\n        id,\r\n        stringProgress = \"Progress\",\r\n        frame = function() {\r\n            if (width < 100.0) {\r\n                width += increment;\r\n                element.style.width = width + \"%\";\r\n                element.setAttribute(\"aria-valuenow\", Math.round(width));\r\n            } else {\r\n                element.style.width = \"100%\";\r\n                clearInterval(id);\r\n            }\r\n            if (options.showText) {\r\n                element.innerHTML = width < 100 ? Math.round(width) + \"%\" : \"100%\";\r\n            }\r\n        };\r\n\r\n    // init\r\n    if (!(stringProgress in element)) {\r\n        setInterval(frame, millisecondPerTick);\r\n    }\r\n\r\n    element[stringProgress] = self;\r\n}\r\n","import { uicoreCustomEvent, prefix, DOC, offWindowLeft, createElement, isIE, isArray, each } from \"./utilities\";\r\n\r\nexport default function Slider(element, optionsInput) {\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    var isJson = false,\r\n        jsonParams = element.dataset.slider;\r\n    if (jsonParams) {\r\n        optionsInput = JSON.parse(jsonParams);\r\n        isJson = true;\r\n    }\r\n    var options = optionsInput || {};\r\n    \r\n\r\n    // User supplied\r\n    options.animate = typeof options.animate == \"boolean\" ? options.animate : true;\r\n    options.animationDuration = typeof options.animationDuration == \"number\" ? options.animationDuration : 300;\r\n    options.ort = options.orientation ? options.orientation === \"vertical\" ? 1 : 0 : 0;\r\n    options.dir = options.direction ? options.direction === \"rtl\" ? 1 : 0 : options.ort == 1 ? 1 : 0;\r\n    options.singleStep = typeof options.step == \"number\" ? options.step : undefined;\r\n    options.percision = typeof options.percision == \"number\" ? options.percision > 2 ? 2 : options.percision : 0;\r\n    // User supplied but heeds more calculations at see validateOptions\r\n    options.behaviour = options.behaviour ? options.behaviour : \"tap\";\r\n    options.margin = typeof options.margin == \"number\" ? options.margin : 1;\r\n    options.limit = typeof options.limit == \"number\" ? options.limit : 0;\r\n    options.padding = options.padding ? options.padding : 0;\r\n    options.tooltips = typeof options.tooltips == \"boolean\" ? options.tooltips : true;\r\n    options.content = typeof options.content == \"string\" ? options.content : false;\r\n    options.showRange = typeof options.showRange == \"boolean\" ? options.showRange : false;\r\n    // Formats at see validateOptions\r\n    options.format = typeof options.format == \"object\" ? options.format : undefined;\r\n    options.ariaFormat = typeof options.ariaFormat == \"object\" ? options.ariaFormat : undefined;\r\n\r\n    var stringSlider = \"Slider\",\r\n        slider, \r\n        container,\r\n        spectrum,\r\n        optEvents = {},\r\n        events = {},\r\n        connects,\r\n        handles,\r\n        handleNumbers,\r\n        sliderBase,\r\n        parsed,\r\n        actions,\r\n        supportsPassive = isIE ? false : true,\r\n        locations = [],\r\n        values = [],\r\n        tooltips,\r\n        activeHandlesCount = 0,\r\n        minContainers = [],\r\n        maxContainers = [],\r\n        // For horizontal sliders in standard ltr documents,\r\n        // make .dds__slider-origin overflow to the left so the document doesn't scroll.\r\n        dirOffset = options.dir == 1 || options.ort == 1 ? 0 : 100,\r\n        msPrefix = element.style.msTransform !== undefined,\r\n        noPrefix = element.style.transform !== undefined,\r\n        transformRule = noPrefix ? \"transform\" : msPrefix ? \"msTransform\" : \"webkitTransform\",\r\n        // Default formatter uses numbers only and supplies percision/decimal places\r\n        defaultFormatter = { to: function(value) { return value !== undefined && value.toFixed(options.percision); }, from: Number },\r\n        // Validation\r\n        validateMargin = function(entry) {\r\n            if (options.margin === 0) {\r\n                return;\r\n            }\r\n    \r\n            options.margin = spectrum.getMargin(entry);\r\n    \r\n            if (!options.margin) {\r\n                throw new Error(\"Slider 'margin' option is only supported on linear sliders.\");\r\n            }\r\n        },\r\n        validateOptions = function() {\r\n            // Range always first initiates Spectrum\r\n            if (options.range) {\r\n                // Filter incorrect input.\r\n                if (typeof options.range !== \"object\" || isArray(options.range)) {\r\n                    throw new Error(\"Slider 'range' is not an object.\");\r\n                }\r\n\r\n                // Update if only one handle\r\n                if (options.range.min === undefined) {\r\n                    options.range.min = 0;\r\n                }\r\n\r\n                // Catch missing end.\r\n                if (options.range.max === undefined) {\r\n                    throw new Error(\"Slider Missing 'max' in 'range'.\");\r\n                }\r\n\r\n                // Catch equal start or end.\r\n                if (options.range.min === options.range.max) {\r\n                    throw new Error(\"Slider 'range' 'min' and 'max' cannot be equal.\");\r\n                }\r\n\r\n                spectrum = new Spectrum(options.range, options.snap, options.singleStep);\r\n            } else {\r\n                throw new RangeError(\"There was a problem found with the range option values, please correct and try again!\");\r\n            }\r\n            // Start\r\n            if (options.start) {\r\n                var entry = asArray(options.start);\r\n\r\n                // Validate input. Values aren't tested, as the public .val method\r\n                // will always provide a valid location.\r\n                if (!Array.isArray(entry) || !entry.length) {\r\n                    throw new Error(\"Slider 'start' option is incorrect.\");\r\n                }\r\n\r\n                // Store the number of handles.\r\n                options.handles = entry.length;\r\n\r\n                // When the slider is initialized, the .val method will\r\n                // be called with the start options.\r\n                options.start = entry;\r\n            } else {\r\n                if (options.range.min && options.range.max) {\r\n                    options.start = [options.range.min,options.range.max];\r\n                    options.handles = 2;\r\n                } else {\r\n                    options.start = options.range.max;\r\n                    options.handles = 1;\r\n                }\r\n            }\r\n            // Events\r\n            if (options.behaviour) {\r\n                // Make sure the input is a string.\r\n                if (typeof options.behaviour !== \"string\") {\r\n                    throw new Error(\"Slider 'behaviour' must be a string containing options.\");\r\n                }\r\n\r\n                // Check if the string contains any keywords.\r\n                // None are required.\r\n                var tap = options.behaviour.indexOf(\"tap\") >= 0;\r\n                var drag = options.behaviour.indexOf(\"drag\") >= 0;\r\n                var fixed = options.behaviour.indexOf(\"fixed\") >= 0;\r\n                var snap = options.behaviour.indexOf(\"snap\") >= 0;\r\n                var hover = options.behaviour.indexOf(\"hover\") >= 0;\r\n                var unconstrained = options.behaviour.indexOf(\"unconstrained\") >= 0;\r\n\r\n                if (fixed) {\r\n                    if (parsed.handles !== 2) {\r\n                        throw new Error(\"Slider 'fixed' behaviour must be used with 2 handles\");\r\n                    }\r\n\r\n                    // Use margin to enforce fixed state\r\n                    validateMargin(options.start[1] - options.start[0]);\r\n                }\r\n\r\n                if (unconstrained && (parsed.margin || parsed.limit)) {\r\n                    throw new Error(\r\n                        \"Slider 'unconstrained' behaviour cannot be used with margin or limit\"\r\n                    );\r\n                }\r\n\r\n                optEvents = {\r\n                    tap: tap || snap,\r\n                    drag: drag,\r\n                    fixed: fixed,\r\n                    snap: snap,\r\n                    hover: hover,\r\n                    unconstrained: unconstrained\r\n                };\r\n            }\r\n            // Margin\r\n            if (optEvents.fixed == 0) { // at see validateBehaviour\r\n                validateMargin(options.margin);\r\n            }\r\n            // Limit\r\n            options.limit = spectrum.getMargin(options.limit);\r\n            // Padding\r\n            if (options.padding) {\r\n                if (typeof options.padding == \"number\" && !Array.isArray(options.padding)) {\r\n                    throw new Error(\r\n                        \"Slider 'padding' option must be numeric or array of exactly 2 numbers.\"\r\n                    );\r\n                }\r\n        \r\n                if (Array.isArray(options.padding) \r\n                    && !(   options.padding.length == 2 \r\n                            || typeof options.padding[0] != \"number\" \r\n                            || typeof options.padding[1] != \"number\"\r\n                    )\r\n                )\r\n                {\r\n                    throw new Error(\r\n                        \"Slider 'padding' option must be numeric or array of exactly 2 numbers.\"\r\n                    );\r\n                }\r\n        \r\n                if (options.padding === 0) {\r\n                    return;\r\n                }\r\n        \r\n                if (!Array.isArray(options.padding)) {\r\n                    options.padding = [options.padding];\r\n                }\r\n        \r\n                // 'getMargin' returns false for invalid values.\r\n                options.padding = [spectrum.getMargin(options.padding[0]), spectrum.getMargin(options.padding[1])];\r\n        \r\n                if (options.padding[0] === false || options.padding[1] === false) {\r\n                    throw new Error(\"Slider 'padding' option is only supported on linear sliders.\");\r\n                }\r\n        \r\n                if (options.padding[0] < 0 || options.padding[1] < 0) {\r\n                    throw new Error(\"Slider 'padding' option must be a positive number(s).\");\r\n                }\r\n        \r\n                if (options.padding[0] + options.padding[1] > 100) {\r\n                    throw new Error(\"Slider 'padding' option must not exceed 100% of the range.\");\r\n                }\r\n            }\r\n            // Tooltips\r\n            if (options.tooltips) {\r\n                var tooltips;\r\n                if (options.tooltips === false) {\r\n                    return;\r\n                }\r\n        \r\n                if (options.tooltips === true) {\r\n                    tooltips = [];\r\n        \r\n                    for (var i = 0; i < options.handles; i++) {\r\n                        tooltips.push(true);\r\n                    }\r\n                } else {\r\n                    tooltips = asArray(options.tooltips);\r\n        \r\n                    if (tooltips.length !== handles) {\r\n                        throw new Error(\"Slider must pass a formatter for all handles.\");\r\n                    }\r\n        \r\n                    tooltips.forEach(function(formatter) {\r\n                        if (\r\n                            typeof formatter !== \"boolean\" &&\r\n                            (typeof formatter !== \"object\" || typeof formatter.to !== \"function\")\r\n                        ) {\r\n                            throw new Error(\"Slider 'tooltips' must be passed a formatter or 'false'.\");\r\n                        }\r\n                    });\r\n                }\r\n                options.tooltips = tooltips;\r\n            }\r\n            // Formats\r\n            if (!options.format) {\r\n                if (isJson) {\r\n                    var inputs = JSON.parse(jsonParams);\r\n                    if (inputs.format) {\r\n                        var testJs;\r\n                        if (inputs.format.indexOf(\"(\") > -1) {\r\n                            testJs = inputs.format.substring(0, inputs.format.indexOf(\"(\")).trim();\r\n                        } else {\r\n                            testJs = inputs.format;\r\n                        }\r\n                        if (!window[testJs]) {\r\n                            throw new Error(\"The supplied format function \"+inputs.format+\" could not be accessed, please verify and try again!\");\r\n                        } else {\r\n                            options.format = window[testJs];\r\n                        }\r\n                    } else {\r\n                        options.format = defaultFormatter;\r\n                    }\r\n                } else {\r\n                    options.format = defaultFormatter;\r\n                }\r\n            }\r\n            if (!options.ariaFormat) {\r\n                if (isJson) {\r\n                    inputs = JSON.parse(jsonParams);\r\n                    if (inputs.ariaFormat) {\r\n                        if (inputs.ariaFormat.indexOf(\"(\") > -1) {\r\n                            testJs = inputs.ariaFormat.substring(0, inputs.ariaFormat.indexOf(\"(\")).trim();\r\n                        } else {\r\n                            testJs = inputs.ariaFormat;\r\n                        }\r\n                        if (!window[testJs]) {\r\n                            throw new Error(\"The supplied format function \"+inputs.ariaFormat+\" could not be accessed, please verify and try again!\");\r\n                        } else {\r\n                            options.ariaFormat = window[testJs];\r\n                        }\r\n                    } else {\r\n                        options.ariaFormat = options.format;\r\n                    }\r\n                } else {\r\n                    options.ariaFormat = options.format;\r\n                }\r\n            }\r\n            if (options.format) {\r\n                if (!options.format.to || !options.format.from) {\r\n                    throw new Error(\"The supplied format function \"+options.format+\" is missing required method to or from, please verify and try again!\");\r\n                }\r\n            }\r\n            if (options.ariaFormat) {\r\n                if (!options.ariaFormat.to || !options.ariaFormat.from) {\r\n                    throw new Error(\"The supplied format function \"+options.format+\" is missing required method to or from, please verify and try again!\");\r\n                }\r\n            }\r\n        },\r\n        // Event Handlers\r\n        endEventHandler = function() {\r\n            var data = get();\r\n            if (!Array.isArray(data)) {\r\n                data = asArray(data);\r\n            }\r\n            for (var d = 0; d < data.length; d++) {\r\n                data[d] = typeof data[d] == \"string\" ? data[d] : options.format.to(data[d]);\r\n            }\r\n            var containers = null;\r\n            if (handles.length == 1) {\r\n                containers = maxContainers;\r\n            } else {\r\n                containers = minContainers;\r\n            }\r\n            \r\n            for (var c = 0; containers.length > c; c++) {\r\n                containers[c].innerHTML = data[0];\r\n            }\r\n            if (handles.length > 1) {\r\n                for (var max = 0; maxContainers.length > max; max++) {\r\n                    maxContainers[max].innerHTML = data[1];\r\n                }\r\n            }\r\n            var details = {};\r\n            if (data[1]) {\r\n                details.min = data[0];\r\n                details.max = data[1];\r\n            } else {\r\n                details.value = data[0];\r\n            }\r\n            uicoreCustomEvent(\"Slider\", \"SlideEnd\", element, details);\r\n        },\r\n        focusEventHandler = function(e) {\r\n            e[\"currentTarget\"].classList.add(prefix + \"slider-active\");\r\n        },\r\n        blurEventHandler = function(e) {\r\n            e[\"currentTarget\"].classList.remove(prefix + \"slider-active\");\r\n        },\r\n        \r\n        // Handles keydown on focused handles\r\n        // Don't move the document when pressing arrow keys on focused handles\r\n        eventKeydown = function(event, handleNumber) {\r\n            if (isSliderDisabled() || isHandleDisabled(handleNumber)) {\r\n                return false;\r\n            }\r\n\r\n            var horizontalKeys = [\"Left\", \"Right\"];\r\n            var verticalKeys = [\"Down\", \"Up\"];\r\n            var largeStepKeys = [\"PageDown\", \"PageUp\"];\r\n            var edgeKeys = [\"Home\", \"End\"];\r\n\r\n            if (options.dir && !options.ort) {\r\n                // On an right-to-left slider, the left and right keys act inverted\r\n                horizontalKeys.reverse();\r\n            } else if (options.ort && !options.dir) {\r\n                // On a top-to-bottom slider, the up and down keys act inverted\r\n                verticalKeys.reverse();\r\n                largeStepKeys.reverse();\r\n            }\r\n\r\n            // Strip \"Arrow\" for IE compatibility. https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\r\n            var key = event.key.replace(\"Arrow\", \"\");\r\n\r\n            var isLargeDown = key === largeStepKeys[0];\r\n            var isLargeUp = key === largeStepKeys[1];\r\n            var isDown = key === verticalKeys[0] || key === horizontalKeys[0] || isLargeDown;\r\n            var isUp = key === verticalKeys[1] || key === horizontalKeys[1] || isLargeUp;\r\n            var isMin = key === edgeKeys[0];\r\n            var isMax = key === edgeKeys[1];\r\n\r\n            if (!isDown && !isUp && !isMin && !isMax) {\r\n                return true;\r\n            }\r\n\r\n            event.preventDefault();\r\n\r\n            var to;\r\n\r\n            if (isUp || isDown) {\r\n                var multiplier = 5;\r\n                var direction = isDown ? 0 : 1;\r\n                var steps = getNextStepsForHandle(handleNumber);\r\n                var step = steps[direction];\r\n\r\n                // At the edge of a slider, do nothing\r\n                if (step === null) {\r\n                    return false;\r\n                }\r\n\r\n                // No step set, use the default of 10% of the sub-range\r\n                if (step === false) {\r\n                    step = Spectrum.getDefaultStep(locations[handleNumber], isDown, 10);\r\n                }\r\n\r\n                if (isLargeUp || isLargeDown) {\r\n                    step *= multiplier;\r\n                }\r\n\r\n                // Step over zero-length ranges (#948);\r\n                step = Math.max(step, 0.0000001);\r\n\r\n                // Decrement for down steps\r\n                step = (isDown ? -1 : 1) * step;\r\n\r\n                to = values[handleNumber] + step;\r\n            } else if (isMax) {\r\n                // End key\r\n                to = options.spectrum.xVal[options.spectrum.xVal.length - 1];\r\n            } else {\r\n                // Home key\r\n                to = options.spectrum.xVal[0];\r\n            }\r\n\r\n            setHandle(handleNumber, spectrum.toStepping(to), true, true);\r\n\r\n            fireEvent(\"slide\", handleNumber);\r\n            fireEvent(\"update\", handleNumber);\r\n            fireEvent(\"change\", handleNumber);\r\n            fireEvent(\"set\", handleNumber);\r\n\r\n            return false;\r\n        },\r\n        getNextStepsForHandle = function(handleNumber) {\r\n            var location = locations[handleNumber];\r\n            var nearbySteps = spectrum.getNearbySteps(location);\r\n            var value = values[handleNumber];\r\n            var increment = nearbySteps.thisStep.step;\r\n            var decrement = null;\r\n\r\n            // If snapped, directly use defined step value\r\n            if (options.snap) {\r\n                return [\r\n                    value - nearbySteps.stepBefore.startValue || null,\r\n                    nearbySteps.stepAfter.startValue - value || null\r\n                ];\r\n            }\r\n\r\n            // If the next value in this step moves into the next step,\r\n            // the increment is the start of the next step - the current value\r\n            if (increment !== false) {\r\n                if (value + increment > nearbySteps.stepAfter.startValue) {\r\n                    increment = nearbySteps.stepAfter.startValue - value;\r\n                }\r\n            }\r\n\r\n            // If the value is beyond the starting point\r\n            if (value > nearbySteps.thisStep.startValue) {\r\n                decrement = nearbySteps.thisStep.step;\r\n            } else if (nearbySteps.stepBefore.step === false) {\r\n                decrement = false;\r\n            }\r\n\r\n            // If a handle is at the start of a step, it always steps back into the previous step first\r\n            else {\r\n                decrement = value - nearbySteps.stepBefore.highestStep;\r\n            }\r\n\r\n            // Now, if at the slider edges, there is no in/decrement\r\n            if (location === 100) {\r\n                increment = null;\r\n            } else if (location === 0) {\r\n                decrement = null;\r\n            }\r\n\r\n            // As per #391, the comparison for the decrement step can have some rounding issues.\r\n            var stepDecimals = spectrum.countStepDecimals();\r\n\r\n            // Round per #391\r\n            if (increment !== null && increment !== false) {\r\n                increment = Number(increment.toFixed(stepDecimals));\r\n            }\r\n\r\n            if (decrement !== null && decrement !== false) {\r\n                decrement = Number(decrement.toFixed(stepDecimals));\r\n            }\r\n\r\n            return [decrement, increment];\r\n        },\r\n        // Attach events to several slider parts.\r\n        bindSliderEvents = function(behaviour) {\r\n            // Attach the standard drag event to the handles.\r\n            if (!behaviour.fixed) {\r\n                handles.forEach(function(handle, index) {\r\n                    // These events are only bound to the visual handle\r\n                    // element, not the 'real' origin element.\r\n                    attachEvent(actions.start, handle.children[0], eventStart, {\r\n                        handleNumbers: [index]\r\n                    });\r\n                });\r\n            }\r\n\r\n            // Attach the tap event to the slider base.\r\n            if (behaviour.tap) {\r\n                attachEvent(actions.start, sliderBase, eventTap, {});\r\n            }\r\n\r\n            // Fire hover events\r\n            if (behaviour.hover) {\r\n                // attachEvent(actions.move, sliderBase, eventHover, {\r\n                //     hover: true\r\n                // });\r\n            }\r\n\r\n            // Make the range draggable.\r\n            if (behaviour.drag) {\r\n                connects.forEach(function(connect, index) {\r\n                    if (connect === false || index === 0 || index === connects.length - 1) {\r\n                        return;\r\n                    }\r\n\r\n                    var handleBefore = handles[index - 1];\r\n                    var handleAfter = handles[index];\r\n                    var eventHolders = [connect];\r\n\r\n                    connect.classList.add(prefix + \"slider-draggable\");\r\n\r\n                    // When the range is fixed, the entire range can\r\n                    // be dragged by the handles. The handle in the first\r\n                    // origin will propagate the start event upward,\r\n                    // but it needs to be bound manually on the other.\r\n                    if (behaviour.fixed) {\r\n                        eventHolders.push(handleBefore.children[0]);\r\n                        eventHolders.push(handleAfter.children[0]);\r\n                    }\r\n\r\n                    eventHolders.forEach(function(eventHolder) {\r\n                        attachEvent(actions.start, eventHolder, eventStart, {\r\n                            handles: [handleBefore, handleAfter],\r\n                            handleNumbers: [index - 1, index]\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n        },\r\n        // Attach an event to this slider, possibly including a namespace\r\n        bindEvent = function(namespacedEvent, callback) {\r\n            events[namespacedEvent] = events[namespacedEvent] || [];\r\n            events[namespacedEvent].push(callback);\r\n\r\n            // If the event bound is 'update,' fire it immediately for all handles.\r\n            if (namespacedEvent.split(\".\")[0] === \"update\") {\r\n                handles.forEach(function(a, index) {\r\n                    fireEvent(\"update\", index);\r\n                });\r\n            }\r\n        },\r\n        // Helpers\r\n        addNodeTo = function(addTarget, className) {\r\n            var div = createElement(\"div\", {\r\n                class: className ? className : \"\"\r\n            });\r\n\r\n            addTarget.appendChild(div);\r\n\r\n            return div;\r\n        },\r\n        // Round a value to the closest 'to'.\r\n        closest = function(value, to) {\r\n            return Math.round(value / to) * to;\r\n        },\r\n        // Current position of an element relative to the document.\r\n        offset = function(elem, orientation) {\r\n            var rect = elem.getBoundingClientRect();\r\n            var doc = elem.ownerDocument;\r\n            var docElem = doc.documentElement;\r\n            var pageOffset = getPageOffset(doc);\r\n\r\n            // getBoundingClientRect contains left scroll in Chrome on Android.\r\n            // I haven't found a feature detection that proves this. Worst case\r\n            // scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\r\n            if (/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)) {\r\n                pageOffset.x = 0;\r\n            }\r\n            return orientation\r\n                ? rect.top + pageOffset.y - docElem.clientTop\r\n                : rect.left + pageOffset.x - docElem.clientLeft;\r\n        },\r\n        // Fire 'end' when a mouse or pen leaves the document.\r\n        documentLeave = function(event, data) {\r\n            if (event.type === \"mouseout\" && event.target.nodeName === \"HTML\" && event.relatedTarget === null) {\r\n                eventEnd(event, data);\r\n            }\r\n        },\r\n        // Handle movement on document for handle and range drag.\r\n        eventMove = function(event, data) {\r\n            // Check if we are moving up or down\r\n            var movement = (options.dir ? -1 : 1) * (event.calcPoint - data.startCalcPoint);\r\n\r\n            // Convert the movement into a percentage of the slider width/height\r\n            var proposal = (movement * 100) / data.baseSize;\r\n\r\n            moveHandles(movement > 0, proposal, data.locations, data.handleNumbers);\r\n        },\r\n        // Unbind move events on document, call callbacks.\r\n        eventEnd = function(event, data) {\r\n            // The handle is no longer active, so remove the class.\r\n            if (data.handle) {\r\n                data.handle.classList.remove(prefix + \"slider-active\");\r\n                activeHandlesCount -= 1;\r\n            }\r\n\r\n            // Unbind the move and end events, which are added on 'start'.\r\n            data.listeners.forEach(function(c) {\r\n                DOC.removeEventListener(c[0], c[1]);\r\n            });\r\n\r\n            if (activeHandlesCount === 0) {\r\n                // Remove dragging class.\r\n                slider.classList.remove(prefix + \"slider-drag\");\r\n                setZindex();\r\n\r\n                // Remove cursor styles and text-selection events bound to the element.\r\n                if (event.cursor) {\r\n                    element.style.cursor = \"\";\r\n                }\r\n            }\r\n\r\n            data.handleNumbers.forEach(function(handleNumber) {\r\n                fireEvent(\"change\", handleNumber);\r\n                fireEvent(\"set\", handleNumber);\r\n                fireEvent(\"end\", handleNumber);\r\n            });\r\n        },\r\n        // Bind move events on document.\r\n        eventStart = function(event, data) {\r\n            // Ignore event if any handle is disabled\r\n            if (data.handleNumbers.some(isHandleDisabled)) {\r\n                return false;\r\n            }\r\n\r\n            var handle;\r\n\r\n            if (data.handleNumbers.length === 1) {\r\n                var handleOrigin = handles[data.handleNumbers[0]];\r\n\r\n                handle = handleOrigin.children[0];\r\n                activeHandlesCount += 1;\r\n\r\n                // Mark the handle as 'active' so it can be styled.\r\n                handle.classList.add(prefix + \"slider-active\");\r\n            }\r\n\r\n            // A drag should never propagate up to the 'tap' event.\r\n            event.stopPropagation();\r\n\r\n            // Record the event listeners.\r\n            var listeners = [];\r\n\r\n            // Attach the move and end events.\r\n            var moveEvent = attachEvent(actions.move, DOC, eventMove, {\r\n                // The event target has changed so we need to propagate the original one so that we keep\r\n                // relying on it to extract target touches.\r\n                target: event.target,\r\n                handle: handle,\r\n                listeners: listeners,\r\n                startCalcPoint: event.calcPoint,\r\n                baseSize: baseSize(),\r\n                pageOffset: event.pageOffset,\r\n                handleNumbers: data.handleNumbers,\r\n                buttonsProperty: event.buttons,\r\n                locations: locations.slice()\r\n            });\r\n\r\n            var endEvent = attachEvent(actions.end, DOC, eventEnd, {\r\n                target: event.target,\r\n                handle: handle,\r\n                listeners: listeners,\r\n                doNotReject: true,\r\n                handleNumbers: data.handleNumbers\r\n            });\r\n\r\n            var outEvent = attachEvent(\"mouseout\", DOC, documentLeave, {\r\n                target: event.target,\r\n                handle: handle,\r\n                listeners: listeners,\r\n                doNotReject: true,\r\n                handleNumbers: data.handleNumbers\r\n            });\r\n\r\n            // We want to make sure we pushed the listeners in the listener list rather than creating\r\n            // a new one as it has already been passed to the event handlers.\r\n            listeners.push.apply(listeners, moveEvent.concat(endEvent, outEvent));\r\n\r\n            // Text selection isn't an issue on touch devices,\r\n            // so adding cursor styles can be skipped.\r\n            if (event.cursor) {\r\n                // Prevent the 'I' cursor and extend the range-drag cursor.\r\n                element.style.cursor = getComputedStyle(event.target).cursor;\r\n\r\n                // Mark the target with a dragging state.\r\n                if (handles.length > 1) {\r\n                    slider.classList.add(prefix + \"slider-drag\");\r\n                }\r\n            }\r\n\r\n            data.handleNumbers.forEach(function(handleNumber) {\r\n                fireEvent(\"start\", handleNumber);\r\n            });\r\n        },\r\n        // Move closest handle to tapped location.\r\n        eventTap = function(event) {\r\n            // The tap event shouldn't propagate up\r\n            event.stopPropagation();\r\n\r\n            var proposal = calcPointToPercentage(event.calcPoint);\r\n            var handleNumber = getClosestHandle(proposal);\r\n\r\n            // Tackle the case that all handles are 'disabled'.\r\n            if (handleNumber === false) {\r\n                return false;\r\n            }\r\n\r\n            // Flag the slider as it is now in a transitional state.\r\n            // Transition takes a configurable amount of ms (default 300). Re-enable the slider after that.\r\n            if (!events.snap) {\r\n                addClassFor(slider, prefix +\"slider-tap\", options.animationDuration);\r\n            }\r\n\r\n            setHandle(handleNumber, proposal, true, true);\r\n\r\n            setZindex();\r\n\r\n            fireEvent(\"slide\", handleNumber, true);\r\n            fireEvent(\"update\", handleNumber, true);\r\n            fireEvent(\"change\", handleNumber, true);\r\n            fireEvent(\"set\", handleNumber, true);\r\n\r\n            if (events.snap) {\r\n                eventStart(event, { handleNumbers: [handleNumber] });\r\n            }\r\n        },\r\n\r\n        addTooltip = function(handle, handleNumber) {\r\n            if (!options.tooltips[handleNumber]) {\r\n                return false;\r\n            }\r\n\r\n            return addNodeTo(handle.firstChild, prefix + \"slider-tooltip\");\r\n        },\r\n        isSliderDisabled = function() {\r\n            return slider.hasAttribute(\"disabled\");\r\n        },\r\n        // Disable the slider dragging if any handle is disabled\r\n        isHandleDisabled = function(handleNumber) {\r\n            var handleOrigin = handles[handleNumber];\r\n            return handleOrigin.hasAttribute(\"disabled\");\r\n        },\r\n        // Append a origin to the base\r\n        addOrigin = function(handleNumber) {\r\n            var origin = addNodeTo(sliderBase, prefix + \"slider-origin\");\r\n            var handle = addNodeTo(origin, prefix + \"slider-handle\");\r\n            \r\n            addNodeTo(handle, prefix + \"slider-touch-area\");\r\n            \r\n            handle.setAttribute(\"data-handle\", handleNumber);\r\n            \r\n            // keyboard support\r\n            handle.setAttribute(\"tabindex\", \"0\");\r\n            handle.addEventListener(\"keydown\", function(event) {\r\n                return eventKeydown(event, handleNumber);\r\n            });\r\n                        \r\n            handle.setAttribute(\"role\", \"slider\");\r\n            handle.setAttribute(\"aria-orientation\", options.ort ? \"vertical\" : \"horizontal\");\r\n            \r\n            if (options.handles == 1) {\r\n                handle.classList.add(prefix + \"slider-handle-upper\");\r\n            } else if (handleNumber === 0) {\r\n                handle.classList.add(prefix + \"slider-handle-lower\");\r\n            } else {\r\n                handle.classList.add(prefix + \"slider-handle-upper\");\r\n            }\r\n            \r\n            return origin;\r\n        },\r\n        // nsert nodes for connect elements\r\n        addConnect = function(base, add) {\r\n            if (!add) {\r\n                return false;\r\n            }\r\n            \r\n            return addNodeTo(base, prefix + \"slider-connect\");\r\n        },\r\n        addLabels = function() {\r\n            var min, max, minLabel, maxLabel;\r\n            var minValue = options.format.to(options.range.min);\r\n            var maxValue = options.format.to(options.range.max);\r\n            if (handles.length == 1) {\r\n                max = createElement(\"div\", {\r\n                    class: prefix + \"slider-max\"\r\n                });\r\n                maxLabel = addNodeTo(max);\r\n                maxLabel.innerHTML = maxValue;\r\n                maxContainers.push(maxLabel);\r\n            } else {\r\n                min = createElement(\"div\", {\r\n                    class: prefix + \"slider-min\"\r\n                });\r\n                minLabel = addNodeTo(min);\r\n                minLabel.innerHTML = minValue;\r\n                minContainers.push(minLabel);\r\n                max = createElement(\"div\", {\r\n                    class: prefix + \"slider-max\"\r\n                });\r\n                maxLabel = addNodeTo(max);\r\n                maxLabel.innerHTML = maxValue;\r\n                maxContainers.push(maxLabel);\r\n            }\r\n            if (options.ort === 0) {\r\n                if (min) { container.insertBefore(min, container.childNodes[0]); }\r\n                container.appendChild(max);\r\n            } else {\r\n                if (min) { container.appendChild(min); }\r\n                container.insertBefore(max, container.childNodes[0]);\r\n            }\r\n        },\r\n        addContent = function() {\r\n            var label = createElement(\"div\", {\r\n                class: prefix + \"text-no-wrap \"+prefix+\"mb-3\" + (options.ort == 1 ? \" \"+prefix+\"d-flex \"+prefix+\"flex-column \"+prefix+\"align-items-center\" : \"\")\r\n            });\r\n            var text = DOC.createTextNode(options.content);\r\n            label.appendChild(text);\r\n            element.insertBefore(label, element.firstChild);\r\n            if (options.showRange) {\r\n                var span = createElement(\"span\", {\r\n                    html: \" ( \" + options.format.to(options.range.min) + \" - \" + options.format.to(options.range.max) + \" )\"\r\n                });\r\n                label.appendChild(span);\r\n            }\r\n        },\r\n        addContainer = function() {\r\n            container = element.querySelector(\".\" + prefix + \"slider-container\");\r\n        \r\n            // if vertical add class to parent\r\n            if(options.ort == 1) {\r\n                container.classList.add(prefix + \"slider-container-vertical\");\r\n            }\r\n            \r\n            // update wrapper to singe with one handle\r\n            if (options.handles == 1) {\r\n                var wrapper = container.querySelector(\".\" + prefix + \"slider-wrapper\");\r\n                wrapper.classList.remove(prefix + \"slider-wrapper\");\r\n                wrapper.classList.add(prefix + \"slider-wrapper-single\");\r\n            }\r\n        },\r\n        addElements = function() {\r\n\r\n            var connectBase = addNodeTo(sliderBase, prefix + \"slider-connects\");\r\n\r\n            handles = [];\r\n            connects = [];\r\n            handleNumbers = [];\r\n            var optConnects;\r\n\r\n            if (options.handles === 1) {\r\n                optConnects = [true,false];\r\n            } else {\r\n                optConnects = [false,options.range,false];\r\n            }\r\n            connects.push(addConnect(connectBase, optConnects[0]));\r\n\r\n            for (var i = 0; i < options.handles; i++) {\r\n                // Keep a list of all added handles.\r\n                handles.push(addOrigin(i));\r\n                handleNumbers[i] = i;\r\n                connects.push(addConnect(connectBase, optConnects[i + 1]));\r\n            }\r\n        },\r\n        // Initialize a single slider.\r\n        addSlider = function() {\r\n\r\n            if (options.dir === 0) {\r\n                slider.classList.add(prefix + \"slider-ltr\");\r\n            } else {\r\n                slider.classList.add(prefix + \"slider-rtl\");\r\n            }\r\n\r\n            if (options.ort === 0) {\r\n                slider.classList.add(prefix + \"slider-horizontal\");\r\n            } else {\r\n                slider.classList.add(prefix + \"slider-vertical\");\r\n            }\r\n\r\n            var base = addNodeTo(slider, prefix + \"slider-base\");\r\n            base.setAttribute(\"tabindex\", \"0\");\r\n            base.setAttribute(\"aria-label\", (options.content ? options.content : \"Slider\") + \" \"  + options.format.to(options.range.min) + \" to \" + options.format.to(options.range.max));\r\n                    \r\n            return base;\r\n        },\r\n        valueSet = function(input, fireSetEvent) {\r\n            var values = asArray(input);\r\n            var isInit = locations[0] === undefined;\r\n\r\n            // Event fires by default\r\n            fireSetEvent = fireSetEvent === undefined ? true : !!fireSetEvent;\r\n\r\n            // Animation is optional.\r\n            // Make sure the initial values were set before using animated placement.\r\n            if (options.animate && !isInit) {\r\n                addClassFor(slider, prefix + \"slider-tap\", options.animationDuration);\r\n            }\r\n\r\n            // First pass, without lookAhead but with lookBackward. Values are set from left to right.\r\n            handleNumbers.forEach(function(handleNumber) {\r\n                setHandle(handleNumber, resolveToValue(values[handleNumber], handleNumber), true, false);\r\n            });\r\n\r\n            // Second pass. Now that all base values are set, apply constraints\r\n            handleNumbers.forEach(function(handleNumber) {\r\n                setHandle(handleNumber, locations[handleNumber], true, true);\r\n            });\r\n\r\n            setZindex();\r\n\r\n            handleNumbers.forEach(function(handleNumber) {\r\n                fireEvent(\"update\", handleNumber);\r\n\r\n                // Fire the event only for handles that received a new value, as per #579\r\n                if (values[handleNumber] !== null && fireSetEvent) {\r\n                    fireEvent(\"set\", handleNumber);\r\n                }\r\n            });\r\n        },\r\n\r\n        asArray = function(a) {\r\n            return Array.isArray(a) ? a : [a];\r\n        },\r\n        addClassFor = function(element, className, duration) {\r\n            if (duration > 0) {\r\n                element.classList.add(className);\r\n                setTimeout(function() {\r\n                    element.classList.remove(className);\r\n                }, duration);\r\n            }\r\n        },\r\n        // Counts decimals\r\n        countDecimals = function(numStr) {\r\n            numStr = String(numStr);\r\n            var pieces = numStr.split(\".\");\r\n            return pieces.length > 1 ? pieces[1].length : 0;\r\n        },\r\n        // Limits a value to 0 - 100\r\n        limit = function(a) {\r\n            return Math.max(Math.min(a, 100), 0);\r\n        },\r\n        // Moves handle(s) by a percentage\r\n        // (bool, % to move, [% where handle started, ...], [index in handles, ...])\r\n        moveHandles = function(upward, proposal, locations, handleNumbers) {\r\n            var proposals = locations.slice();\r\n\r\n            var b = [!upward, upward];\r\n            var f = [upward, !upward];\r\n\r\n            // Copy handleNumbers so we don't change the dataset\r\n            handleNumbers = handleNumbers.slice();\r\n\r\n            // Check to see which handle is 'leading'.\r\n            // If that one can't move the second can't either.\r\n            if (upward) {\r\n                handleNumbers.reverse();\r\n            }\r\n\r\n            // Step 1: get the maximum percentage that any of the handles can move\r\n            if (handleNumbers.length > 1) {\r\n                handleNumbers.forEach(function(handleNumber, o) {\r\n                    var to = checkHandlePosition(\r\n                        proposals,\r\n                        handleNumber,\r\n                        proposals[handleNumber] + proposal,\r\n                        b[o],\r\n                        f[o],\r\n                        false\r\n                    );\r\n\r\n                    // Stop if one of the handles can't move.\r\n                    if (to === false) {\r\n                        proposal = 0;\r\n                    } else {\r\n                        proposal = to - proposals[handleNumber];\r\n                        proposals[handleNumber] = to;\r\n                    }\r\n                });\r\n            }\r\n\r\n            // If using one handle, check backward AND forward\r\n            else {\r\n                b = f = [true];\r\n            }\r\n\r\n            var state = false;\r\n\r\n            // Step 2: Try to set the handles with the found percentage\r\n            handleNumbers.forEach(function(handleNumber, o) {\r\n                state = setHandle(handleNumber, locations[handleNumber] + proposal, b[o], f[o]) || state;\r\n            });\r\n\r\n            // Step 3: If a handle moved, fire events\r\n            if (state) {\r\n                handleNumbers.forEach(function(handleNumber) {\r\n                    fireEvent(\"update\", handleNumber);\r\n                    fireEvent(\"slide\", handleNumber);\r\n                });\r\n            }\r\n        },\r\n        // Takes a base value and an offset. This offset is used for the connect bar size.\r\n        // In the initial design for this feature, the origin element was 1% wide.\r\n        // Unfortunately, a rounding bug in Chrome makes it impossible to implement this feature\r\n        // in this manner: https://bugs.chromium.org/p/chromium/issues/detail?id=798223\r\n        transformDirection = function(a, b) {\r\n            return options.dir ? 100 - a - b : a;\r\n        },\r\n        // Updates locations and values, updates visual state\r\n        updateHandlePosition = function(handleNumber, to) {\r\n            // Update locations.\r\n            locations[handleNumber] = to;\r\n\r\n            // Convert the value to the slider stepping/range.\r\n            values[handleNumber] = spectrum.fromStepping(to);\r\n\r\n            var rule = \"translate(\" + inRuleOrder(transformDirection(to, 0) - dirOffset + \"%\", \"0\") + \")\";\r\n            handles[handleNumber].style[transformRule] = rule;\r\n\r\n            updateConnect(handleNumber);\r\n            updateConnect(handleNumber + 1);\r\n        },\r\n        // Test suggested values and apply margin, step.\r\n        setHandle = function(handleNumber, to, lookBackward, lookForward) {\r\n            to = checkHandlePosition(locations, handleNumber, to, lookBackward, lookForward, false);\r\n\r\n            if (to === false) {\r\n                return false;\r\n            }\r\n\r\n            updateHandlePosition(handleNumber, to);\r\n\r\n            return true;\r\n        },\r\n        // Updates style attribute for connect nodes\r\n        updateConnect = function(index) {\r\n            // Skip connects set to false\r\n            if (!connects[index]) {\r\n                return;\r\n            }\r\n\r\n            var l = 0;\r\n            var h = 100;\r\n\r\n            if (index !== 0) {\r\n                l = locations[index - 1];\r\n            }\r\n\r\n            if (index !== connects.length - 1) {\r\n                h = locations[index];\r\n            }\r\n\r\n            // We use two rules:\r\n            // 'translate' to change the left/top offset;\r\n            // 'scale' to change the width of the element;\r\n            // As the element has a width of 100%, a translation of 100% is equal to 100% of the parent (.noUi-base)\r\n            var connectWidth = h - l;\r\n            var translateRule = \"translate(\" + inRuleOrder(transformDirection(l, connectWidth) + \"%\", \"0\") + \")\";\r\n            var scaleRule = \"scale(\" + inRuleOrder(connectWidth / 100, \"1\") + \")\";\r\n\r\n            connects[index].style[transformRule] = translateRule + \" \" + scaleRule;\r\n        },\r\n        setZindex = function() {\r\n            handleNumbers.forEach(function(handleNumber) {\r\n                var dir = locations[handleNumber] > 50 ? -1 : 1;\r\n                var zIndex = 3 + (handles.length + dir * handleNumber);\r\n                handles[handleNumber].style.zIndex = zIndex;\r\n            });\r\n        },\r\n        // Undo attachment of event\r\n        removeEvent = function(namespacedEvent) {\r\n            var event = namespacedEvent && namespacedEvent.split(\".\")[0];\r\n            var namespace = event && namespacedEvent.substring(event.length);\r\n\r\n            Object.keys(events).forEach(function(bind) {\r\n                var tEvent = bind.split(\".\")[0];\r\n                var tNamespace = bind.substring(tEvent.length);\r\n\r\n                if ((!event || event === tEvent) && (!namespace || namespace === tNamespace)) {\r\n                    delete events[bind];\r\n                }\r\n            });\r\n        },\r\n        // External event handling\r\n        fireEvent = function(eventName, handleNumber, tap) {\r\n            Object.keys(events).forEach(function(targetEvent) {\r\n                var eventType = targetEvent.split(\".\")[0];\r\n\r\n                if (eventName === eventType) {\r\n                    events[targetEvent].forEach(function(callback) {\r\n                        callback.call(\r\n                            // Use the slider public API as the scope ('this')\r\n                            self,\r\n                            // Return values as array, so arg_1[arg_2] is always valid.\r\n                            values.map(options.format.to),\r\n                            // Handle index, 0 or 1\r\n                            handleNumber,\r\n                            // Un-formatted slider values\r\n                            values.slice(),\r\n                            // Event is fired by tap, true or false\r\n                            tap || false,\r\n                            // Left offset of the handle, in relation to the slider\r\n                            locations.slice()\r\n                        );\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        // Split out the handle positioning logic so the Move event can use it, too\r\n        checkHandlePosition = function(reference, handleNumber, to, lookBackward, lookForward, getValue) {\r\n            // For sliders with multiple handles, limit movement to the other handle.\r\n            // Apply the margin option by adding it to the handle positions.\r\n            if (handles.length > 1 && !optEvents.unconstrained) {\r\n                if (lookBackward && handleNumber > 0) {\r\n                    to = Math.max(to, reference[handleNumber - 1] + options.margin);\r\n                }\r\n\r\n                if (lookForward && handleNumber < handles.length - 1) {\r\n                    to = Math.min(to, reference[handleNumber + 1] - options.margin);\r\n                }\r\n            }\r\n\r\n            // The limit option has the opposite effect, limiting handles to a\r\n            // maximum distance from another. Limit must be > 0, as otherwise\r\n            // handles would be unmovable.\r\n            if (handles.length > 1 && options.limit) {\r\n                if (lookBackward && handleNumber > 0) {\r\n                    to = Math.min(to, reference[handleNumber - 1] + options.limit);\r\n                }\r\n\r\n                if (lookForward && handleNumber < handles.length - 1) {\r\n                    to = Math.max(to, reference[handleNumber + 1] - options.limit);\r\n                }\r\n            }\r\n\r\n            // The padding option keeps the handles a certain distance from the\r\n            // edges of the slider. Padding must be > 0.\r\n            if (options.padding) {\r\n                if (handleNumber === 0) {\r\n                    to = Math.max(to, options.padding[0]);\r\n                }\r\n\r\n                if (handleNumber === handles.length - 1) {\r\n                    to = Math.min(to, 100 - options.padding[1]);\r\n                }\r\n            }\r\n\r\n            to = spectrum.getStep(to);\r\n\r\n            // Limit percentage to the 0 - 100 range\r\n            to = limit(to);\r\n\r\n            // Return false if handle can't move\r\n            if (to === reference[handleNumber] && !getValue) {\r\n                return false;\r\n            }\r\n\r\n            return to;\r\n        },\r\n        // Uses slider orientation to create CSS rules. a = base value;\r\n        inRuleOrder = function(v, a) {\r\n            var o = options.ort;\r\n            return (o ? a : v) + \", \" + (o ? v : a);\r\n        },\r\n        // Parses value passed to .set method. Returns current value if not parse-able.\r\n        resolveToValue = function(to, handleNumber) {\r\n            // Setting with null indicates an 'ignore'.\r\n            // Inputting 'false' is invalid.\r\n            if (to === null || to === false || to === undefined) {\r\n                return locations[handleNumber];\r\n            }\r\n\r\n            // If a formatted number was passed, attempt to decode it.\r\n            if (typeof to === \"number\") {\r\n                to = String(to);\r\n            }\r\n\r\n            to = options.format.from(to);\r\n            to = spectrum.toStepping(to);\r\n\r\n            // If parsing the number failed, use the current value.\r\n            if (to === false || isNaN(to)) {\r\n                return locations[handleNumber];\r\n            }\r\n\r\n            return to;\r\n        },\r\n        toStepping = function(xVal, xPct, value) {\r\n            if (value >= xVal.slice(-1)[0]) {\r\n                return 100;\r\n            }\r\n    \r\n            var j = getJ(value, xVal);\r\n            var va = xVal[j - 1];\r\n            var vb = xVal[j];\r\n            var pa = xPct[j - 1];\r\n            var pb = xPct[j];\r\n    \r\n            return pa + toPercentage([va, vb], value) / subRangeRatio(pa, pb);\r\n        },\r\n        // (value) Input a percentage, find where it is on the specified range.\r\n        fromStepping = function(xVal, xPct, value) {\r\n            // There is no range group that fits 100\r\n            if (value >= 100) {\r\n                return xVal.slice(-1)[0];\r\n            }\r\n\r\n            var j = getJ(value, xPct);\r\n            var va = xVal[j - 1];\r\n            var vb = xVal[j];\r\n            var pa = xPct[j - 1];\r\n            var pb = xPct[j];\r\n\r\n            return isPercentage([va, vb], (value - pa) * subRangeRatio(pa, pb));\r\n        },\r\n        subRangeRatio = function(pa, pb) {\r\n            return 100 / (pb - pa);\r\n        },\r\n        // (percentage) How many percent is this value of this range?\r\n        fromPercentage = function(range, value) {\r\n            return (value * 100) / (range[1] - range[0]);\r\n        },\r\n        // (percentage) Where is this value on this range?\r\n        toPercentage = function(range, value) {\r\n            return fromPercentage(range, range[0] < 0 ? value + Math.abs(range[0]) : value - range[0]);\r\n        },\r\n        // (percentage) Get the step that applies at a certain value.\r\n        getStep = function(xPct, xSteps, snap, value) {\r\n            \r\n            if (value === 100) {\r\n                return value;\r\n            }\r\n\r\n            var j = getJ(value, xPct);\r\n            var a = xPct[j - 1];\r\n            var b = xPct[j];\r\n\r\n            // If 'snap' is set, steps are used as fixed points on the slider.\r\n            if (snap) {\r\n                // Find the closest position, a or b.\r\n                if (value - a > (b - a) / 2) {\r\n                    return b;\r\n                }\r\n\r\n                return a;\r\n            }\r\n\r\n            if (!xSteps[j - 1]) {\r\n                return value;\r\n            }\r\n\r\n            return xPct[j - 1] + closest(value - xPct[j - 1], xSteps[j - 1]);\r\n        },\r\n        handleEntryPoint = function(index, value, that) {\r\n            var percentage;\r\n    \r\n            // Wrap numerical input in an array.\r\n            if (typeof value === \"number\") {\r\n                value = [value];\r\n            }\r\n    \r\n            // Reject any invalid input, by testing whether value is an array.\r\n            if (!isArray(value)) {\r\n                throw new Error(\"Slider 'range' contains invalid value.\");\r\n            }\r\n    \r\n            // Covert min/max syntax to 0 and 100.\r\n            if (index === \"min\") {\r\n                percentage = 0;\r\n            } else if (index === \"max\") {\r\n                percentage = 100;\r\n            } else {\r\n                percentage = parseFloat(index);\r\n            }\r\n    \r\n            // Check for correct input.\r\n            if (!isNumeric(percentage) || !isNumeric(value[0])) {\r\n                throw new Error(\"Slider 'range' value isn't numeric.\");\r\n            }\r\n    \r\n            // Store values.\r\n            that.xPct.push(percentage);\r\n            that.xVal.push(value[0]);\r\n    \r\n            // NaN will evaluate to false too, but to keep\r\n            // logging clear, set step explicitly. Make sure\r\n            // not to override the 'step' setting with false.\r\n            if (!percentage) {\r\n                if (!isNaN(value[1])) {\r\n                    that.xSteps[0] = value[1];\r\n                }\r\n            } else {\r\n                that.xSteps.push(isNaN(value[1]) ? false : value[1]);\r\n            }\r\n    \r\n            that.xHighestCompleteStep.push(0);\r\n        },\r\n        handleStepPoint = function(i, n, that) {\r\n            // Ignore 'false' stepping.\r\n            if (!n) {\r\n                return;\r\n            }\r\n    \r\n            // Step over zero-length ranges (#948);\r\n            if (that.xVal[i] === that.xVal[i + 1]) {\r\n                that.xSteps[i] = that.xHighestCompleteStep[i] = that.xVal[i];\r\n    \r\n                return;\r\n            }\r\n    \r\n            // Factor to range ratio\r\n            that.xSteps[i] =\r\n                fromPercentage([that.xVal[i], that.xVal[i + 1]], n) / subRangeRatio(that.xPct[i], that.xPct[i + 1]);\r\n    \r\n            var totalSteps = (that.xVal[i + 1] - that.xVal[i]) / that.xNumSteps[i];\r\n            var highestStep = Math.ceil(Number(totalSteps.toFixed(3)) - 1);\r\n            var step = that.xVal[i] + that.xNumSteps[i] * highestStep;\r\n    \r\n            that.xHighestCompleteStep[i] = step;\r\n        },\r\n        // Checks whether a value is numerical.\r\n        isNumeric = function(a) {\r\n            return typeof a === \"number\" && !isNaN(a) && isFinite(a);\r\n        },\r\n        // (value) How much is this percentage on this range?\r\n        isPercentage = function(range, value) {\r\n            return (value * (range[1] - range[0])) / 100 + range[0];\r\n        },\r\n        getJ = function(value, arr) {\r\n            \r\n            var j = 1;\r\n    \r\n            while (value >= arr[j]) {\r\n                j += 1;\r\n            }\r\n    \r\n            return j;\r\n        },\r\n        // Shorthand for base dimensions.\r\n        baseSize = function() {\r\n            var rect = sliderBase.getBoundingClientRect();\r\n            var alt = \"offset\" + [\"Width\", \"Height\"][options.ort];\r\n            return options.ort === 0 ? rect.width || sliderBase[alt] : rect.height || sliderBase[alt];\r\n        },\r\n        // Handler for attaching events trough a proxy.\r\n        attachEvent = function(events, element, callback, data) {\r\n            // This function can be used to 'filter' events to the slider.\r\n            // element is a node, not a nodeList\r\n\r\n            var method = function(e) {\r\n                e = fixEvent(e, data.pageOffset, data.target || element);\r\n\r\n                // fixEvent returns false if this event has a different target\r\n                // when handling (multi-) touch events;\r\n                if (!e) {\r\n                    return false;\r\n                }\r\n\r\n                // doNotReject is passed by all end events to make sure released touches\r\n                // are not rejected, leaving the slider \"stuck\" to the cursor;\r\n                if (isSliderDisabled() && !data.doNotReject) {\r\n                    return false;\r\n                }\r\n\r\n                // Stop if an active 'tap' transition is taking place.\r\n                if (slider.classList.contains(prefix + \"slider-tap\") && !data.doNotReject) {\r\n                    return false;\r\n                }\r\n\r\n                // Ignore right or middle clicks on start #454\r\n                if (events === actions.start && e.buttons !== undefined && e.buttons > 1) {\r\n                    return false;\r\n                }\r\n\r\n                // Ignore right or middle clicks on start #454\r\n                if (data.hover && e.buttons) {\r\n                    return false;\r\n                }\r\n\r\n                // 'supportsPassive' is only true if a browser also supports touch-action: none in CSS.\r\n                // iOS safari does not, so it doesn't get to benefit from passive scrolling. iOS does support\r\n                // touch-action: manipulation, but that allows panning, which breaks\r\n                // sliders after zooming/on non-responsive pages.\r\n                // See: https://bugs.webkit.org/show_bug.cgi?id=133112\r\n                if (!supportsPassive) {\r\n                    e.preventDefault();\r\n                }\r\n\r\n                e.calcPoint = e.points[options.ort];\r\n\r\n                // Call the event handler with the event [ and additional data ].\r\n                callback(e, data);\r\n            };\r\n\r\n            var methods = [];\r\n\r\n            // Bind a closure on the target for every event type.\r\n            events.split(\" \").forEach(function(eventName) {\r\n                element.addEventListener(eventName, method, supportsPassive ? { passive: true } : false);\r\n                methods.push([eventName, method]);\r\n            });\r\n\r\n            return methods;\r\n        },\r\n        // Provide a clean event with standardized offset values.\r\n        fixEvent = function(e, pageOffset, eventTarget) {\r\n            // Filter the event to register the type, which can be\r\n            // touch, mouse or pointer. Offset changes need to be\r\n            // made on an event specific basis.\r\n            var touch = e.type.indexOf(\"touch\") === 0;\r\n            var mouse = e.type.indexOf(\"mouse\") === 0;\r\n            var pointer = e.type.indexOf(\"pointer\") === 0;\r\n\r\n            var x;\r\n            var y;\r\n\r\n            // The only thing one handle should be concerned about is the touches that originated on top of it.\r\n            if (touch) {\r\n                // Returns true if a touch originated on the target.\r\n                var isTouchOnTarget = function(checkTouch) {\r\n                    return checkTouch.target === eventTarget || eventTarget.contains(checkTouch.target);\r\n                };\r\n\r\n                // In the case of touchstart events, we need to make sure there is still no more than one\r\n                // touch on the target so we look amongst all touches.\r\n                if (e.type === \"touchstart\") {\r\n                    var targetTouches = Array.prototype.filter.call(e.touches, isTouchOnTarget);\r\n\r\n                    // Do not support more than one touch per handle.\r\n                    if (targetTouches.length > 1) {\r\n                        return false;\r\n                    }\r\n\r\n                    x = targetTouches[0].pageX;\r\n                    y = targetTouches[0].pageY;\r\n                } else {\r\n                    // In the other cases, find on changedTouches is enough.\r\n                    var targetTouch = Array.prototype.find.call(e.changedTouches, isTouchOnTarget);\r\n\r\n                    // Cancel if the target touch has not moved.\r\n                    if (!targetTouch) {\r\n                        return false;\r\n                    }\r\n\r\n                    x = targetTouch.pageX;\r\n                    y = targetTouch.pageY;\r\n                }\r\n            }\r\n\r\n            pageOffset = pageOffset || getPageOffset(DOC);\r\n\r\n            if (mouse || pointer) {\r\n                x = e.clientX + pageOffset.x;\r\n                y = e.clientY + pageOffset.y;\r\n            }\r\n\r\n            e.pageOffset = pageOffset;\r\n            e.points = [x, y];\r\n            e.cursor = mouse || pointer; // Fix #435\r\n\r\n            return e;\r\n        },\r\n        // Translate a coordinate in the document to a percentage on the slider\r\n        calcPointToPercentage = function(calcPoint) {\r\n            var location = calcPoint - offset(sliderBase, options.ort);\r\n            var proposal = (location * 100) / baseSize();\r\n\r\n            // Clamp proposal between 0% and 100%\r\n            proposal = limit(proposal);\r\n\r\n            return options.dir ? 100 - proposal : proposal;\r\n        },\r\n        // Find handle closest to a certain percentage on the slider\r\n        getClosestHandle = function(proposal) {\r\n            var closest = 100;\r\n            var handleNumber = false;\r\n\r\n            handles.forEach(function(handle, index) {\r\n                // Disabled handles are ignored\r\n                if (isHandleDisabled(index)) {\r\n                    return;\r\n                }\r\n\r\n                var pos = Math.abs(locations[index] - proposal);\r\n\r\n                if (pos < closest || (pos === 100 && closest === 100)) {\r\n                    handleNumber = index;\r\n                    closest = pos;\r\n                }\r\n            });\r\n\r\n            return handleNumber;\r\n        },\r\n        removeTooltips = function() {\r\n            if (tooltips) {\r\n                removeEvent(\"update.tooltips\");\r\n                tooltips.forEach(function(tooltip) {\r\n                    if (tooltip) {\r\n                        removeElement(tooltip);\r\n                    }\r\n                });\r\n                tooltips = null;\r\n            }\r\n        },\r\n        // The tooltips option is a shorthand for using the 'update' event.\r\n        setTooltips = function() {\r\n            removeTooltips();\r\n\r\n            // Tooltips are added with options.tooltips in original order.\r\n            tooltips = handles.map(addTooltip);\r\n\r\n            bindEvent(\"update.tooltips\", function(values, handleNumber, unencoded) {\r\n                if (!tooltips[handleNumber]) {\r\n                    return;\r\n                }\r\n\r\n                var formattedValue = values[handleNumber];\r\n\r\n                if (options.tooltips[handleNumber] !== true) {\r\n                    formattedValue = options.tooltips[handleNumber].to(unencoded[handleNumber]);\r\n                }\r\n\r\n                tooltips[handleNumber].innerHTML = formattedValue;\r\n            });\r\n\r\n            // Fix for vertical sliders, if tooltip flows off the window move it the right side.\r\n            if (options.ort == 1 &&\r\n                offWindowLeft(handles[0].querySelector(\".\" + prefix + \"slider-tooltip\"), handles[0].querySelector(\"div.\"+prefix+\"slider-handle\"))) {\r\n                each(handles, function(handle) {\r\n                    handle.querySelector(\".\" + prefix + \"slider-tooltip\").style.right = \"auto\";\r\n                    handle.querySelector(\".\" + prefix + \"slider-tooltip\").style.left = \"120%\";\r\n                });\r\n            }\r\n        },\r\n        aria = function() {\r\n            bindEvent(\"update\", function(values, handleNumber, unencoded, tap, positions) {\r\n                // Update Aria Values for all handles, as a change in one changes min and max values for the next.\r\n                handleNumbers.forEach(function(index) {\r\n                    var handle = handles[index];\r\n\r\n                    var min = checkHandlePosition(locations, index, 0, true, true, true);\r\n                    var max = checkHandlePosition(locations, index, 100, true, true, true);\r\n\r\n                    var now = positions[index];\r\n\r\n                    // Formatted value for display\r\n                    var text = options.ariaFormat.to(unencoded[index]);\r\n\r\n                    // Map to slider range values\r\n                    min = spectrum.fromStepping(min).toFixed(options.percision);\r\n                    max = spectrum.fromStepping(max).toFixed(options.percision);\r\n                    now = spectrum.fromStepping(now).toFixed(options.percision);\r\n                    \r\n                    handle.children[0].setAttribute(\"aria-valuemin\", min);\r\n                    handle.children[0].setAttribute(\"aria-valuemax\", max);\r\n                    handle.children[0].setAttribute(\"aria-valuenow\", now);\r\n                    handle.children[0].setAttribute(\"aria-valuetext\", text);\r\n                });\r\n            });\r\n        },\r\n        // Get the slider value.\r\n        get = function() {\r\n            var v = values.map(options.format.to);\r\n\r\n            // If only one handle is used, return a single value.\r\n            if (v.length === 1) {\r\n                return values[0];\r\n            }\r\n\r\n            return v;\r\n        },\r\n        removeElement = function(el) {\r\n            el.parentElement.removeChild(el);\r\n        },\r\n        getPageOffset = function(doc) {\r\n            var supportPageOffset = window.pageXOffset !== undefined;\r\n            var isCSS1Compat = (doc.compatMode || \"\") === \"CSS1Compat\";\r\n            var x = supportPageOffset\r\n                ? window.pageXOffset\r\n                : isCSS1Compat\r\n                    ? doc.documentElement.scrollLeft\r\n                    : doc.body.scrollLeft;\r\n            var y = supportPageOffset\r\n                ? window.pageYOffset\r\n                : isCSS1Compat\r\n                    ? doc.documentElement.scrollTop\r\n                    : doc.body.scrollTop;\r\n\r\n            return {\r\n                x: x,\r\n                y: y\r\n            };\r\n        },\r\n        // we provide a function to compute constants instead\r\n        // of accessing window.* as soon as the module needs it\r\n        // so that we do not compute anything if not needed\r\n        getActions = function() {\r\n            // Determine the events to bind. IE11 implements pointerEvents without\r\n            // a prefix, which breaks compatibility with the IE10 implementation.\r\n            return window.navigator.pointerEnabled\r\n                ? {\r\n                    start: \"pointerdown\",\r\n                    move: \"pointermove\",\r\n                    end: \"pointerup\"\r\n                }\r\n                : window.navigator.msPointerEnabled\r\n                    ? {\r\n                        start: \"MSPointerDown\",\r\n                        move: \"MSPointerMove\",\r\n                        end: \"MSPointerUp\"\r\n                    }\r\n                    : {\r\n                        start: \"mousedown touchstart\",\r\n                        move: \"mousemove touchmove\",\r\n                        end: \"mouseup touchend\"\r\n                    };\r\n        };\r\n        \r\n    function Spectrum(entry, snap, singleStep) {\r\n        this.xPct = [];\r\n        this.xVal = [];\r\n        this.xSteps = [singleStep || false];\r\n        this.xNumSteps = [false];\r\n        this.xHighestCompleteStep = [];\r\n    \r\n        this.snap = snap;\r\n    \r\n        var index;\r\n        var ordered = []; // [0, 'min'], [1, '50%'], [2, 'max']\r\n    \r\n        // Map the object keys to an array.\r\n        for (index in entry) {\r\n            if (Object.prototype.hasOwnProperty.call(entry, index)) {\r\n                ordered.push([entry[index], index]);\r\n            }\r\n        }\r\n    \r\n        // Sort all entries by value (numeric sort).\r\n        if (ordered.length && typeof ordered[0][0] === \"object\") {\r\n            ordered.sort(function(a, b) {\r\n                return a[0][0] - b[0][0];\r\n            });\r\n        } else {\r\n            ordered.sort(function(a, b) {\r\n                return a[0] - b[0];\r\n            });\r\n        }\r\n    \r\n        // Convert all entries to subranges.\r\n        for (index = 0; index < ordered.length; index++) {\r\n            handleEntryPoint(ordered[index][1], ordered[index][0], this);\r\n        }\r\n    \r\n        // Store the actual step values.\r\n        // xSteps is sorted in the same order as xPct and xVal.\r\n        this.xNumSteps = this.xSteps.slice(0);\r\n    \r\n        // Convert all numeric steps to the percentage of the subrange they represent.\r\n        for (index = 0; index < this.xNumSteps.length; index++) {\r\n            handleStepPoint(index, this.xNumSteps[index], this);\r\n        }\r\n    }\r\n\r\n    Spectrum.prototype.getMargin = function(value) {\r\n        var step = this.xNumSteps[0];\r\n    \r\n        if (step && (value / step) % 1 !== 0) {\r\n            throw new Error(\"Slider 'limit', 'margin' and 'padding' must be divisible by step.\");\r\n        }\r\n    \r\n        return this.xPct.length === 2 ? fromPercentage(this.xVal, value) : false;\r\n    };\r\n    \r\n    Spectrum.prototype.toStepping = function(value) {\r\n        value = toStepping(this.xVal, this.xPct, value);\r\n    \r\n        return value;\r\n    };\r\n    \r\n    Spectrum.prototype.fromStepping = function(value) {\r\n        return fromStepping(this.xVal, this.xPct, value);\r\n    };\r\n    \r\n    Spectrum.prototype.getStep = function(value) {\r\n        value = getStep(this.xPct, this.xSteps, this.snap, value);\r\n    \r\n        return value;\r\n    };\r\n    \r\n    Spectrum.prototype.getDefaultStep = function(value, isDown, size) {\r\n        var j = getJ(value, this.xPct);\r\n    \r\n        // When at the top or stepping down, look at the previous sub-range\r\n        if (value === 100 || (isDown && value === this.xPct[j - 1])) {\r\n            j = Math.max(j - 1, 1);\r\n        }\r\n    \r\n        return (this.xVal[j] - this.xVal[j - 1]) / size;\r\n    };\r\n    \r\n    Spectrum.prototype.getNearbySteps = function(value) {\r\n        var j = getJ(value, this.xPct);\r\n    \r\n        return {\r\n            stepBefore: {\r\n                startValue: this.xVal[j - 2],\r\n                step: this.xNumSteps[j - 2],\r\n                highestStep: this.xHighestCompleteStep[j - 2]\r\n            },\r\n            thisStep: {\r\n                startValue: this.xVal[j - 1],\r\n                step: this.xNumSteps[j - 1],\r\n                highestStep: this.xHighestCompleteStep[j - 1]\r\n            },\r\n            stepAfter: {\r\n                startValue: this.xVal[j],\r\n                step: this.xNumSteps[j],\r\n                highestStep: this.xHighestCompleteStep[j]\r\n            }\r\n        };\r\n    };\r\n    \r\n    Spectrum.prototype.countStepDecimals = function() {\r\n        var stepDecimals = this.xNumSteps.map(countDecimals);\r\n        return Math.max.apply(null, stepDecimals);\r\n    };\r\n    \r\n    // Outside testing\r\n    Spectrum.prototype.convert = function(value) {\r\n        return this.getStep(this.toStepping(value));\r\n    };\r\n\r\n    // init\r\n    if (!(stringSlider in element)) {\r\n        validateOptions(options);\r\n        \r\n        if (options.ort == 1) {\r\n            element.classList.add(prefix+\"align-items-center\");\r\n        }\r\n        if (options.content) {\r\n            addContent();\r\n        }\r\n        \r\n        addContainer();\r\n\r\n        actions = getActions();\r\n\r\n        slider = element.querySelector(\".\" + prefix + \"slider-target\");\r\n        sliderBase = addSlider();\r\n        addElements();\r\n\r\n        // Attach user events.\r\n        bindSliderEvents(optEvents);\r\n\r\n        // Use the public value method to set the start values.\r\n        valueSet(options.start);\r\n\r\n        if (options.tooltips) {\r\n            setTooltips();\r\n        }\r\n\r\n        aria();\r\n\r\n        bindEvent(\"end\", endEventHandler);\r\n\r\n        addLabels();\r\n\r\n        for (var i = 0; i < handles.length; i++) {\r\n            handles[i].firstChild.addEventListener(\"focus\", focusEventHandler, false);\r\n            handles[i].firstChild.addEventListener(\"blur\", blurEventHandler, false);\r\n            handles[i].addEventListener(\"keyup\", endEventHandler, false);\r\n        }\r\n        element.addEventListener(\"click\", endEventHandler, false);\r\n    }\r\n\r\n    element[stringSlider] = self;\r\n\r\n}\r\n","import {getClosest, prefix, DOC, isSafari, isIOS, uicoreCustomEvent, createElement, each, setFocus, getFocusableElements, jsonOptionsInit} from \"./utilities.js\";\r\nimport Overflow from \"./overflow.js\";\r\nimport Collapse from \"./collapse.js\";\r\n\r\nexport default function Tab(element, options) {\r\n\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    options.lazyload = typeof options.lazyload === \"boolean\" ? options.lazyload : false;\r\n\r\n    var self = this,\r\n        stringTab = \"Tab\",\r\n        tablist,\r\n        activeTab = null,\r\n        modalElement,\r\n        withinModal,\r\n        tabs,\r\n        backButton,\r\n        panels,\r\n        delay,\r\n        nested = false,\r\n        focusableEls,\r\n        thresholdMediaSize,\r\n        tabContainer,\r\n        accordionWrapper,\r\n        smallMediaSize = window.matchMedia(\"(max-width: 767.98px)\"),\r\n        overflow,\r\n        overflowContainer;\r\n\r\n    // Key mappings for easy reference\r\n    var keys = {\r\n        end: 35,\r\n        home: 36,\r\n        left: 37,\r\n        up: 38,\r\n        right: 39,\r\n        down: 40,\r\n        delete: 46\r\n    };\r\n\r\n    // Add or substract depending on key pressed\r\n    var direction = {\r\n            37: -1,\r\n            38: -1,\r\n            39: 1,\r\n            40: 1\r\n        },\r\n        handleOverflowEvent = function(e) {\r\n            overflow.detail = e.detail;\r\n        },\r\n        setFocusableElements = function() {\r\n            focusableEls = getFocusableElements(modalElement);\r\n            modalElement.firstFocusableEl = focusableEls[0];\r\n            modalElement.lastFocusableEl = focusableEls[ focusableEls.length - 1 ];\r\n        },\r\n        handleBackwardTab = function (e) {\r\n            if ( document.activeElement === modalElement.firstFocusableEl ) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.lastFocusableEl);\r\n            }\r\n        },\r\n        handleForwardTab = function (e) {\r\n            if ( document.activeElement === modalElement.lastFocusableEl ) {\r\n                e.preventDefault();\r\n                setFocus(modalElement.firstFocusableEl);\r\n            }\r\n        },\r\n        handleModalKeydown = function(e) {\r\n            var KEY_TAB = 9;\r\n            var KEY_ESC = 27;\r\n            switch(e.keyCode) {\r\n            case KEY_TAB:\r\n                if ( focusableEls.length === 1 ) {\r\n                    e.preventDefault();\r\n                    break;\r\n                }\r\n                if ( e.shiftKey ) {\r\n                    handleBackwardTab(e);\r\n                } else {\r\n                    handleForwardTab(e);\r\n                }\r\n                break;\r\n            case KEY_ESC: \r\n                self.hide();\r\n                setFocus(activeTab);\r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n        },\r\n        // When a tab is clicked, activateTab is fired to activate it\r\n        clickEventListener = function(e) {\r\n            var target = e.target;\r\n            if (target === element && modalElement && !(modalElement.classList.contains(prefix + \"show\"))) {\r\n                e.preventDefault();\r\n            }\r\n            self.show();\r\n            activeTab = getClosest(target, \".\" + prefix + \"tab-link\");\r\n            activateTab(activeTab, false);\r\n        },\r\n        // Handle keydown on tabs\r\n        keydownEventListener = function(e) {\r\n            var key = e.keyCode;\r\n\r\n            switch (key) {\r\n            case keys.end:\r\n                e.preventDefault();\r\n                // Activate last tab\r\n                if (overflow) {\r\n                    overflow.clickEnd();\r\n                }\r\n                activateTab(tabs[tabs.length - 1]);\r\n                break;\r\n            case keys.home:\r\n                e.preventDefault();\r\n                if (overflow) {\r\n                    overflow.clickHome();\r\n                }\r\n                // Activate first tab\r\n                activateTab(tabs[0]);\r\n                break;\r\n\r\n            // Up, down, left, and right keys are in keydown\r\n            // because we need to prevent page scroll\r\n            case keys.up:\r\n            case keys.down:\r\n                determineOrientation(e);\r\n                break;\r\n            case keys.left:\r\n            case keys.right:\r\n                determineOrientation(e);\r\n                break;\r\n            }\r\n        },\r\n        // Handle keyup on tabs\r\n        keyupEventListener = function(e) {\r\n            var key = e.keyCode;\r\n\r\n            switch (key) {\r\n            case keys.delete:\r\n                determineDeletable(e);\r\n                break;\r\n            }\r\n        },\r\n        // When a tablist's aria-orientation is set to vertical,\r\n        // only up and down arrow should function.\r\n        // In all other cases only left and right arrow function.\r\n        determineOrientation = function(e) {\r\n            var key = e.keyCode;\r\n            var vertical = tablist.getAttribute(\"aria-orientation\") == \"vertical\";\r\n            var proceed = false;\r\n\r\n            if (vertical) {\r\n                if (key === keys.up || key === keys.down) {\r\n                    e.preventDefault();\r\n                    proceed = true;\r\n                }\r\n            }\r\n            else {\r\n                if (key === keys.left || key === keys.right) {\r\n                    e.preventDefault();\r\n                    proceed = true;\r\n                }\r\n            }\r\n\r\n            if (proceed) {\r\n                switchTabOnArrowPress(e);\r\n            }\r\n        },\r\n        // Find first parent of el with role=\"tablist\"\r\n        getParentTablist = function(el) {\r\n            var role = \"tablist\";\r\n            while (el && el.parentNode) {\r\n                el = el.parentNode;\r\n                if (el.getAttribute(\"role\") && el.getAttribute(\"role\") == role) {\r\n                    return el;\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n        // Get all siblings of el with class=\"dds__tab-link\"\r\n        getSiblingTabs = function() {\r\n            var siblingTabs = tablist.querySelectorAll(\".\" + prefix + \"tab-link\");\r\n            for (var i = 0; i < siblingTabs.length; i++) {\r\n                siblingTabs[i].index = i;\r\n            }\r\n            return siblingTabs;\r\n        },\r\n        getTablistPanels = function(tab) {\r\n            var controls = tab.getAttribute(\"aria-controls\");\r\n            var panelGroup = document.getElementById(controls).parentElement;\r\n            var siblingPanels = panelGroup.children;\r\n\r\n            return siblingPanels;\r\n\r\n        },\r\n        // Either focus the next, previous, first, or last tab\r\n        // depening on key pressed\r\n        switchTabOnArrowPress = function(e) {\r\n            var pressed = e.keyCode;\r\n            each (tabs, function(tab) {\r\n                tab.addEventListener(\"focus\", focusEventHandler);\r\n            });\r\n\r\n            if (direction[pressed]) {\r\n                var target = e.target;\r\n                if (target.index !== undefined) {\r\n                \r\n                    if (tabs[target.index + direction[pressed]]) {\r\n                        var targetTab = target.index + direction[pressed];\r\n                        if (overflow) {\r\n                            if (targetTab < overflow.detail.left) {\r\n                                overflow.clickLeft();\r\n                            } else if (targetTab > overflow.detail.right) {\r\n                                overflow.clickRight();\r\n                            }\r\n                        } \r\n                        setTimeout(function() {\r\n                            setFocus(tabs[targetTab]);\r\n                        }, 125);\r\n                    }\r\n                    else if (pressed === keys.left || pressed === keys.up) {\r\n                        if (overflow) overflow.clickEnd();\r\n                        focusLastTab();\r\n                    }\r\n                    else if (pressed === keys.right || pressed == keys.down) {\r\n                        if (overflow) overflow.clickHome();\r\n                        focusFirstTab();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        // Activates any given tab panel\r\n        activateTab = function(tab, needsFocus) {\r\n            needsFocus = needsFocus || true;\r\n\r\n            // Deactivate all other tabs\r\n            deactivateTabs(tab);\r\n\r\n            // Remove tabindex attribute\r\n            tab.removeAttribute(\"tabindex\");\r\n\r\n            // Set the tab as selected\r\n            tab.setAttribute(\"aria-selected\", \"true\");\r\n\r\n            // Get the value of aria-controls (which is an ID)\r\n            var controls = tab.getAttribute(\"aria-controls\");\r\n\r\n            tab.classList.add(prefix + \"active\");\r\n\r\n            // Remove hidden attribute from tab panel to make it visible\r\n            // document.getElementById(controls).removeAttribute('hidden');\r\n            document.getElementById(controls).classList.add(prefix + \"active\");\r\n            document.getElementById(controls).classList.add(prefix + \"show\");\r\n\r\n            // Set focus when required\r\n            if (needsFocus) {\r\n                setFocus(tab);\r\n            }\r\n        },\r\n        // Deactivate all tabs and tab panels\r\n        deactivateTabs = function(tab) {\r\n            panels = getTablistPanels (tab);\r\n            each (tabs, function(tab) {\r\n                tab.setAttribute(\"tabindex\", \"-1\");\r\n                tab.setAttribute(\"aria-selected\", \"false\");\r\n                tab.removeEventListener(\"focus\", focusEventHandler);\r\n                tab.classList.remove(prefix + \"active\");\r\n                tab.classList.remove(prefix + \"show\");\r\n            });\r\n\r\n            each (panels, function(panel) {\r\n                // panel.setAttribute('hidden', 'hidden');\r\n                panel.classList.remove(prefix + \"active\");\r\n                panel.classList.remove(prefix + \"show\");\r\n            });\r\n        },\r\n        // Make a guess\r\n        focusFirstTab = function() {\r\n            setFocus(tabs[0]);\r\n        },\r\n        // Make a guess\r\n        focusLastTab = function() {\r\n            setFocus(tabs[tabs.length - 1]);\r\n        },\r\n        // Detect if a tab is deletable\r\n        determineDeletable = function(e) {\r\n            var target = e.target;\r\n\r\n            if (target.getAttribute(\"data-deletable\") !== null) {\r\n                // Delete target tab\r\n                deleteTab(e);\r\n\r\n                // Update arrays related to tabs widget\r\n                // generateArrays();\r\n\r\n                // Activate the closest tab to the one that was just deleted\r\n                if (target.index - 1 < 0) {\r\n                    activateTab(tabs[0]);\r\n                }\r\n                else {\r\n                    activateTab(tabs[target.index - 1]);\r\n                }\r\n            }\r\n        },\r\n        // Deletes a tab and its panel\r\n        deleteTab = function(e) {\r\n            var target = e.target;\r\n            var panel = document.getElementById(target.getAttribute(\"aria-controls\"));\r\n\r\n            target.parentElement.removeChild(target);\r\n            panel.parentElement.removeChild(panel);\r\n        },\r\n        // Determine whether there should be a delay\r\n        // when user navigates with the arrow keys\r\n        determineDelay = function() {\r\n            var hasDelay = tablist.hasAttribute(\"data-delay\");\r\n            var delay = 0;\r\n\r\n            if (hasDelay) {\r\n                var delayValue = tablist.getAttribute(\"data-delay\");\r\n                if (delayValue) {\r\n                    delay = delayValue;\r\n                }\r\n                else {\r\n                    // If no value is specified, default to 300ms\r\n                    delay = 300;\r\n                }\r\n            }\r\n\r\n            return delay;\r\n        },\r\n        //\r\n        focusEventHandler = function(e) {\r\n            var target = e.target;\r\n\r\n            setTimeout(checkTabFocus, delay, target);\r\n        },\r\n        // Only activate tab on focus if it still has focus after the delay\r\n        checkTabFocus = function(target) {\r\n            var focused = document.activeElement;\r\n\r\n            if (target === focused) {\r\n                activateTab(target, false);\r\n            }\r\n        },\r\n        // triggers\r\n        triggerShow = function() {\r\n            setFocus(modalElement);\r\n        },\r\n        triggerHide = function() {\r\n            modalElement.style.display = \"\";\r\n        },\r\n        createModal = function() {\r\n            var modalBody = modalElement.querySelector(\".\" + prefix+ \"modal-body\");\r\n            \r\n            tabContainer = getClosest(tablist, \".\" + prefix + \"tabs-container\");\r\n            var tabContentContainer;\r\n            if (overflowContainer) {\r\n                tabContentContainer = getClosest(tabContainer,\".\" + prefix + \"tab-content\", false);\r\n            } else {\r\n                tabContentContainer = tabContainer.querySelector(\".\" + prefix + \"tab-content\");\r\n            }\r\n\r\n            if (modalBody.firstElementChild) {\r\n                tabContentContainer.appendChild(modalBody.firstElementChild);\r\n            }\r\n            var tab = getClosest(event.target, \".\" + prefix+ \"tab-link\");\r\n            var controls = tab.getAttribute(\"aria-controls\");\r\n            var tabContent = document.getElementById(controls);\r\n\r\n            setTimeout(function() {\r\n                modalBody.appendChild(tabContent);\r\n            }, 50);\r\n        },\r\n        dismissHandler = function(e) {\r\n            if (modalElement.classList.contains(prefix + \"show\")) {\r\n                self.hide();\r\n                e.preventDefault();\r\n                setFocus(activeTab);\r\n            }\r\n        },\r\n        resizeHandler = function(){\r\n            if (!smallMediaSize.matches && modalElement.classList.contains(prefix + \"show\")) {\r\n                self.hide();\r\n            }\r\n        }, \r\n        createAccordions = function() {\r\n            accordionWrapper = createElement(\"div\", {\r\n                class: prefix + \"accordion \" + prefix + \"mb-3\",\r\n                id: tabs[0].id + \"parent\"\r\n            });\r\n            tabContainer.parentElement.insertBefore(accordionWrapper, tabContainer);\r\n            each(tabs, function(tab) {\r\n                var card = createElement(\"div\", {\r\n                    class: prefix + \"accordion-card\"\r\n                });\r\n                var cardHeader = createElement(\"div\", {\r\n                    class: prefix + \"accordion-card-header\"\r\n                });\r\n                var h5 = createElement(\"h5\", {\r\n                    class: prefix + \"mb-0\"\r\n                });\r\n                var accordionBtn = createElement(\"button\", {\r\n                    class: prefix + \"accordion-btn \" + prefix + \"collapsed \" + prefix + \"d-flex\",\r\n                    type: \"button\",\r\n                    role: \"button\",\r\n                    data_toggle: prefix + \"collapse\",\r\n                    data_target: \"#\" + tab.id + \"accord\", //Need to create IDs\r\n                    data_parent: \"#\" + tabs[0].id + \"parent\",\r\n                    aria_controls: tab.id + \"accord\",\r\n                    aria_expanded: \"false\"\r\n                });\r\n                var chevron = createElement(\"i\", {\r\n                    class: prefix + \"icons \" + prefix + \"chevron-right\",\r\n                    aria_hidden: \"true\"\r\n                });\r\n                var accordionSpan = createElement(\"span\", {\r\n                    class: prefix + \"mx-2\",\r\n                    html: tab.innerText,\r\n                    id: tab.id + \"header\"\r\n                });\r\n\r\n                accordionBtn.appendChild(chevron);\r\n                accordionBtn.appendChild(accordionSpan);\r\n                h5.appendChild(accordionBtn);\r\n                cardHeader.appendChild(h5);\r\n                card.appendChild(cardHeader);\r\n                accordionWrapper.appendChild(card);\r\n                var cardBodyWrapper = createElement(\"div\", {\r\n                    id: tab.id + \"accord\",\r\n                    class: prefix + \"collapse\",\r\n                    aria_labelledby: tab.id + \"header\",\r\n                    role: \"region\",\r\n                    aria_expanded: \"false\"\r\n                });\r\n                var cardBody = createElement(\"div\", {\r\n                    class: prefix + \"accordion-card-body\",\r\n                    html: document.getElementById(tab.getAttribute(\"aria-controls\")).innerHTML\r\n                });\r\n                card.appendChild(cardBodyWrapper);\r\n                cardBodyWrapper.appendChild(cardBody);\r\n            });\r\n            each(withinModal.querySelectorAll(\"[data-toggle='\" + prefix + \"collapse\" + \"']\"), function(accordion) {\r\n                new Collapse(accordion);\r\n            });\r\n        },\r\n        handleResizeSmall = function() {\r\n            if (thresholdMediaSize.matches) {\r\n                var activeTab = tabContainer.querySelector(\"[aria-selected='true']\");\r\n                var sisterCollapseStr = activeTab.getAttribute(\"id\") + \"accord\";\r\n                var activateCollapse = accordionWrapper.querySelector(\"[data-target='#\" + sisterCollapseStr + \"']\");\r\n                if (activateCollapse && activateCollapse.classList.contains(prefix + \"collapsed\")) { //Need to Activate the collapse\r\n                    var prevActivated = accordionWrapper.querySelector(\"button[aria-expanded='true']\");\r\n                    var showBlock;\r\n                    if (prevActivated) {\r\n                        prevActivated.setAttribute(\"aria-expanded\", false);\r\n                        prevActivated.classList.add(prefix + \"collapsed\");\r\n                        showBlock = getClosest(prevActivated, \".dds__collapse\", false);\r\n                        showBlock.classList.remove(prefix + \"show\");\r\n                        showBlock.setAttribute(\"aria-expanded\", \"false\");\r\n                    }\r\n                    activateCollapse.setAttribute(\"aria-expanded\", true);\r\n                    activateCollapse.classList.remove(prefix + \"collapsed\");\r\n                    showBlock = getClosest(activateCollapse, \".dds__collapse\", false);\r\n                    showBlock.classList.add(prefix + \"show\");\r\n                    showBlock.setAttribute(\"aria-expanded\", \"true\");\r\n                }\r\n                accordionWrapper.classList.remove(prefix + \"d-none\");\r\n                tabContainer.classList.add(prefix + \"d-none\");\r\n\r\n            } else {\r\n                var activeCollapse = accordionWrapper.querySelector(\"button[aria-expanded='true']\");\r\n                if (activeCollapse) {\r\n                    var sisterTabStr = activeCollapse.getAttribute(\"aria-controls\").slice(0,-6);\r\n                    var tabToActivate = document.getElementById(sisterTabStr);\r\n                    activateTab(tabToActivate);\r\n                }\r\n                accordionWrapper.classList.add(prefix + \"d-none\");\r\n                tabContainer.classList.remove(prefix + \"d-none\");\r\n            }\r\n        };\r\n\r\n    this.show = function() {\r\n        if (window.innerWidth > 767.98) {\r\n            return;\r\n        }\r\n        createModal();\r\n        modalElement.style.display = \"block\";\r\n        //modalElement.classList.remove(prefix + \"slide-right\");\r\n        modalElement.setAttribute(\"aria-hidden\", false);\r\n        triggerShow();\r\n        modalElement.classList.add(prefix + \"show\");\r\n\r\n        if (isSafari && isIOS) {\r\n            modalElement.classList.add(prefix + \"is-safari\");\r\n        }\r\n\r\n        if (DOC.body.classList.contains(prefix + \"modal-open\")) {\r\n            nested = true;\r\n        } else {\r\n            DOC.body.classList.add(prefix + \"modal-open\");\r\n            nested = false;\r\n        }\r\n\r\n        backButton = modalElement && modalElement.querySelector(\"[data-dismiss='\"+prefix+\"modal']\");\r\n        backButton.addEventListener(\"click\", dismissHandler, false);\r\n        smallMediaSize.addListener(resizeHandler);\r\n        setTimeout(function() {\r\n            setFocusableElements();\r\n            setFocus(backButton);\r\n        }, 50);\r\n        modalElement.addEventListener(\"keydown\", handleModalKeydown);\r\n    };\r\n\r\n    this.hide = function() {\r\n        //Need to append tab content back to tabContentContainer\r\n        var modalBody = modalElement.querySelector(\".\" + prefix+ \"modal-body\");\r\n        // var tabContainer = getClosest(tablist, \".\" + prefix + \"tabs-container\", true);\r\n        var tabContainer = getClosest(tablist, \".\" + prefix + \"tabs-container\");\r\n        var tabContentContainer;\r\n        if (overflowContainer) {\r\n            tabContentContainer = getClosest(tabContainer,\".\" + prefix + \"tab-content\", false);\r\n        } else {\r\n            tabContentContainer = tabContainer.querySelector(\".\" + prefix + \"tab-content\");\r\n        }\r\n        if (modalBody.firstElementChild) {\r\n            tabContentContainer.appendChild(modalBody.firstElementChild);\r\n        }\r\n        modalElement.classList.add(prefix + \"slide-right\");\r\n        modalElement.classList.remove(prefix + \"show\");\r\n        modalElement.setAttribute(\"aria-hidden\", true);\r\n        if (isSafari && isIOS && modalElement.classList.contains(prefix + \"is-safari\")) {\r\n            modalElement.classList.remove(prefix + \"is-safari\");\r\n        }\r\n        smallMediaSize.removeListener(resizeHandler);\r\n        setTimeout(function() {\r\n            triggerHide();\r\n            if (!nested) {\r\n                DOC.body.classList.remove(prefix + \"modal-open\");\r\n            } \r\n            backButton.removeEventListener(\"click\", dismissHandler, false);\r\n        }, 200);\r\n        modalElement.removeEventListener(\"keydown\", handleModalKeydown);\r\n    };\r\n\r\n    this.lazyLoad = function() {\r\n        if (options.lazyload && overflow && !overflow.detail) {\r\n            overflow.lazyLoad();\r\n            overflow.detail = overflow.getCurrentDetails();\r\n            overflowContainer.addEventListener(\"uicOverflowChangeEvent\", handleOverflowEvent, false);\r\n            uicoreCustomEvent(\"Tab\", \"LazyLoadEvent\", element, {\"success\": true});\r\n        }\r\n        else {\r\n            uicoreCustomEvent(\"Tab\", \"LazyLoadEvent\", element, {\"success\": false, \"msg\": \"Tab cannot be lazy loaded. Check usage or avoid mulitple lazy loads.\"});\r\n        }\r\n    };\r\n\r\n    // init\r\n    if (!(stringTab in element)) {\r\n        tablist = getParentTablist(element);\r\n        modalElement = element.dataset[\"target\"] && DOC.getElementById(element.dataset[\"target\"].substr(1));\r\n        delay = determineDelay();\r\n        tabs = getSiblingTabs();\r\n        // prevent adding event handlers twice\r\n        element.addEventListener(\"keydown\", keydownEventListener);\r\n        element.addEventListener(\"keyup\", keyupEventListener);\r\n        element.addEventListener(\"click\", clickEventListener);\r\n        overflowContainer = getClosest(element, \".\" + prefix + \"container-overflow\");\r\n        if (overflowContainer) {\r\n            if (!(\"overflow\" in tablist)) {\r\n                overflow = new Overflow(overflowContainer, {\r\n                    lazyload: options.lazyload\r\n                });\r\n                if (!options.lazyload) {\r\n                    overflow.detail = overflow.getCurrentDetails();\r\n                    overflowContainer.addEventListener(\"uicOverflowChangeEvent\", handleOverflowEvent);\r\n                }\r\n                tablist[\"overflow\"] = overflow;\r\n            } else {\r\n                overflow = tablist[\"overflow\"];\r\n            }\r\n        }\r\n        tabContainer = getClosest(tablist, \".\" + prefix + \"tabs-container\");\r\n        withinModal = getClosest(element, \".\" + prefix + \"modal-offcanvas\", true);\r\n        if (withinModal) { //check if tabs are within Modal\r\n            var accordionExist = withinModal.querySelector(\"#\" + element.id + \"accord\"); //check if accordions already been made\r\n            if (!accordionExist) {\r\n                createAccordions();\r\n                if (withinModal.classList.contains(prefix + \"modal-width-25\")) {\r\n                    thresholdMediaSize = window.matchMedia(\"(max-width: 3071.92px)\"); //3071.92*0.25 = 767.98\r\n                } else if (withinModal.classList.contains(prefix + \"modal-width-50\")) {\r\n                    thresholdMediaSize = window.matchMedia(\"(max-width: 1535.96px)\"); //1535.96*0.5 = 767.98\r\n                } else if (withinModal.classList.contains(prefix + \"modal-width-75\")) {\r\n                    thresholdMediaSize = window.matchMedia(\"(max-width: 1023.97px)\"); //3071.92*0.25 = 767.98\r\n                } else {\r\n                    thresholdMediaSize = window.matchMedia(\"(max-width: 767.98px)\");\r\n                }\r\n                thresholdMediaSize.addListener(handleResizeSmall);\r\n                handleResizeSmall();\r\n            }\r\n        }\r\n    }\r\n    \r\n    element[stringTab] = self;\r\n}\r\n","import { each, sortItems, isArray, createElement } from \"../utilities.js\";\r\n/**\r\n * Columns API\r\n * @param {Object} instance DataTable instance\r\n * @param {Mixed} columns  Column index or array of column indexes\r\n */\r\nexport default function Columns(dt) {\r\n    var hiddenHeader = false;\r\n    /**\r\n     * Swap two columns\r\n     * @return {Void}\r\n     */\r\n    this.swap = function(columns) {\r\n        if (columns.length && columns.length === 2) {\r\n            var cols = [];\r\n\r\n            // Get the current column indexes\r\n            each(dt.headings, function (h, i) {\r\n                cols.push(i);\r\n            });\r\n\r\n            var x = columns[0];\r\n            var y = columns[1];\r\n            var b = cols[y];\r\n            cols[y] = cols[x];\r\n            cols[x] = b;\r\n\r\n            this.order(cols);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Reorder the columns\r\n     * @return {Array} columns  Array of ordered column indexes\r\n     */\r\n    this.order = function(columns) {\r\n            \r\n        var a, b, c, d, h, s, cell,\r\n            temp = [\r\n                [],\r\n                [],\r\n                [],\r\n                []\r\n            ];\r\n\r\n        // Order the headings\r\n        each(columns, function (column, x) {\r\n            h = dt.headings[column];\r\n            s = h.getAttribute(\"data-sortable\") !== \"false\";\r\n            a = h.cloneNode(true);\r\n            a.originalCellIndex = x;\r\n            a.sortable = s;\r\n\r\n            temp[0].push(a);\r\n\r\n            if (dt.hiddenColumns.indexOf(column) < 0) {\r\n                b = h.cloneNode(true);\r\n                b.originalCellIndex = x;\r\n                b.sortable = s;\r\n\r\n                temp[1].push(b);\r\n            }\r\n        });\r\n\r\n        // Order the row cells\r\n        each(dt.data, function (row, i) {\r\n            c = row.cloneNode();\r\n            d = row.cloneNode();\r\n\r\n            c.dataIndex = d.dataIndex = i;\r\n            if(dt.expandable){\r\n                c.details = d.details = row.details;\r\n            }\r\n\r\n            \r\n            if (row.searchIndex !== null && row.searchIndex !== undefined) {\r\n                c.searchIndex = d.searchIndex = row.searchIndex;\r\n            }\r\n\r\n            // Append the cell to the fragment in the correct order\r\n            each(columns, function (column) {\r\n                cell = row.cells[column].cloneNode(true);\r\n                cell.data = row.cells[column].data;\r\n                c.appendChild(cell);\r\n                \r\n                if (dt.hiddenColumns.indexOf(column) < 0) {\r\n                    cell = row.cells[column].cloneNode(true);\r\n                    cell.data = row.cells[column].data;\r\n                    d.appendChild(cell);\r\n                }\r\n            });\r\n            \r\n            temp[2].push(c);\r\n            temp[3].push(d);\r\n        });\r\n\r\n        dt.headings = temp[0];\r\n        dt.activeHeadings = temp[1];\r\n\r\n        each(dt.headings, function(header) {\r\n            if (header.classList.contains(\"desc\") || header.classList.contains(\"asc\")) {\r\n                dt.lastTh = header;\r\n            }\r\n        });\r\n\r\n        dt.data = temp[2];\r\n        dt.activeRows = temp[3];\r\n    };\r\n\r\n    /**\r\n     * Hide columns\r\n     * @return {Void}\r\n     */\r\n    this.hide = function(columns) {\r\n        if (columns.length) {\r\n            each(columns, function (column) {\r\n                if (dt.hiddenColumns.indexOf(column) < 0) {\r\n                    dt.hiddenColumns.push(column);\r\n                }\r\n            });\r\n\r\n            this.rebuild();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Show columns\r\n     * @return {Void}\r\n     */\r\n    this.show = function(columns) {\r\n        if (columns.length) {\r\n            var index;\r\n\r\n            each(columns, function (column) {\r\n                index = dt.hiddenColumns.indexOf(column);\r\n                if (index > -1) {\r\n                    dt.hiddenColumns.splice(index, 1);\r\n                }\r\n            });\r\n\r\n            this.rebuild();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Check column(s) visibility\r\n     * @return {Boolean}\r\n     */\r\n    this.visible = function(columns) {\r\n        var cols;\r\n\r\n        columns = columns || dt.headings.map(function (th) {\r\n            return th.originalCellIndex;\r\n        });\r\n\r\n        if (!isNaN(columns)) {\r\n            cols = dt.hiddenColumns.indexOf(columns) < 0;\r\n        } else if (isArray(columns)) {\r\n            cols = [];\r\n            each(columns, function (column) {\r\n                cols.push(dt.hiddenColumns.indexOf(column) < 0);\r\n            });\r\n        }\r\n\r\n        return cols;\r\n    };\r\n\r\n    /**\r\n     * Add a new column\r\n     * @param {Object} data\r\n     */\r\n    this.add = function(data) {\r\n        var that = this,\r\n            td, th = createElement(\"th\");\r\n\r\n        if (!dt.headings.length) {\r\n            dt.insert({\r\n                headings: [data.heading],\r\n                rows: data.rows.map(function (i) {\r\n                    return [i];\r\n                })\r\n            });\r\n            this.rebuild();\r\n            return;\r\n        }\r\n\r\n        if (!hiddenHeader) {\r\n            if (data.heading.nodeName) {\r\n                th.appendChild(data.heading);\r\n            } else {\r\n                th.innerHTML = data.heading;\r\n            }\r\n        } else {\r\n            th.innerHTML = \"\";\r\n        }\r\n\r\n        dt.headings.push(th);\r\n\r\n        each(dt.data, function (row, i) {\r\n            if (data.data[i]) {\r\n                td = createElement(\"td\");\r\n\r\n                if (data.data[i].nodeName) {\r\n                    td.appendChild(data.data[i]);\r\n                } else {\r\n                    td.innerHTML = data.data[i];\r\n                }\r\n\r\n                td.data = td.innerHTML;\r\n\r\n                if (data.render) {\r\n                    td.innerHTML = data.render.call(that, td.data, td, row);\r\n                }\r\n\r\n                row.appendChild(td);\r\n            }\r\n        });\r\n\r\n        if (data.type) {\r\n            th.setAttribute(\"data-type\", data.type);\r\n        }\r\n        if (data.format) {\r\n            th.setAttribute(\"data-format\", data.format);\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(data, \"sortable\")) {\r\n            th.sortable = data.sortable;\r\n            th.setAttribute(\"data-sortable\", data.sortable === true ? \"true\" : \"false\");\r\n        }\r\n\r\n        this.rebuild();\r\n\r\n        dt.renderHeader();\r\n    };\r\n\r\n    /**\r\n     * Remove column(s)\r\n     * @param  {Array|Number} select\r\n     * @return {Void}\r\n     */\r\n    this.remove = function(select) {\r\n        if (isArray(select)) {\r\n            // Remove in reverse otherwise the indexes will be incorrect\r\n            select.sort(function (a, b) {\r\n                return b - a;\r\n            });\r\n\r\n            each(select, function (column) {\r\n                this.remove(column);\r\n            }, this);\r\n        } else {\r\n            dt.headings.splice(select, 1);\r\n\r\n            each(dt.data, function (row) {\r\n                row.removeChild(row.cells[select]);\r\n            });\r\n        }\r\n\r\n        this.rebuild();\r\n    };\r\n\r\n    /**\r\n     * Sort by column\r\n     * @param  {int} column - The column no.\r\n     * @param  {string} direction - asc or desc\r\n     * @return {void}\r\n     */\r\n    this.sort = function(column, direction) {\r\n        // Check column is present\r\n        if (dt.hasHeadings && (column < 0 || column > dt.activeHeadings.length - 1 )) {\r\n            return false;\r\n        }\r\n        \r\n        dt.sorting = true;\r\n        \r\n        var rows = [],\r\n            alpha = [],\r\n            numeric = [],\r\n            a = 0,\r\n            n = 0,\r\n            th = dt.activeHeadings[column];\r\n\r\n        rows = dt.data;\r\n        column = th.originalCellIndex;\r\n        \r\n        each(rows, function (tr) {\r\n            var num, content;\r\n            \r\n            var cell = tr.cells[column];\r\n            content = cell.hasAttribute(\"data-content\") ? cell.getAttribute(\"data-content\") : cell.data;\r\n            num = content.replace(/(\\$|,|\\s|%)/g, \"\");\r\n            \r\n            if (th.getAttribute(\"data-type\") === \"date\") {                \r\n                num = Date.parse(content);\r\n                if (num.isNaN) {\r\n                    num = 0;\r\n                }\r\n            }\r\n            \r\n            if (parseFloat(num) == num) {\r\n                numeric[n++] = {\r\n                    value: Number(num),\r\n                    row: tr\r\n                };\r\n            } else {\r\n                alpha[a++] = {\r\n                    value: content.toLowerCase(),\r\n                    row: tr\r\n                };\r\n            }\r\n\r\n        });\r\n        \r\n        /* Sort according to direction (ascending or descending) */\r\n        var top, btm;\r\n        if (th.classList.contains(\"asc\") || direction == \"desc\") {\r\n            top = sortItems(alpha, -1);\r\n            btm = sortItems(numeric, -1);\r\n        } else {\r\n            top = sortItems(numeric, 1);\r\n            btm = sortItems(alpha, 1);\r\n\r\n        }\r\n        this.updateSortDirection(th, direction);\r\n        \r\n        dt.lastTh = th;\r\n        \r\n        /* Reorder the table */\r\n        rows = top.concat(btm);\r\n        dt.data = [];\r\n        dt.selectedRows = [];\r\n        var indexes = [];\r\n            \r\n        each(rows, function (v, i) {\r\n            dt.data.push(v.row);\r\n\r\n            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {\r\n                indexes.push(i);\r\n            }\r\n\r\n        }, dt);\r\n        \r\n        dt.searchData = indexes;\r\n\r\n        this.rebuild();\r\n    };\r\n\r\n    this.updateSortDirection = function(th, direction){\r\n        if (th.classList.contains(\"asc\") || direction == \"desc\") {\r\n            // top = sortItems(alpha, -1);\r\n            // btm = sortItems(numeric, -1);\r\n            th.classList.remove(\"asc\");\r\n            th.classList.add( \"desc\");\r\n            th.setAttribute(\"aria-sort\",\"descending\");\r\n        } else {\r\n            // top = sortItems(numeric, 1);\r\n            // btm = sortItems(alpha, 1);\r\n            th.classList.remove(\"desc\");\r\n            th.classList.add(\"asc\");\r\n            th.setAttribute(\"aria-sort\",\"ascending\");\r\n        }\r\n\r\n        if (dt.lastTh && th != dt.lastTh) {\r\n            dt.lastTh.classList.remove(\"desc\");\r\n            dt.lastTh.classList.remove(\"asc\");\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Rebuild the columns\r\n     * @return {Void}\r\n     */\r\n    this.rebuild = function() {\r\n        var a, b, c, d, temp = [];\r\n\r\n        dt.activeRows = [];\r\n        dt.activeHeadings = [];\r\n\r\n        each(dt.headings, function (th, i) {\r\n            th.originalCellIndex = i;\r\n            th.sortable = th.getAttribute(\"data-sortable\") !== \"false\";\r\n            if (dt.hiddenColumns.indexOf(i) < 0) {\r\n                dt.activeHeadings.push(th);\r\n            \r\n            } \r\n        });\r\n        // Loop over the rows and reorder the cells\r\n        each(dt.data, function (row, i) {\r\n            a = row.cloneNode();\r\n            b = row.cloneNode();\r\n\r\n            a.dataIndex = b.dataIndex = i;\r\n            a.details = b.details =  row.details;\r\n\r\n            if (row.searchIndex !== null && row.searchIndex !== undefined) {\r\n                a.searchIndex = b.searchIndex = row.searchIndex;\r\n            }\r\n\r\n            // Append the cell to the fragment in the correct order\r\n            each(row.cells, function (cell) {\r\n                c = cell.cloneNode(true);\r\n                c.data = cell.data;\r\n                a.appendChild(c);\r\n\r\n                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {\r\n                    d = cell.cloneNode(true);\r\n                    d.data = cell.data;\r\n                    b.appendChild(d);\r\n                \r\n                }\r\n            });\r\n\r\n            // Append the fragment with the ordered cells\r\n            temp.push(a);\r\n            dt.activeRows.push(b);\r\n        });\r\n        \r\n        dt.data = temp;\r\n    };\r\n}\r\n","import { each, isArray, createElement, getText } from \"../utilities.js\";\r\n\r\n/**\r\n * Rows API\r\n * @param {Object} instance DataTable instance\r\n * @param {Array} rows\r\n */\r\nexport default function Rows(dt) {\r\n    /**\r\n     * Build a new row\r\n     * @param  {Array} row\r\n     * @return {HTMLElement}\r\n     */\r\n    this.build = function(row) {\r\n        var td, tr = createElement(\"tr\");\r\n\r\n        var headings = dt.headings;\r\n\r\n        if (!headings.length) {\r\n            headings = row.map(function () {\r\n                return \"\";\r\n            });\r\n        }\r\n\r\n        each(row, function(tdx) {\r\n            if (tdx.indexOf(\"table-cmplx-accordion-btn\") > -1 || tdx.indexOf(\"table-cmplx-row-select\") > -1) {\r\n                td = createElement(\"tr\");\r\n                td.innerHTML = tdx;\r\n                tr.appendChild(td.firstChild);\r\n            } else {\r\n                td = createElement(\"td\");\r\n                td.innerHTML = tdx;\r\n                td.data = tdx;\r\n                td.setAttribute(\"data-content\", getText(tdx));\r\n                tr.appendChild(td);\r\n            }\r\n        });\r\n\r\n        if (row.details) {\r\n            tr.details = row.details;\r\n        }\r\n        return tr;\r\n    };\r\n\r\n    this.render = function(row) {\r\n        return row;\r\n    };\r\n\r\n    /**\r\n     * Add new row\r\n     * @param {Array} select\r\n     */\r\n    this.add = function(data, details) {\r\n\r\n        if (isArray(data)) {\r\n            // Check for multiple rows\r\n            if (isArray(data[0])) {\r\n                each(data, function (row, i) {\r\n                    // append details is supplied\r\n                    if (details[i]) {\r\n                        row.details = details[i];\r\n                    }\r\n                    dt.data.push(this.build(row));\r\n                }, this);\r\n            } else {\r\n                // append details is supplied\r\n                if (details) {\r\n                    data.details = details[0];\r\n                }\r\n                dt.data.push(this.build(data));\r\n            }\r\n\r\n            // We may have added data to an empty table\r\n            if ( dt.data.length ) {\r\n                dt.hasRows = true;\r\n            }\r\n\r\n            this.update();\r\n\r\n            // Needs to be called after the return of add\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Remove row(s)\r\n     * @param  {Array|Number} select\r\n     * @return {Void}\r\n     */\r\n    this.remove = function(select) {\r\n\r\n        if (isArray(select)) {\r\n            // Remove in reverse otherwise the indexes will be incorrect\r\n            select.sort(function (a, b) {\r\n                return b - a;\r\n            });\r\n\r\n            each(select, function (row) {\r\n                dt.data.splice(row, 1);\r\n            });\r\n        } else {\r\n            dt.data.splice(select, 1);\r\n        }\r\n\r\n        this.update();\r\n    };\r\n\r\n    /**\r\n     * Update row indexes\r\n     * @return {Void}\r\n     */\r\n    this.update = function() {\r\n        var idx = 0;\r\n        each(dt.data, function (row) {\r\n            if(row.children.length != 1) {\r\n                row.dataIndex = idx++;\r\n            }\r\n        });\r\n    };\r\n}","import { DOC, isObject, isArray, isJson, each, createElement, getClosest, prefix, classRemove, classAdd, getSibling, uicoreCustomEvent, validateNum, renderSvg, flush, isEdge, getText} from \"./utilities.js\";\r\nimport Pagination from \"./pagination.js\";\r\nimport Columns from \"./helpers/columns.js\";\r\nimport Rows from \"./helpers/rows.js\";\r\nimport Dropdown from \"./dropdown.js\";\r\nimport Modal from \"./modal.js\";\r\n\r\nexport default function TableComplex(element, params) {\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return;\r\n    })();\r\n\r\n    function validateRow(row, name) {\r\n        var hasErrors = \"\";\r\n        var rowCount = row.match(/\\{((\\w*|\\d*):?)+\\}/g);\r\n        if (rowCount.length < 1 || rowCount.length > 3) {\r\n            hasErrors += \"Custom layout for row \"+name+\" was delared with an incorrect set of elements!\\n\";\r\n        }\r\n        var rowLength = 0;\r\n        var localFunctions = [\"placeholder\",\"actions\",\"settings\",\"search\"];\r\n        each(rowCount, function(temp) {\r\n            var subElements = temp.replace(/\\{|\\}/g, \"\").split(\":\");\r\n            if (subElements.indexOf(\"placeholder\") === -1 && !temp.match(/\\{[A-Z,a-z]+:[1,2,3](:(start|center|end))*\\}/g) ) {\r\n                hasErrors += \"Custom layout for row \"+name+\" has an element \"+ temp +\", which has been declared incorrectly!\\n\";\r\n            }\r\n            if (layoutOptions.indexOf(subElements[0]) === -1 && !window[subElements[0]] && localFunctions.indexOf(subElements[0]) < 0) { // does custom function exist\r\n                hasErrors += \"Custom layout for row \"+name+\" has an element with custom function '\"+ subElements[0] +\"' that is not accessible or dosen't exist!\\n\";\r\n            }\r\n            if (!isNaN(subElements[1].substring(0,1))) {\r\n                rowLength += +subElements[1].substring(0,1);\r\n            }\r\n        });\r\n        if (rowLength != 3) {\r\n            hasErrors += \"Custom layout for row \"+name+\" is configured with grid length '\"+ rowLength +\"', which needs to add up to '3'!\\n\";\r\n        }\r\n        return hasErrors;\r\n    }\r\n\r\n    var jsonParams = element.dataset.tableData;\r\n    if (jsonParams) {\r\n        params = JSON.parse(jsonParams);\r\n    }\r\n\r\n    // init options\r\n    var options = {};\r\n    var layoutOptions = [\"{actions:1:start}\",\"{search:1:center}\",\"{settings:1:end}\"];\r\n    \r\n    // Check to see what Javascript options are set or are missing from table element classes\r\n    options.sort = typeof params.sort === \"boolean\" ? params.sort : false;\r\n    options.expand = typeof params.expand === \"boolean\" ? params.expand : false;\r\n    if (options.expand) {\r\n        options.expandIcon = params.expandIcon && typeof params.expandIcon === \"string\" ? params.expandIcon : \"arrow-tri-solid-right\";\r\n        if (options.expandIcon.indexOf(prefix) > -1) {\r\n            options.expandIcon = options.expandIcon.split(prefix)[1];\r\n        }\r\n    }\r\n    options.showTotal = typeof params.showTotal === \"string\" ? params.showTotal : false;\r\n    options.condensed = typeof params.condensed === \"boolean\" ? params.condensed : false;\r\n    options.fixedColumns = typeof params.fixedColumns === \"boolean\" ? params.fixedColumns : false;\r\n    options.rearrangeableColumns = typeof params.rearrangeableColumns === \"boolean\" ? params.rearrangeableColumns : false;\r\n    options.fixedHeight = typeof params.fixedHeight === \"boolean\" ? params.fixedHeight : false;\r\n    options.header = typeof params.header === \"boolean\" ? params.header : true;\r\n    //Set Default Batch Actions\r\n    options.defaultBatchActions = {};\r\n    options.defaultBatchActions.exportCsv = params.defaultBatchActions && typeof params.defaultBatchActions.exportCsv === \"boolean\" ? params.defaultBatchActions.exportCsv : true ;\r\n    options.defaultBatchActions.exportJson = params.defaultBatchActions && typeof params.defaultBatchActions.exportJson === \"boolean\" ? params.defaultBatchActions.exportJson : true ;\r\n    options.defaultBatchActions.deleteRow = params.defaultBatchActions && typeof params.defaultBatchActions.delete === \"boolean\" ? params.defaultBatchActions.delete : true ;\r\n\r\n    // Set all table text to variables\r\n    options.text = {};\r\n    options.text.apply = params.text && params.text.apply && typeof params.text.apply === \"string\"? params.text.apply : \"Apply\";\r\n    options.text.cancel = params.text && params.text.cancel && typeof params.text.cancel === \"string\" ? params.text.cancel : \"Cancel\";\r\n    options.text.exportCsv = params.text && params.text.exportCsv && typeof params.text.exportCsv === \"string\" ? params.text.exportCsv : \"Export as csv\";\r\n    options.text.exportJson = params.text && params.text.exportJson && typeof params.text.exportJson === \"string\" ? params.text.exportJson : \"Export as json\";\r\n    options.text.deleteRow = params.text && params.text.delete && typeof params.text.delete === \"string\" ? params.text.delete : \"Delete\";\r\n    options.text.noEntries = params.text && params.text.noEntries && typeof params.text.noEntries === \"string\" ? params.text.noEntries: \"No entries found\";\r\n    options.text.import = params.text && params.text.import && typeof params.text.import === \"string\" ? params.text.import: \"Import\";\r\n    options.text.print = params.text && params.text.print && typeof params.text.print === \"string\" ? params.text.print: \"Print\";\r\n    options.text.columns = params.text && params.text.columns && typeof params.text.columns === \"string\" ? params.text.columns: \"Columns\";\r\n    options.text.batchActions = params.text && params.text.batchActions && typeof params.text.batchActions === \"string\" ? params.text.batchActions: \"Batch Actions\";\r\n    options.text.chooseActions = params.text && params.text.chooseAction && typeof params.text.chooseAction === \"string\" ? params.text.chooseAction: \"Choose Actions\";\r\n    \r\n    // Remove the data from the Table element\r\n    options.showData = jsonParams && typeof params.showData === \"boolean\" ? params.showData : true;\r\n    // Search is either on by default or can be truned off\r\n    options.search = typeof params.search === \"boolean\" ? params.search : true;\r\n    if (options.search) {\r\n        options.text.search  = {};\r\n        options.text.search.label = params.text && params.text.search && typeof params.text.search.label === \"string\" ? params.text.search.label : false;\r\n        options.text.search.placeholder = params.text && params.text.search && typeof params.text.search.placeholder === \"string\" ? params.text.search.placeholder : false;\r\n    }\r\n    // Settings is either on by default or can be turned off\r\n    options.settings = typeof params.settings === \"boolean\" ? params.settings : true;\r\n    // Import either on by default or can be turned off\r\n    options.import = typeof params.import === \"boolean\" ? params.import : true;\r\n    // Printing is either on by default or can be turned off\r\n    options.print = typeof params.print === \"boolean\" ? params.print : true;\r\n    // Column Management is either on by default or can be turned off\r\n    options.column = typeof params.column === \"boolean\" ? params.column : true;\r\n    // Export details roww is either on by default or can be turned off\r\n    options.exportDetails = typeof params.exportDetails === \"boolean\" ? params.exportDetails : true;\r\n\r\n    var allowedExtensions = [\".csv\", \".json\", \".js\"];\r\n    options.allowedImportExtensions = [];\r\n    //is it just one or is it an array \r\n    each(params.allowedImportExtensions, function(ext) {\r\n        if (typeof ext  === \"string\" && allowedExtensions.indexOf(ext) >= -1) {\r\n            options.allowedImportExtensions.push(ext); \r\n        }\r\n    });\r\n    if (options.allowedImportExtensions.length === 0) options.allowedImportExtensions = allowedExtensions;\r\n    // Bulk Actions\r\n    options.actionsSelectFilters = [];\r\n    each(params.additionalActions, function(additionalAction) {\r\n        if (additionalAction.js) {\r\n            var testJs = additionalAction.js;\r\n            if (additionalAction.js.indexOf(\"(\") > -1) {\r\n                testJs = additionalAction.js.substring(0, additionalAction.js.indexOf(\"(\")).trim();\r\n            } else {\r\n                additionalAction.js += \"()\";\r\n            }\r\n            if (!window[testJs]) {\r\n                throw new Error(\"The additional action function \"+additionalAction.js+\" could not be accessed, please verify and try again!\");\r\n            } else {\r\n                options.actionsSelectFilters.splice(additionalAction.pos, 0, additionalAction);\r\n            }\r\n        } else {\r\n            options.actionsSelectFilters.splice(additionalAction.pos, 0, additionalAction);\r\n        }\r\n    });\r\n    for (var action in options.defaultBatchActions) {\r\n        if (options.defaultBatchActions[action]) {\r\n            if (action === \"deleteRow\" && options.actionsSelectFilters[0]) { //place divider above `delete` action only when other actions are present\r\n                options.actionsSelectFilters.push(\"hr\");\r\n            }\r\n            options.actionsSelectFilters.push(options.text[action]);\r\n        }\r\n    }\r\n    options.select = typeof params.select === \"boolean\" ? params.select : true;\r\n    if (!options.select) layoutOptions.splice(layoutOptions.indexOf(\"{actions:1:start}\"),1,\"{placeholder:1:start}\");\r\n    if (!options.search) layoutOptions.splice(layoutOptions.indexOf(\"{search:1:center}\"),1,\"{placeholder:1:center}\");\r\n    if (!options.settings) layoutOptions.splice(layoutOptions.indexOf(\"{settings:1:end}\"),1,\"{placeholder:1:end}\");\r\n    // Customise the layout\r\n    if (params.layout) {\r\n        var rowCount = 0;\r\n        var hasErrors = \"\";\r\n        if (params.layout.row1) {\r\n            hasErrors += validateRow(params.layout.row1, \"one\");\r\n            rowCount++;\r\n        }\r\n        if (params.layout.row2) {\r\n            hasErrors += validateRow(params.layout.row2, \"two\");\r\n            rowCount++;\r\n        }\r\n        if (rowCount === 0) {\r\n            hasErrors += \"Custom layout was configured to have no Rows, which it needs to have at least 1!\\n\";\r\n        }\r\n        if (hasErrors.length > 0) {\r\n            throw new Error(hasErrors);\r\n        }\r\n    }\r\n    options.layout = params.layout ? params.layout : {row2:layoutOptions.join(\"\")};\r\n\r\n    if (isArray(params.perPageSelect)) {\r\n        if (typeof params.perPageSelect[0] === \"number\") {\r\n            options.perPageSelect = params.perPageSelect.map(function(i) { \r\n                i = Math.abs(parseInt(i));\r\n                return i;\r\n            });\r\n        } else if (validateNum(params.perPageSelect[0])) {\r\n            options.perPageSelect = params.perPageSelect.map(function(i) { \r\n                i = Math.abs(parseInt(i));\r\n                return i;\r\n            });\r\n        } else {\r\n            throw new Error(\"Invalid perPageSelect. Should be a non-empty array of integer\");\r\n        }\r\n    } else {\r\n        options.perPageSelect = [12,24,48,96];\r\n    }\r\n    options.perPage = options.perPageSelect.indexOf(params.perPage) > -1 ? validateNum(params.perPage) : options.perPageSelect[0];\r\n    options.origPerPage = options.perPage;\r\n    options.items = validateNum(params.items, 0);\r\n    options.buttonLabelLeft = params.buttonLabelLeft && typeof params.buttonLabelLeft === \"string\" ? params.buttonLabelLeft : \"Previous\";\r\n    options.buttonLabelRight = params.buttonLabelRight && typeof params.buttonLabelRight === \"string\" ? params.buttonLabelRight : \"Next\";\r\n    options.disablePaginationInput = params.disablePaginationInput !== null && typeof params.disablePaginationInput === \"boolean\" ? params.disablePaginationInput : false;\r\n\r\n    // transfer data\r\n    options.data = {};\r\n    if(!params.data) {\r\n        var msg = \"Missing data parameters for table!\";\r\n        console.error(msg);\r\n        uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n        return false;\r\n    }\r\n    if (!params.data.headings) {\r\n        msg = \"Missing data.headings parameters for table!\";\r\n        console.error(msg);\r\n        uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n        return false;\r\n    }\r\n    options.data.headings = params.data.headings;\r\n    if (!params.data.columns) {\r\n        msg = \"Missing data.columns parameters for table!\";\r\n        console.error(msg);\r\n        uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n        return false;\r\n    }\r\n    options.data.columns = params.data.columns;\r\n    if (!params.data.rows) {\r\n        msg = \"Missing data.rows parameters for table!\";\r\n        console.error(msg);\r\n        uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n        return false;\r\n    }\r\n    options.data.rows = params.data.rows;\r\n    \r\n    options.labels = {\r\n        noRows: options.text.noEntries, // Message shown when there are no search results\r\n    };\r\n\r\n    if (!options.showData) {\r\n        delete element.dataset.tableData;\r\n    }\r\n\r\n    var self = this,\r\n        stringTable = \"Table\",\r\n        table = element,\r\n        body,\r\n        head,\r\n        header,\r\n        wrapper,\r\n        container,\r\n        bottom,\r\n        columnBox,\r\n        isIE,\r\n        pages,\r\n        currentPage,\r\n        totalPages,\r\n        paginationElement,\r\n        pagination,\r\n        columnRenderers,\r\n        selectedColumns,\r\n        labels,\r\n        rect,\r\n        input,\r\n        searching = false,\r\n        dragSrcEl,\r\n        sortedColumnIdx,\r\n        metHeight = true,\r\n        batchId,\r\n        searchId,\r\n        columnsFixed = false,\r\n        initialY,\r\n        begOffsetTop,\r\n        currentY,\r\n        moveableCols = [],\r\n        colMoved = false,\r\n        // Handlers\r\n        handleTouchEvent = function(e) {\r\n            if (e.pointerType === \"mouse\") {\r\n                return false; //If mouse touch on IE, cancel and use handleDragEvent\r\n            } else {\r\n                e.preventDefault(); //else prevent default actions, like scrolling\r\n            }\r\n            var yOffset = 0;\r\n            var finOffsetTop;\r\n            if (e.type === \"touchstart\" || e.type === \"pointerdown\") {\r\n                if (e.type === \"pointerdown\") {\r\n                    initialY = e.clientY - yOffset;\r\n                } else {\r\n                    initialY = e.touches[0].clientY - yOffset;\r\n                }\r\n                dragSrcEl = e[\"target\"];\r\n                if (dragSrcEl.tagName != \"LI\" ) {\r\n                    dragSrcEl = getClosest(dragSrcEl, \".\" + prefix + \"table-cmplx-drag-li\");\r\n                }\r\n                dragSrcEl.dataTransfer = {};\r\n                dragSrcEl.dataTransfer.data = dragSrcEl.outerHTML;\r\n                begOffsetTop = dragSrcEl.offsetTop;\r\n            }\r\n            if (e.type === \"touchmove\" || e.type === \"pointermove\") {\r\n                e.preventDefault();\r\n                var before = false;\r\n                if (isIE || isEdge) {\r\n                    currentY = e.clientY - initialY;\r\n                    dragSrcEl.addEventListener(\"pointerleave\", handlePointerLeave);\r\n                } else {\r\n                    currentY = e.touches[0].clientY - initialY; //difference btn start and end if you move up it is negative\r\n                }\r\n                yOffset = currentY;\r\n                if (yOffset === 0) {\r\n                    return false;\r\n                }\r\n\r\n                if (!dragSrcEl) {\r\n                    dragSrcEl = e[\"target\"];\r\n                    if (dragSrcEl.tagName != \"LI\" ) {\r\n                        dragSrcEl = getClosest(dragSrcEl, \".\" + prefix + \"table-cmplx-drag-li\");\r\n                    }\r\n                }\r\n\r\n                finOffsetTop = begOffsetTop + currentY;\r\n                dragSrcEl.style.transform = \"translate3d(0, \" + yOffset + \"px, 0)\";\r\n                dragSrcEl.style.opacity = 0.5;\r\n                colMoved = true;\r\n                each(moveableCols, function(col) {\r\n                    var startedBelow = col.offsetTop < dragSrcEl.offsetTop;\r\n                    var startedAbove = col.offsetTop > dragSrcEl.offsetTop;\r\n                    var endedBelow = col.offsetTop < finOffsetTop;\r\n                    var endedAbove = col.offsetTop > finOffsetTop;\r\n                    if (endedAbove && startedBelow  //if started from below and moved above column\r\n                        || endedBelow && startedAbove) { //if started from above and moved below column\r\n                        if (endedAbove) { //if item is being moved before col\r\n                            if (col.previousElementSibling) { //if not the first column\r\n                                if (finOffsetTop > col.previousElementSibling.offsetTop) { //if moving up, but not above predecessor\r\n                                    if (col.classList.contains(prefix + \"border-bottom-black\")) {\r\n                                        col.classList.remove(prefix + \"border-bottom-black\");\r\n                                    } \r\n                                    col.classList.add(prefix + \"border-top-black\");\r\n                                } else if (col.classList.contains(prefix + \"border-top-black\")) {\r\n                                    col.classList.remove(prefix + \"border-top-black\");\r\n                                } else if (col.classList.contains(prefix + \"border-bottom-black\")) {\r\n                                    col.classList.remove(prefix + \"border-bottom-black\");\r\n                                }\r\n                            } else if (finOffsetTop < 0) { //if being placed before first column\r\n                                col.classList.add(prefix + \"border-top-black\");\r\n                            }\r\n                        } else if (endedBelow) { //if item is being moved below\r\n                            if (col.nextElementSibling) {\r\n                                if (finOffsetTop < col.nextElementSibling.offsetTop) {\r\n                                    if (col.classList.contains(prefix + \"border-top-black\")) {\r\n                                        col.classList.remove(prefix + \"border-top-black\");\r\n                                    }\r\n                                    col.classList.add(prefix + \"border-bottom-black\");\r\n                                } else  if (col.classList.contains(prefix + \"border-bottom-black\")) { //either should get the styling or should not\r\n                                    col.classList.remove(prefix + \"border-bottom-black\");\r\n                                } else if (col.classList.contains(prefix + \"border-top-black\")) {\r\n                                    col.classList.remove(prefix + \"border-top-black\");\r\n                                }\r\n                            } else if (finOffsetTop > col.offsetTop) {\r\n                                col.classList.add(prefix + \"border-bottom-black\");\r\n                            }\r\n    \r\n                        }\r\n                    } else if (startedBelow && col.nextElementSibling && col.nextElementSibling.offsetTop > finOffsetTop && !col.nextElementSibling.classList.contains(prefix + \"table-cmplx-drag-li\")) { // started from below + moved below a draggable but above a fixed column\r\n                        col.classList.add(prefix + \"border-bottom-black\");\r\n                    } else if (endedAbove && startedAbove && finOffsetTop > col.previousElementSibling.offsetTop && col.previousElementSibling.classList.contains(prefix + \"table-cmplx-li\")) { //if started from above + moved above but below a fixed \r\n                        col.classList.add(prefix + \"border-top-black\");\r\n                    } else if (col.classList.contains(prefix + \"border-top-black\")) { //If it has a border but doesmn't fall into above category, remove it\r\n                        col.classList.remove(prefix + \"border-top-black\");\r\n                    } else if (col.classList.contains(prefix + \"border-bottom-black\")) { //If it has a border but doesmn't fall into above category, remove it\r\n                        col.classList.remove(prefix + \"border-bottom-black\");\r\n                    }\r\n                });\r\n            }\r\n            if (e.type ===\"touchend\" || e.type === \"pointerup\") {\r\n                initialY = currentY;\r\n                before = false;\r\n                if (!dragSrcEl) {\r\n                    dragSrcEl = e[\"target\"];\r\n                    if (dragSrcEl.tagName != \"LI\" ) {\r\n                        dragSrcEl = getClosest(dragSrcEl, \".\" + prefix + \"table-cmplx-drag-li\");\r\n                    }\r\n                }\r\n                finOffsetTop = begOffsetTop + currentY;\r\n                if (colMoved) {\r\n                    each(moveableCols, function(col) {\r\n                        if (col != dragSrcEl) {\r\n                            var startedBelow = col.offsetTop < dragSrcEl.offsetTop;\r\n                            var startedAbove = col.offsetTop > dragSrcEl.offsetTop;\r\n                            var endedBelow = col.offsetTop < finOffsetTop;\r\n                            var endedAbove = col.offsetTop > finOffsetTop;\r\n                            if (endedAbove && startedBelow \r\n                                || endedBelow && startedAbove \r\n                                    || col.nextElementSibling && startedBelow && col.nextElementSibling.offsetTop > finOffsetTop && !col.nextElementSibling.classList.contains(prefix + \"table-cmplx-drag-li\") //if moving from bottom coming up: starting top is lower than above's starting top but ending top is higher \r\n                                        || endedAbove && startedAbove && finOffsetTop > col.previousElementSibling.offsetTop && col.previousElementSibling.classList.contains(prefix + \"table-cmplx-li\") ) {          \r\n                                if (endedAbove && startedBelow \r\n                                                || endedAbove && startedAbove && finOffsetTop > col.previousElementSibling.offsetTop && col.previousElementSibling.classList.contains(prefix + \"table-cmplx-li\")) {\r\n                                    before = true;\r\n                                    if (col.previousElementSibling) { //if not the first column\r\n                                        if (finOffsetTop > col.previousElementSibling.offsetTop) {\r\n                                            handleTouchEnd(dragSrcEl, before, col);\r\n                                        } \r\n                                    } else if (!col.previousElementSibling && finOffsetTop < 0) { //if being placed before the first column\r\n                                        handleTouchEnd(dragSrcEl, before, col);\r\n                                    }\r\n                                } else if (endedBelow && startedAbove \r\n                                                || startedBelow && col.nextElementSibling && col.nextElementSibling.offsetTop > finOffsetTop && !col.nextElementSibling.classList.contains(prefix + \"table-cmplx-drag-li\")) { //if moving column down\r\n                                    if (col.nextElementSibling && finOffsetTop < col.nextElementSibling.offsetTop) {\r\n                                        handleTouchEnd(dragSrcEl, before, col);\r\n                                    } else if (!col.nextElementSibling && finOffsetTop > col.offsetTop) { //if being placed below last column\r\n                                        handleTouchEnd(dragSrcEl, before, col);\r\n                                    }\r\n                                }\r\n\r\n                                col.classList.remove(prefix + \"border-top-black\");\r\n                                col.classList.remove(prefix + \"border-bottom-black\");\r\n\r\n                                columnBox.orderChanged = true;\r\n                            }\r\n                        }\r\n                    });\r\n                    if (dragSrcEl.hasAttribute(\"style\")) { //set back to origin if doesn't get moved into available slot\r\n                        dragSrcEl.removeAttribute(\"style\");\r\n                    }\r\n                    colMoved = false; //once touch end is over, set colMoved back to false \r\n                } else {\r\n                    if (dragSrcEl.querySelector(\"input\").checked) {\r\n                        dragSrcEl.querySelector(\"input\").checked = false;\r\n                    } else {\r\n                        dragSrcEl.querySelector(\"input\").checked = true;\r\n                    }\r\n                }\r\n                var applyButton = columnBox.querySelector(\".\"+prefix+\"btn-primary\");\r\n                if (applyButton.disabled) {\r\n                    applyButton.removeAttribute(\"disabled\");\r\n                }\r\n                if (isIE || isEdge) {\r\n                    dragSrcEl.removeEventListener(\"pointerleave\", handlePointerLeave);\r\n                }\r\n            }\r\n        },\r\n        handleTouchEnd = function(dragSrcEl, before, col) {\r\n            var input = dragSrcEl.querySelector(\"input\");\r\n            var checked = input && input.checked;\r\n            setTimeout(function() {\r\n                var dropElem;\r\n                var dropHTML = dragSrcEl.dataTransfer.data;\r\n    \r\n                dragSrcEl.parentNode.removeChild(dragSrcEl);\r\n                if (before) {\r\n                    col.insertAdjacentHTML(\"beforebegin\", dropHTML);\r\n                    dropElem = col.previousSibling;\r\n                } else {\r\n                    col.insertAdjacentHTML(\"afterend\", dropHTML);\r\n                    dropElem = col.nextSibling;\r\n                }\r\n                \r\n                moveableCols.push(dropElem);\r\n                moveableCols = moveableCols.filter( function(value) {\r\n                    return value != dragSrcEl;\r\n                });\r\n                if (checked) {\r\n                    dropElem.querySelector(\"input\").checked = true;\r\n                }\r\n                setupDragEvents(dropElem);\r\n            }, 50);\r\n        },\r\n        handlePointerLeave = function(e) {\r\n            setTimeout(function() {\r\n                dragSrcEl = e[\"relatedTarget\"];\r\n                if (dragSrcEl.tagName != \"LI\" ) {\r\n                    dragSrcEl = getClosest(dragSrcEl, \".\" + prefix + \"table-cmplx-drag-li\");\r\n                }\r\n                if (dragSrcEl.hasAttribute(\"style\")) {\r\n                    dragSrcEl.removeAttribute(\"style\");\r\n                }\r\n                each(moveableCols, function(col) {\r\n                    if (col.classList.contains(prefix + \"border-top-black\")) {\r\n                        col.classList.remove(prefix + \"border-top-black\");\r\n                    } else if (col.classList.contains(prefix + \"border-bottom-black\")) {\r\n                        col.classList.remove(prefix + \"border-bottom-black\");\r\n                    }\r\n                });\r\n            },50);\r\n        },\r\n        handleDragEvent = function(e) {\r\n            e.stopPropagation();\r\n            if (e.type === \"dragstart\") {\r\n                dragSrcEl = e[\"target\"];\r\n\r\n                dragSrcEl.dataTransfer = {};\r\n                dragSrcEl.dataTransfer.data = dragSrcEl.outerHTML;\r\n            }\r\n            if (e.type === \"dragover\") {\r\n                var overEl = e[\"target\"];\r\n                if (overEl.tagName != \"LI\" ) {\r\n                    overEl = getClosest(overEl, \".\" + prefix + \"table-cmplx-drag-li\");\r\n                }\r\n                if (dragSrcEl != overEl) {\r\n                    if (e.preventDefault) {\r\n                        e.preventDefault(); // Necessary. Allows us to drop.\r\n                    }\r\n                    overEl.classList.add(prefix + \"border-bottom-black\");\r\n                    if (overEl.previousElementSibling && overEl.previousElementSibling.classList.contains(prefix + \"border-bottom-black\")) {\r\n                        overEl.previousElementSibling.classList.remove(prefix + \"border-bottom-black\");\r\n                    }\r\n                    if (overEl.nextElementSibling && overEl.nextElementSibling.classList.contains(prefix + \"border-bottom-black\")) {\r\n                        overEl.nextElementSibling.classList.remove(prefix + \"border-bottom-black\");\r\n                    }\r\n                    return false;\r\n                }\r\n               \r\n            }\r\n              \r\n            if (e.type === \"dragleave\") {\r\n                \r\n                var leaveEl = e[\"target\"];\r\n                if (leaveEl.tagName != \"LI\" ) {\r\n                    leaveEl = getClosest(leaveEl, \".\" + prefix + \"table-cmplx-drag-li\");\r\n                }\r\n                if (dragSrcEl != leaveEl) {\r\n                    if (e.preventDefault) {\r\n                        e.preventDefault(); // Necessary. Allows us to drop.\r\n                    }\r\n                    \r\n                    leaveEl.classList.remove(prefix + \"border-bottom-black\");\r\n                    return false;\r\n                }\r\n                \r\n            }\r\n              \r\n            if (e.type === \"drop\") {\r\n              \r\n                if (e.stopPropagation) {\r\n                    e.stopPropagation(); // Stops some browsers from redirecting.\r\n                }\r\n              \r\n                var dropTarget = e[\"target\"];    \r\n                if (dropTarget.tagName != \"LI\") {\r\n                    dropTarget = getClosest(dropTarget, \".\" + prefix + \"table-cmplx-drag-li\");\r\n                }\r\n                // Don't do anything if dropping the same column we're dragging.\r\n                if (dragSrcEl != dropTarget) {\r\n                    var checkbox = dragSrcEl.querySelector(\"input\");\r\n                    var checked = checkbox ? checkbox.checked : false;\r\n                    var dropHTML = dragSrcEl.dataTransfer.data;\r\n                    dragSrcEl.parentNode.removeChild(dragSrcEl);\r\n                    \r\n                    dropTarget.insertAdjacentHTML(\"afterend\",dropHTML);\r\n                    var dropElem = dropTarget.nextSibling;\r\n                    if (checked) {\r\n                        dropElem.querySelector(\"input\").checked = true;\r\n                    }\r\n                    setupDragEvents(dropElem);\r\n                    dropTarget.classList.remove(prefix + \"border-bottom-black\");\r\n\r\n                    columnBox.orderChanged = true;\r\n                    var applyButton = columnBox.querySelector(\".\"+prefix+\"btn-primary\");\r\n                    // eanble Apply and Cancel\r\n                    if (applyButton.disabled) {\r\n                        applyButton.removeAttribute(\"disabled\");\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        },\r\n        handleImportActionEvent = function(e) {\r\n            var t = e.target;\r\n            var reader = new FileReader();\r\n            var output = \"\"; //placeholder for text output\r\n            var type = \"\"; //placeholder for file type\r\n            if(t.files && t.files[0]) {\r\n                if (!t.files[0].type || \r\n                    t.files[0].type === \"application/json\") {\r\n                    type = \"json\";\r\n                } else if(t.files[0].type && \r\n                    (t.files[0].type === \"application/vnd.ms-excel\" ||\r\n                    t.files[0].type === \"text/csv\")) {\r\n                    type = \"csv\";\r\n                } else {\r\n                    var msg = \"The file type for the file selected was not recognizable!\";\r\n                    console.error(msg);\r\n                    uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n                }     \r\n                reader.onload = function (e) {\r\n                    output = e.target.result;\r\n                    if(type === \"json\") {\r\n                        if(!isJson(output)) {\r\n                            msg = \"The file type for the supplied file was not recognizable!\";\r\n                            console.error(msg);\r\n                            uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n                        }\r\n                    }\r\n                    var inputOptions = {type: type,\r\n                        data: output,\r\n                        headings: true};\r\n                    self.import(inputOptions);\r\n                    t.value = \"\";\r\n                    \r\n                };//end onload()\r\n                reader.readAsText(t.files[0]);\r\n            }//end if html5 filelist support\r\n            e.preventDefault();\r\n        },\r\n        handleExportActionEvent = function(t) {\r\n            var exportFileOptions = { };\r\n            if (options.expand && options.select) {\r\n                exportFileOptions.skipColumn = [0,1];\r\n            } else if (options.expand || options.select) {\r\n                exportFileOptions.skipColumn = [0];\r\n            }\r\n\r\n            if (t.innerHTML === options.text.exportCsv) {\r\n                exportFileOptions.type = \"csv\";\r\n            } else {\r\n                exportFileOptions.type = \"json\";\r\n            }\r\n            self.export(exportFileOptions);\r\n        },\r\n        handleDeleteActionEvent = function() {\r\n            self.delete();\r\n        },\r\n        handleSelectAllChange = function(state) {\r\n            if (options.select) {\r\n                var actions = wrapper.querySelector(\"[data-target='#cmplxTablesActions']\");\r\n                if (state === \"checked\" || state === \"indeterminate\" && actions.disabled) {\r\n                    actions.removeAttribute(\"disabled\");\r\n                } else if (state === \"unchecked\" && !actions.disabled && table.selectedRows.length < 1) {\r\n                    actions.setAttribute(\"disabled\",\"\");\r\n                }\r\n            }\r\n        },\r\n        handleCheckBoxEvent = function(t) {\r\n            if(options.select && t.classList.contains(prefix + \"table-cmplx-select-all\")) { // Header Select All\r\n                if (table.hasRows) {\r\n                    var cellIdx = getHeaderCellIndex(prefix + \"table-cmplx-select-all\");\r\n                    var check = t.checked;\r\n                    if (!check || t.state === \"indeterminate\") {\r\n                        check = false;\r\n                        t.checked = false;\r\n                        t.state = \"unchecked\";\r\n                    } else {\r\n                        t.state = \"checked\";\r\n                        check = true;\r\n                    }\r\n                    each(pages[currentPage-1], function(row) {\r\n                        if(row.cells.length != 1) {\r\n                            var cell = row.cells[cellIdx];\r\n                            var input = cell.querySelector(\"input[type='checkbox']\");\r\n                            var dataInput = table.data[row.dataIndex].cells[cellIdx].querySelector(\"input[type='checkbox']\");\r\n\r\n                            if (check) {\r\n                                dataInput.checked = input.checked = true;\r\n                                table.selectedRows.push(row.dataIndex);\r\n                                row.classList.add(\"selected\");\r\n                                if (options.expand) {\r\n                                    row.nextElementSibling.classList.add(\"selected\");\r\n                                }\r\n                                t.state = \"checked\";\r\n                            } else {\r\n                                dataInput.checked = input.checked = false;\r\n                                table.selectedRows.pop(row.dataIndex);\r\n                                row.classList.remove(\"selected\");\r\n                                if (options.expand) {\r\n                                    row.nextElementSibling.classList.remove(\"selected\");\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    pages[currentPage-1].selected = t.checked;\r\n                    handleSelectAllChange(t.state);\r\n                } else {\r\n                    t.checked = false;\r\n                }\r\n            } else if(options.select && t.parentNode.classList.contains(prefix + \"table-cmplx-row-select\")) { // Table Cell Select\r\n                cellIdx = getHeaderCellIndex(prefix + \"table-cmplx-select-all\");\r\n                var tr = getClosest(t, \"tr\", false);\r\n                if (t.checked) {\r\n                    table.data[tr.dataIndex].cells[cellIdx].querySelector(\"input[type='checkbox']\").checked = true;\r\n                    tr.classList.add(\"selected\");\r\n                    if (options.expand) {\r\n                        tr.nextElementSibling.classList.add(\"selected\");\r\n                    }\r\n                    if (table.selectedRows.length === 0) {\r\n                        table.selectedRows.push(tr.dataIndex);\r\n                    } else {\r\n                        var newRows = [];\r\n                        for (var idx = 0; idx < table.selectedRows.length; idx++) {\r\n                            \r\n                            var value = table.selectedRows[idx];\r\n                            var less = table.selectedRows[idx-1];\r\n                            var more = table.selectedRows[idx+1];\r\n                            if (tr.dataIndex < value \r\n                                && (less === undefined || tr.dataIndex > less)\r\n                                && newRows.indexOf(tr.dataIndex) === -1) {\r\n                                newRows.push(tr.dataIndex);\r\n                                newRows.push(value);\r\n                            } else if (tr.dataIndex > value \r\n                                && (more === undefined || tr.dataIndex < more)\r\n                                && newRows.indexOf(tr.dataIndex) === -1) {\r\n                                newRows.push(value);\r\n                                newRows.push(tr.dataIndex);\r\n                            } else {\r\n                                newRows.push(value);\r\n                            }\r\n                        }\r\n                        if (newRows.length > 0) {\r\n                            table.selectedRows = newRows;\r\n                        }\r\n                    }\r\n                } else {\r\n                    table.data[tr.dataIndex].cells[cellIdx].querySelector(\"input[type='checkbox']\").checked = false;\r\n                    tr.classList.remove(\"selected\");\r\n                    if (options.expand) {\r\n                        tr.nextElementSibling.classList.remove(\"selected\");\r\n                    }\r\n                    table.selectedRows = table.selectedRows.filter( function(value) {\r\n                        if (value != tr.dataIndex) {\r\n                            return \"\" + value;\r\n                        }\r\n                    });\r\n                    each(table.activeHeadings[cellIdx].children, function(el) {\r\n                        if (el && el.classList.contains(prefix + \"table-cmplx-select-all\")) {\r\n                            el.checked = false;\r\n                        }\r\n                    });\r\n                }\r\n                var selectAll = wrapper.querySelector(\".\" + prefix + \"table-cmplx-select-all\");\r\n                if (table.selectedRows.length === options.perPage || table.selectedRows.length === pages[currentPage-1].length) {\r\n                    selectAll.indeterminate = false;\r\n                    selectAll.state = \"checked\";\r\n                    selectAll.checked = true;\r\n                } else if (table.selectedRows.length > 0) {\r\n                    selectAll.state = \"indeterminate\";\r\n                    selectAll.indeterminate = true;\r\n                } else {\r\n                    selectAll.state = \"unchecked\";\r\n                    selectAll.indeterminate = false;\r\n                }\r\n                handleSelectAllChange(selectAll.state);\r\n            }\r\n        },\r\n        handleButtonEvent =  function(t) {\r\n            if (t.innerHTML === options.text.cancel) {\r\n                columnBox.classList.remove(prefix + \"show\");\r\n            }\r\n            else if (t.innerHTML === options.text.apply) {\r\n                if(columnBox.orderChanged) {\r\n                    var order = [];\r\n                    // Make sure we pick up cells for Expandable, Selectable and Labels\r\n                    for (var h = 0; h < baseCellIdx(); h++) {\r\n                        order.push(h);\r\n                    }\r\n                    each (columnBox.getElementsByTagName(\"ul\"), function(unOderedList) {\r\n                        each(unOderedList.children, function(li) {\r\n                            each(table.headings, function(header) {\r\n                                if(li.querySelectorAll(\"label\")[0].textContent === header.textContent) {\r\n                                    order.push(header.originalCellIndex);\r\n                                }\r\n                            });\r\n                        });\r\n                    });\r\n                    columnBox.orderChanged = false;\r\n                    columns().order(order);\r\n                    table.hiddenColumns = [];\r\n                    self.update();\r\n                }\r\n\r\n                each (columnBox.getElementsByTagName(\"ul\"), function(unOderedList) {\r\n                    each(unOderedList.children, function(li) {\r\n                        var liCheckbox = li.querySelector(\"input[type='checkbox']\");\r\n                        if (liCheckbox && liCheckbox.checked) {\r\n                            each(table.headings, function(header) {\r\n                                if(li.querySelectorAll(\"label\")[0].textContent === header.textContent) {\r\n                                    columns().show([header.originalCellIndex]);\r\n                                    self.update();\r\n                                }\r\n                            });\r\n                        } else if (liCheckbox && !liCheckbox.checked) {\r\n                            each(table.headings, function(header) {\r\n                                if(li.querySelectorAll(\"label\")[0].textContent === header.textContent) {\r\n                                    columns().hide([header.originalCellIndex]);\r\n                                    self.update();\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    if (searching) {\r\n                        self.search(input.value);\r\n                    }\r\n                });\r\n                columnsFixed = false;\r\n                renderHeader();\r\n                columnBox.classList.remove(prefix + \"show\");\r\n            }\r\n        },\r\n        handleTableHeaderEvent = function(e,t) {\r\n            if (\r\n                options.sort &&\r\n                t.hasAttribute(\"data-sortable\")\r\n            ) {\r\n                if ( options.items > 0 && (options.items != table.activeRows.length)) {\r\n                    self.deleteAll();\r\n                    //change column to asc or desc\r\n                    columns().updateSortDirection(table.activeHeadings[table.activeHeadings.indexOf(t)], t.classList.contains(\"asc\") ? \"asc\":\"desc\");\r\n                }\r\n                else{\r\n                    columns().sort(table.activeHeadings.indexOf(t));\r\n                    sortedColumnIdx = t.originalCellIndex;\r\n                    self.update();\r\n                    e.preventDefault();\r\n                }\r\n                uicoreCustomEvent(\"Table\", \"SortEvent\", table, { \"column\" : table.activeHeadings.indexOf(t), \"direction\" : (t.classList.contains(\"asc\") ? \"ascending\":\"descending\"), \"currentPage\": currentPage, \"perPage\": options.perPage });\r\n            }\r\n            t.focus();\r\n        },\r\n        handleAccordionEvent = function(t) {\r\n            if(t.classList.contains(prefix + \"table-cmplx-accordion-btn\")) {\r\n                var htmlRow = t.parentNode.parentNode,\r\n                    currentRow = table.data[htmlRow.dataIndex];\r\n                if (currentRow.details) {\r\n                    var detailsRow = htmlRow.nextElementSibling.children[0];\r\n                    if (detailsRow.classList.contains(prefix + \"show\")) {\r\n                        detailsRow.classList.remove(prefix + \"show\");\r\n                        t.classList.add(prefix + \"collapsed\");\r\n                        t.setAttribute(\"aria-expanded\",false);\r\n                    } else {\r\n                        detailsRow.classList.add(prefix + \"show\");\r\n                        t.classList.remove(prefix + \"collapsed\");\r\n                        t.setAttribute(\"aria-expanded\",true);\r\n                    }\r\n                } else {\r\n                    each(t.querySelector(\"svg\").childNodes, function(use) {\r\n                        if (use.getAttribute(\"class\").indexOf(prefix + \"show\") > -1) {\r\n                            classRemove(use, prefix + \"show\");\r\n                            if (use.getAttribute(\"xlink:href\").indexOf(prefix + \"loading-sqrs\") != -1) {\r\n                                var row = getClosest(use, \"tr\", false);\r\n                                table.activeRows[row.dataIndex].event = \"ExpandCancelEvent\";\r\n                                uicoreCustomEvent(\"Table\", \"ExpandCancelEvent\", table, {\"rowId\": row.dataIndex});\r\n                            }\r\n                        } else {\r\n                            classAdd(use, prefix + \"show\");\r\n                            if (use.getAttribute(\"xlink:href\").indexOf(prefix + \"loading-sqrs\") != -1) {\r\n                                row = getClosest(use, \"tr\", false);\r\n                                table.activeRows[row.dataIndex].event = \"ExpandStartEvent\";\r\n                                var content = [];\r\n                                each(table.data[row.dataIndex].cells, function(cell, idx) {\r\n                                    if (options.expand && options.select) {\r\n                                        if (idx >= 2) {\r\n                                            var dt = \"\\\"\"+labels[idx]+\"\\\": \\\"\"+ ( (cell.hasAttribute(\"data-content\") ? cell.getAttribute(\"data-content\") : cell.textContent )+\"\\\"\" );\r\n                                            content.push(dt);\r\n                                        }\r\n                                    } else if (options.expand ||  options.select) {\r\n                                        if (idx >= 1) {\r\n                                            dt = \"\\\"\"+labels[idx]+\"\\\": \\\"\"+ ( (cell.hasAttribute(\"data-content\") ? cell.getAttribute(\"data-content\") : cell.textContent )+\"\\\"\" );\r\n                                            content.push(dt);\r\n                                        }\r\n                                    } else {\r\n                                        dt = \"\\\"\"+labels[idx]+\"\\\": \\\"\"+ ( (cell.hasAttribute(\"data-content\") ? cell.getAttribute(\"data-content\") : cell.textContent )+\"\\\"\" );\r\n                                        content.push(dt);\r\n                                    }\r\n                                });\r\n                                uicoreCustomEvent(\"Table\", \"ExpandStartEvent\", table, {\"rowId\": row.dataIndex, \"content\": content});\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        setupDragEvents = function(el) {\r\n            el.addEventListener(\"dragstart\", handleDragEvent, false);\r\n            el.addEventListener(\"dragover\", handleDragEvent, false);\r\n            el.addEventListener(\"dragleave\", handleDragEvent, false);\r\n            el.addEventListener(\"drop\", handleDragEvent, false);\r\n            if (isIE || isEdge) {\r\n                el.addEventListener(\"pointerdown\", handleTouchEvent, false);\r\n                el.addEventListener(\"pointerup\", handleTouchEvent, false);\r\n                el.addEventListener(\"pointermove\", handleTouchEvent, false);\r\n                if (isEdge) {\r\n                    el.addEventListener(\"click\", function(e) {\r\n                        if (e.pointerType === \"touch\") {\r\n                            e.preventDefault();\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                el.addEventListener(\"touchstart\", handleTouchEvent, false);\r\n                el.addEventListener(\"touchend\", handleTouchEvent, false);\r\n                el.addEventListener(\"touchmove\", handleTouchEvent, false);\r\n            }\r\n\r\n        },\r\n        extend = function (src, props) {\r\n            for (var prop in props) {\r\n                if (Object.prototype.hasOwnProperty.call(props, prop)) {\r\n                // if (props.hasOwnProperty(prop)) {\r\n                    var val = props[prop];\r\n                    if (val && isObject(val)) {\r\n                        src[prop] = src[prop] || {};\r\n                        extend(src[prop], val);\r\n                    } else {\r\n                        src[prop] = val;\r\n                    }\r\n                }\r\n            }\r\n            return src;\r\n        },\r\n        baseCellIdx = function() {\r\n            var baseIdx = 0;\r\n            if (table.expand) {\r\n                baseIdx++;\r\n            }\r\n            if (table.select) {\r\n                baseIdx++;\r\n            }\r\n            return baseIdx;\r\n        },\r\n        columns = function (columns) {\r\n            return new Columns(table, columns);\r\n        },\r\n        rows = function (rows) {\r\n            return new Rows(table, rows);\r\n        },\r\n        // Function used to convert options data to thead and tbody\r\n        dataToTable = function() {\r\n            var thead = false,\r\n                tbody = false;\r\n\r\n            table.data = table.data || options.data;\r\n\r\n            if (table.data.headings) {\r\n                thead = createElement(\"thead\");\r\n                var tr = createElement(\"tr\");\r\n\r\n                // Add the expandable header for row details\r\n                if (options.expand) {\r\n                    var th = createElement(\"th\", {\r\n                        title: \"expand details\"\r\n                    });\r\n                    tr.appendChild(th);\r\n                    table.expand = options.expand;\r\n                }\r\n                if (options.select) {\r\n                    th = createElement(\"th\");\r\n                    th.appendChild(createElement(\"input\", {\r\n                        type: \"checkbox\",\r\n                        class: prefix + \"table-cmplx-select-all\",\r\n                        title: \"select all rows\"\r\n                    }));\r\n                    tr.appendChild(th);\r\n                    table.select = options.select;\r\n                }\r\n                each(table.data.headings, function (col) {\r\n                    var th = createElement(\"th\", {\r\n                        scope: \"col\",\r\n                        html: col\r\n                    });\r\n                    tr.appendChild(th);\r\n                });\r\n                thead.appendChild(tr);\r\n            }\r\n\r\n            if (table.data.rows && table.data.rows.length) {\r\n                tbody = createElement(\"tbody\");\r\n               \r\n                each(table.data.rows, function (row, idx) {\r\n                    row.dataIndex = idx;\r\n                    if (table.data.headings) {\r\n                        if (options.data.headings.length !== row.data.length) {\r\n                            throw new Error(\r\n                                \"Row found at index, [ \"+idx+\" ] that does not match the number of headings supplied.\"\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    var tr = createElement(\"tr\");\r\n                    //Add secondary accordion arrow for details\r\n                    if(options.expand) {\r\n                        tr.appendChild(renderExpand());\r\n                    }\r\n                    //Add selectable checkboxes\r\n                    if(options.select) {\r\n                        tr.appendChild(renderSelect());\r\n                    }\r\n                    each(row.data, function (value) {\r\n                        var td = createElement(\"td\", {\r\n                            html: value\r\n                        });\r\n                        td.setAttribute(\"data-content\", getText(value));\r\n                        tr.appendChild(td);\r\n                    });\r\n                    \r\n                    tbody.appendChild(tr);\r\n\r\n                    if (row.details) {\r\n                        tr.details = row.details;\r\n                    }\r\n\r\n                    // Secondary accordion html for details\r\n                    if (options.expand){\r\n                        tbody.appendChild(renderDetails(tr, table.headings.length));\r\n                    }\r\n                    \r\n                });\r\n            }\r\n\r\n            if (thead) {\r\n                if (table.tHead !== null) {\r\n                    table.removeChild(table.tHead);\r\n                }\r\n                table.appendChild(thead);\r\n            }\r\n\r\n            if (tbody) {\r\n                if (table.tBodies.length) {\r\n                    table.removeChild(table.tBodies[0]);\r\n                }\r\n                table.appendChild(tbody);\r\n            }\r\n        },\r\n        setRenderColumns = function() {\r\n            if (selectedColumns.length) {\r\n                each(table.data, function (row) {\r\n                    each(row.cells, function (cell, i) {\r\n                        if (selectedColumns.indexOf(i) > -1) {\r\n                            each(columnRenderers, function (renderers) {\r\n                                if (renderers.columns === cell.cellIndex) {\r\n                                    cell.innerHTML = renderers.renderer.call(self, cell.data, cell, row);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        },\r\n        renderDetails = function(row, length, stripeClass, selected) {\r\n\r\n            var clazz = prefix + \"table-cmplx-row-details\";\r\n            if (stripeClass) {\r\n                clazz = stripeClass + \" \" + clazz;\r\n            }\r\n            if (selected) {\r\n                clazz += \" \" + \"selected\";\r\n            }\r\n           \r\n            var detailsRow = createElement(\"tr\", {\r\n                class: clazz\r\n            });\r\n            var detailsCell = createElement(\"td\", {\r\n                class :  prefix + \"table-complx-details\",\r\n                colspan: length\r\n            });\r\n            var accordionBody = createElement(\"div\",{\r\n                class : prefix + \"table-complx-details-body\"\r\n            });\r\n            if (row.details) {\r\n                accordionBody.innerHTML = row.details;\r\n            } else {\r\n                row.details = false;\r\n            }\r\n            detailsCell.appendChild(accordionBody);\r\n            detailsRow.appendChild(detailsCell);\r\n            return detailsRow;\r\n        },\r\n        renderExpand = function() {\r\n            var td = createElement(\"td\");\r\n            var showButton = createElement(\"button\", {\r\n                    class: prefix + \"table-cmplx-accordion-btn \" + prefix + \"collapsed\", \r\n                    \"aria-expanded\": false,\r\n                    \"aria-label\": \"expand details\"\r\n                }),\r\n                svgElem = renderSvg([{name:options.expandIcon, show:true},{name:\"loading-sqrs\", show:false}]);\r\n            showButton.appendChild(svgElem);\r\n            td.appendChild(showButton);\r\n            return td;\r\n        },\r\n        renderSelect = function() {\r\n            var td = createElement(\"td\", {\r\n                class: prefix + \"table-cmplx-row-select\"\r\n            });\r\n            var inputCheckbox = createElement(\"input\", {\r\n                type: \"checkbox\",\r\n                title: \"row select\"\r\n            });\r\n            td.appendChild(inputCheckbox);\r\n            return td;\r\n        },\r\n        renderCustomRow = function(row) {\r\n            var template = \"<div class='\" + prefix + \"table-cmplx-top'>\";\r\n            template += row;\r\n            template += \"</div>\";\r\n\r\n            each(row.match(/\\{((\\w*|\\d*):?)+\\}/g), function(el) {\r\n                var replace = el;\r\n                var clean = el.replace(/[{,}]/g, \"\").split(\":\");\r\n                switch(clean[0]) {\r\n                case \"actions\": template = template.replace(replace, renderActions(clean[1], clean[2])); break;\r\n                case \"search\": template = template.replace(replace, renderSearch(clean[1], clean[2])); break;\r\n                case \"settings\": template = template.replace(replace, renderSettings(clean[1], clean[2])); break;\r\n                case \"placeholder\": template = template.replace(replace, renderPlaceholder(clean[1])); break;\r\n                default : \r\n                    var topCtnr = \"<div class='\" + prefix + \"table-cmplx-top-cntr \" + prefix + \"justify-content-\" + clean[2] + \"' style='flex-grow: \" + clean[1] +\";'>\";\r\n                    topCtnr += window[clean[0]]()+\"</div>\";\r\n                    template = template.replace(replace, topCtnr);\r\n                    \r\n                }\r\n            });\r\n            return template;\r\n        },\r\n        createActionButton = function(html, js, dataToggle, dataTarget) {\r\n            var button;\r\n            if (dataToggle && dataTarget) {\r\n                button = createElement(\"button\", {\r\n                    class: prefix + \"dropdown-item\",\r\n                    role :\"menuitem\",\r\n                    onclick: js ? js : \"javascript: void(0);\",\r\n                    html: html,\r\n                    tabindex: \"-1\",\r\n                    data_toggle: dataToggle,\r\n                    data_target: dataTarget\r\n                });\r\n            } else {\r\n                button = createElement(\"button\", {\r\n                    class: prefix + \"dropdown-item\",\r\n                    role :\"menuitem\",\r\n                    onclick: js ? js : \"javascript: void(0);\",\r\n                    html: html,\r\n                    tabindex: \"-1\"\r\n                });\r\n            }\r\n            return button;\r\n        },\r\n        createActionLi = function () {\r\n            return createElement(\"li\", {\r\n                class: prefix + \"dropdown-list-item\",\r\n                role: \"none presentation\",\r\n                tabindex: \"0\"\r\n            });\r\n        },\r\n        renderActions = function(flexGrow, justifyContent) {\r\n            var topCtnr;\r\n            if (options.select) {\r\n                topCtnr = \"<div class='\" + prefix + \"table-cmplx-top-cntr \" + prefix + \"justify-content-\" + justifyContent +\"'\";\r\n                flexGrow ? topCtnr += \" style='flex-grow: \" + flexGrow + \";'>\" :  +\">\";\r\n                var cmplxAction = createElement(\"div\", {\r\n                    class: prefix + \"table-cmplx-action\"\r\n                });\r\n                var cmplxActionLabel = createElement(\"label\", {\r\n                    class: prefix + \"table-cmplx-action-label\",\r\n                    html: options.text.batchActions,\r\n                    for: batchId+\"BatchActions\"\r\n                });\r\n                cmplxAction.appendChild(cmplxActionLabel);\r\n\r\n                var cmplxActionDropdown = createElement(\"div\", {\r\n                    class: prefix + \"mb-0 \" + prefix + \"btn-dropdown\"\r\n                });\r\n                var anchor = createElement(\"button\", {\r\n                    id: batchId+\"BatchActions\",\r\n                    class: prefix + \"btn \" + prefix + \"btn-secondary \" + prefix + \"table-cmplx-action-button\" ,\r\n                    tabindex: \"0\",\r\n                    \"data-toggle\": prefix + \"dropdown\",\r\n                    \"data-target\": \"#cmplxTablesActions\",\r\n                    \"aria-expanded\": \"false\",\r\n                    \"aria-controls\": \"cmplxTablesActions\",\r\n                    html: options.text.chooseActions\r\n                });\r\n                \r\n                var svgElem = renderSvg([{name:\"arrow-tri-solid-right\", show:true}]);\r\n                var svgClass= svgElem.getAttribute(\"class\");\r\n                svgElem.setAttribute(\"class\", svgClass + \" \" + prefix + \"arrow-tri-solid-right\");\r\n                anchor.appendChild(svgElem);\r\n                cmplxActionDropdown.appendChild(anchor);\r\n\r\n                var unordered = createElement(\"ul\", {\r\n                    id: \"cmplxTablesActions\",\r\n                    class: prefix + \"button-dropdown-container \" + prefix + \"collapse\",\r\n                    role: \"menu\"\r\n                });\r\n\r\n                each(options.actionsSelectFilters, function(action) {\r\n                    if (\"hr\" === action) {\r\n                        unordered.appendChild(createElement(action,{class: prefix+\"dropdown-divider\"}));\r\n                    } else {\r\n                        var actionLI = createActionLi();\r\n                        var actionLabel;\r\n                        if (typeof action === \"string\") {\r\n                            if (action === options.text.exportCsv) { \r\n                                actionLabel = createActionButton(action, null, \"dds__modal\", \"#\"+prefix+\"csvSpecialChars\");\r\n                            } else {\r\n                                actionLabel = createActionButton(action);\r\n                            }\r\n                        } else {\r\n                            actionLabel = createActionButton(action.html, action.js);\r\n                        }\r\n                        actionLI.appendChild(actionLabel);\r\n                        unordered.appendChild(actionLI);\r\n                    }\r\n                });\r\n                \r\n                anchor.setAttribute(\"disabled\",\"\");\r\n\r\n                cmplxActionDropdown.appendChild(unordered);\r\n                cmplxAction.appendChild(cmplxActionDropdown);\r\n\r\n                topCtnr += cmplxAction.outerHTML + \"</div>\";\r\n            } else {\r\n                topCtnr = \"<div class='\" + prefix + \"table-cmplx-top-cntr'></div>\";\r\n            }\r\n\r\n            return topCtnr;\r\n        },\r\n        renderSearch = function(flexGrow, justifyContent) {\r\n            var topCtnr;\r\n            if (options.search) {\r\n                topCtnr = \"<div class='\" + prefix + \"table-cmplx-top-cntr \" + prefix + \"justify-content-\" + justifyContent +\"'\";\r\n                flexGrow ? topCtnr += \" style='flex-grow: \" + flexGrow + \";'>\" :  +\">\";\r\n                var inputGroup = createElement(\"div\", {\r\n                    class: prefix + \"table-cmplx-input-group\"\r\n                });\r\n                var searchCtnr = createElement(\"div\", {\r\n                    class: prefix + \"table-cmplx-search\"\r\n                });\r\n                var searchIcon = renderSvg([{name:\"search\", show:true}]);\r\n                var searchInput = createElement(\"input\", {\r\n                    type: \"search\",\r\n                    class: prefix + \"form-control \",\r\n                    \"aria-label\": \"search\"\r\n                });\r\n                if (options.search && options.text.search.placeholder) {\r\n                    searchInput.setAttribute(\"placeholder\", options.text.search.placeholder);\r\n                }\r\n                searchCtnr.appendChild(searchInput);\r\n                searchCtnr.appendChild(searchIcon);\r\n                if (options.search && options.text.search.label) {\r\n                    var searchLabel = createElement(\"label\", {\r\n                        for: searchId + \"Search\",\r\n                        html: options.text.search.label\r\n                    });\r\n                    searchInput.setAttribute(\"id\",searchId+\"Search\");\r\n                    inputGroup.appendChild(searchLabel);\r\n                    inputGroup.appendChild(searchCtnr);\r\n                    topCtnr += inputGroup.outerHTML + \"</div>\";\r\n                } else {\r\n                    topCtnr += searchCtnr.outerHTML + \"</div>\";\r\n                }\r\n            } else {\r\n                topCtnr = \"<div class='\" + prefix + \"table-cmplx-top-cntr'></div>\";\r\n            }\r\n\r\n            return topCtnr;\r\n        },\r\n        renderSettings = function(flexGrow, justifyContent) {\r\n            var topCtnr;\r\n            if (options.settings) {\r\n                topCtnr = \"<div class='\" + prefix + \"table-cmplx-top-cntr \" + prefix + \"justify-content-\" + justifyContent +\"'\";\r\n                flexGrow ? topCtnr += \" style='flex-grow: \" + flexGrow + \";'>\" :  +\">\";\r\n                var optGear = \"<div class='\" + prefix + \"table-cmplx-settings'>\";\r\n                \r\n                if (options.import) {\r\n                    optGear += \"<button class='\"+prefix+\"table-cmplx-settings-button dds__text-truncate' aria-label='table settings import'>\";\r\n                    var svgElem = renderSvg([{name:\"import-alt\", show:true}]);\r\n                    optGear += svgElem.outerHTML || new XMLSerializer().serializeToString(svgElem);\r\n                    optGear += \" \" + options.text.import +\"</button>\";\r\n                    optGear += \"<input class='dds__table-cmplx-file-import' type='file' hidden accept='\" + options.allowedImportExtensions + \"'/>\";\r\n                }\r\n                if (options.print) {\r\n                    optGear += \"<button class='\"+prefix+\"table-cmplx-settings-button dds__text-truncate' aria-label='table settings print'>\";\r\n                    svgElem = renderSvg([{name:\"printer\", show:true}]);\r\n                    optGear += svgElem.outerHTML || new XMLSerializer().serializeToString(svgElem);\r\n                    optGear += \" \" + options.text.print +\"</button>\";\r\n                }\r\n                if (options.column) {\r\n                    optGear += \"<button class='\"+prefix+\"table-cmplx-settings-button dds__text-truncate' aria-label='table settings columns'>\";\r\n                    svgElem = renderSvg([{name:\"gear\", show:true}]);\r\n                    optGear += svgElem.outerHTML || new XMLSerializer().serializeToString(svgElem);\r\n                    optGear += \" \" + options.text.columns +\"</button>\";\r\n                }\r\n                \r\n                optGear += columnBox = \"<div class=\\\"\" + prefix + \"column-box\";\r\n                optGear += \"\\\" data-toggle=\\\"data-column-box\\\"></div>\";\r\n                optGear += \"</div>\";\r\n                topCtnr += optGear + \"</div>\";\r\n            } else {\r\n                topCtnr = \"<div class='\" + prefix + \"table-cmplx-top-cntr'></div>\";\r\n            }\r\n\r\n            return topCtnr;\r\n        },\r\n        renderPlaceholder = function (flexGrow) {\r\n            return \"<div class='\" + prefix + \"table-cmplx-top-cntr \" + prefix + \"table-cmplx-placeholder' style='flex-grow: \" + flexGrow + \";'></div>\";\r\n        },\r\n        render = function() {\r\n \r\n            var template = \"\";\r\n\r\n            // Convert data to HTML\r\n            if (options.data) {\r\n                dataToTable(options.data);\r\n            }\r\n\r\n            body = table.tBodies[0];\r\n            head = table.tHead;\r\n    \r\n            // Should move this to dataToTable method\r\n            if (!body) {\r\n                body = createElement(\"tbody\");\r\n                table.appendChild(body);\r\n            }\r\n    \r\n\r\n            table.hasRows = body.rows.length > 0;\r\n    \r\n            // Make a tHead if there isn't one (fixes #8)\r\n            // Should move this to dataToTable method\r\n            if (!head) {\r\n                var h = createElement(\"thead\");\r\n                var t = createElement(\"tr\");\r\n    \r\n                if (table.hasRows) {\r\n                    each(body.rows[0].cells, function () {\r\n                        t.appendChild(createElement(\"th\"));\r\n                    });\r\n    \r\n                    h.appendChild(t);\r\n                }\r\n    \r\n                head = h;\r\n    \r\n                table.insertBefore(head, body);\r\n            }\r\n    \r\n            table.hasHeadings = head.rows.length > 0;\r\n    \r\n            if (table.hasHeadings) {\r\n                header = head.rows[0];\r\n                table.headings = [].slice.call(header.cells);\r\n            }\r\n    \r\n            // Header\r\n            if (!options.header) {\r\n                if (head) {\r\n                    table.removeChild(table.tHead);\r\n                }\r\n            }\r\n    \r\n            // Build\r\n            wrapper = createElement(\"div\", {\r\n                class: prefix + \"table-cmplx-wrapper\"\r\n            });\r\n    \r\n            //////////////////////////////////////////////////////\r\n            // Top template - Begin\r\n            //////////////////////////////////////////////////////\r\n   \r\n            if (options.layout.row1) {\r\n                template += renderCustomRow(options.layout.row1);\r\n            }\r\n\r\n            if (options.layout.row2) {\r\n                template += renderCustomRow(options.layout.row2);\r\n            }\r\n\r\n            //////////////////////////////////////////////////////\r\n            // Top template - End\r\n            //////////////////////////////////////////////////////\r\n\r\n            template += \"<div class='\" + prefix + \"table-cmplx-container'></div>\";\r\n            \r\n            //////////////////////////////////////////////////////\r\n            // Bottom template - Begin\r\n            //////////////////////////////////////////////////////\r\n\r\n            template += \"<div class='\" + prefix + \"table-cmplx-bottom'>\";\r\n            template += \"</div>\";\r\n    \r\n            //////////////////////////////////////////////////////\r\n            // Bottom template - End\r\n            //////////////////////////////////////////////////////\r\n\r\n            if (table.hasHeadings) {\r\n                // Sortable\r\n                renderHeader();\r\n            }\r\n    \r\n            // Add table class\r\n            table.classList.add(prefix + \"table-cmplx\");\r\n            \r\n            wrapper.innerHTML = template;\r\n    \r\n            container = wrapper.querySelector(\".\" + prefix + \"table-cmplx-container\");\r\n\r\n            bottom = wrapper.querySelector(\".\" + prefix + \"table-cmplx-bottom\");\r\n    \r\n            // Pagination\r\n            options.pagination = getSibling(element, \".dds__pagination\") ? true : false;\r\n            if (options.pagination) {\r\n                paginationElement = getSibling(element, \".dds__pagination\");\r\n                bottom.appendChild(paginationElement);\r\n            }\r\n\r\n            columnBox = wrapper.querySelector(\"[data-toggle='data-column-box']\");\r\n    \r\n            // Insert in to DOM tree\r\n            table.parentNode.replaceChild(wrapper, table);\r\n            container.appendChild(table);\r\n    \r\n            // Store the table dimensions\r\n            rect = table.getBoundingClientRect();\r\n    \r\n            // Convert rows to array for processing\r\n            table.data = [];\r\n            table.activeRows = [];\r\n\r\n            var dataIdx = 0;\r\n            each(body.rows, function(row, idx) {\r\n                if (options.expand) {\r\n                    if (idx % 2 == 0) {\r\n                        row.dataIndex = dataIdx++;\r\n                        table.activeRows.push(row);\r\n                        table.data.push(row);\r\n                    }\r\n                } else {\r\n                    row.dataIndex = idx;\r\n                    table.activeRows.push(row);\r\n                    table.data.push(row);\r\n                }\r\n            }, true);\r\n\r\n            table.activeHeadings = table.headings.slice();\r\n\r\n            // Update\r\n            self.update();\r\n    \r\n            // Set Columns\r\n            setColumns();\r\n\r\n            // Fix columns, think this is the only valid call for fixColumns\r\n            fixColumns();\r\n\r\n            // Options condensed\r\n            if (options.condensed) {\r\n                wrapper.querySelector(\".\" + prefix + \"table-cmplx\").classList.add(prefix + \"condensed\");\r\n            }\r\n            \r\n            // This needs to run after the options.condensed\r\n            if (options.fixedHeight) {\r\n                if (options.origPerPage > table.activeRows.length) {\r\n                    metHeight = false;\r\n                } else {\r\n                    // Fix height\r\n                    fixHeight();\r\n                }\r\n            }\r\n    \r\n            bindEvents();\r\n        },\r\n        renderPage = function () {\r\n            if (options.search && searching === true && table.searchData.length === 0) return;\r\n            if (table.hasRows && totalPages) {\r\n    \r\n                // Use a fragment to limit touching the DOM\r\n                var index = currentPage - 1,\r\n                    frag = DOC.createDocumentFragment();\r\n    \r\n                var page = pages[index];\r\n                var selectHeader;\r\n                var selectCellIdx;\r\n                \r\n                if (table.hasHeadings) {\r\n                    flush(header, isIE);\r\n                    \r\n                    each(table.activeHeadings, function (th) {\r\n                        if (options.select) {\r\n                            each(th.children, function(el) {\r\n                                if (el && el.classList.contains(prefix + \"table-cmplx-select-all\")) {\r\n                                    selectHeader = el;\r\n                                    selectCellIdx = th.originalCellIndex;\r\n                                    if(page.selected) {\r\n                                        selectHeader.checked = true;\r\n                                        selectHeader.state = \"checked\"; // set the state\r\n                                    } else {\r\n                                        selectHeader.checked = false;\r\n                                        selectHeader.state = \"unchecked\"; // set the state\r\n                                    }\r\n                                } \r\n                            });\r\n                        }\r\n                        // reest sortable columns\r\n                        if (th.hasAttribute(\"data-sortable\") && th.originalCellIndex != sortedColumnIdx) {\r\n                            th.setAttribute(\"aria-sort\", \"none\");\r\n                        }\r\n                        header.appendChild(th);\r\n                    }, this);\r\n                }\r\n                \r\n                var selectedRows = 0;\r\n                each(page, function (row, idx) {\r\n                    //row.className = \"\";\r\n                    row.removeAttribute(\"class\");\r\n                    var selected = false;\r\n                    // redo if previously selected\r\n                    if (options.select) {\r\n                        if(table.data[row.dataIndex].cells[selectCellIdx].querySelector(\"input[type='checkbox']\").checked) {\r\n                            row.classList.add(\"selected\");\r\n                            selected = true;\r\n                            selectedRows++;\r\n                            if (!selectHeader.checked) {\r\n                                selectHeader.indeterminate = true;\r\n                                selectHeader.state = \"indeterminate\"; // set the state\r\n                            }\r\n                        }\r\n                    }\r\n                    // redo if stripped table\r\n                    if (table.classList.contains(prefix + \"table-striped\")) {\r\n                        var stripeColor = idx % 2 > 0 ? prefix + \"table-cmplx-row-odd\" : prefix + \"table-cmplx-row-even\";\r\n                        row.classList.add(stripeColor);\r\n                    }\r\n                    frag.appendChild(rows().render(row));\r\n                    if(options.expand) {\r\n                        row.querySelector(\".\" + prefix + \"table-cmplx-accordion-btn\").classList.add(prefix + \"collapsed\");\r\n                        var detailsRow = renderDetails(row, table.headings.length, stripeColor, selected);\r\n                        detailsRow.children[0].classList.remove(prefix + \"show\");\r\n                        frag.appendChild(detailsRow);\r\n                    }\r\n                }, this);\r\n\r\n                if (options.select) {\r\n                    if (selectedRows === page.length) {\r\n                        selectHeader.indeterminate = false;\r\n                        selectHeader.checked = true;\r\n                        selectHeader.state = \"checked\";\r\n                    } else if (selectedRows === 0 && options.select) {\r\n                        selectHeader.indeterminate = false;\r\n                        selectHeader.checked = false;\r\n                        selectHeader.state = \"unchecked\";\r\n                    }\r\n                    handleSelectAllChange(selectHeader.state);\r\n                }\r\n                self.clear(frag);\r\n    \r\n            } else if (searching && totalPages == 0) {\r\n                if (table.hasHeadings) {\r\n                    flush(header, isIE);\r\n    \r\n                    each(table.activeHeadings, function (th) {\r\n                        header.appendChild(th);\r\n                    }, this);\r\n                }\r\n            } else {\r\n                self.clear();\r\n            }\r\n            if(!metHeight) {\r\n                fixHeight();\r\n            }\r\n        },\r\n        renderHeader = function () {\r\n    \r\n            labels = [];\r\n    \r\n            if (table.headings && table.headings.length) {\r\n\r\n                each(table.headings, function (th, i) {\r\n    \r\n                    labels[i] = th.textContent;\r\n    \r\n                    th.sortable = th.hasAttribute(\"data-sortable\");\r\n    \r\n                    th.originalCellIndex = i;\r\n                    if (options.sort && th.sortable) {\r\n                        var sortLabel = createElement(\"label\", {\r\n                            class: prefix + \"table-cmplx-sorter\",\r\n                            html: th.textContent\r\n                        });\r\n                        th.textContent = \"\";\r\n                        th.setAttribute(\"tabindex\",\"0\");\r\n                        th.appendChild(sortLabel);\r\n                    }\r\n                });\r\n            }\r\n    \r\n            fixColumns();\r\n        },\r\n        getHeaderCellIndex = function(selector) {\r\n            var cellIdx = 0;\r\n            each(table.activeHeadings, function(header) {\r\n                each(header.children, function(el) {\r\n                    if (el.classList.contains(selector)) {\r\n                        cellIdx = header.originalCellIndex;\r\n                    }\r\n                });\r\n            });\r\n            return cellIdx;\r\n        },\r\n        bindEvents = function () {\r\n\r\n            // Batch Actions\r\n            if (options.select) {\r\n                var actionSelect = wrapper.querySelector(\"#cmplxTablesActions\");\r\n                actionSelect.addEventListener(\"keydown\", function(e) {\r\n                    if (e.keyCode == 13) {\r\n                        e.preventDefault();\r\n                        var actionButton = e.target.querySelector(\"button\");\r\n                        if (actionButton.innerHTML ===  options.text.deleteRow) {\r\n                            handleDeleteActionEvent();\r\n                        } else if (actionButton.innerHTML === options.text.exportCsv ) {\r\n                            createSpecialCharModal();\r\n                        } else if (actionButton.innerHTML === options.text.exportJson) {\r\n                            handleExportActionEvent(e.target);\r\n                        }\r\n                    }\r\n                });\r\n                actionSelect.addEventListener(\"mousedown\", function(e) {\r\n                    e.preventDefault();\r\n                    var actionButton = e.target;\r\n                    if (actionButton.innerHTML ===  options.text.deleteRow) {\r\n                        handleDeleteActionEvent();\r\n                    } else if (actionButton.innerHTML === options.text.exportCsv ) {\r\n                        createSpecialCharModal();\r\n                    } else if (actionButton.innerHTML === options.text.exportJson) {\r\n                        handleExportActionEvent(e.target);\r\n                    }\r\n                });\r\n            } \r\n\r\n            // Search\r\n            if (options.search) {\r\n                input = wrapper.querySelector(\".\" + prefix + \"table-cmplx-search\").querySelector(\"input[type=search]\");\r\n                if (input) {\r\n                    input.addEventListener(\"keyup\",function (e) {\r\n                        if (e.keyCode === 9 || e.keyCode === 16 || e.keyCode === 13) return;\r\n                        self.search(input.value);\r\n                        e.preventDefault();\r\n                    }, false);\r\n                    input.addEventListener(\"mouseup\", function (e) {\r\n                        var origInput = input.value;\r\n                        setTimeout ( function() {\r\n                            if (input.value == \"\" && origInput != \"\") { //the 'x' was pressed and removed the orig query string\r\n                                self.search(input.value);\r\n                            }\r\n                        }, 100);\r\n                        e.preventDefault();\r\n                    }, false);\r\n                }\r\n            }\r\n    \r\n            // Settings\r\n            if (options.settings) {\r\n                var settingsCtnr = wrapper.querySelector(\".\" + prefix + \"table-cmplx-settings\");\r\n                if (options.column) {\r\n                    var button = settingsCtnr.querySelector(\"button[aria-label='table settings columns']\");\r\n                    button.addEventListener(\"click\", function(e) {\r\n                        if(columnBox.classList.contains(prefix + \"show\")) {\r\n                            columnBox.classList.remove(prefix + \"show\");\r\n                        } else {\r\n                            renderSettingsDropDown();\r\n                            columnBox.classList.add(prefix + \"show\");\r\n                            columnBox.addEventListener(\"click\", function(e) {\r\n                                var t = e.target;\r\n                                if (t.nodeName.toLowerCase() === \"button\") {\r\n                                    handleButtonEvent(t);\r\n                                    settingsCtnr.querySelector(\"button[aria-label='table settings columns']\").focus();\r\n                                } else if(t.nodeName.toLowerCase() === \"input\") {\r\n                                    var applyButton = columnBox.querySelector(\".\"+prefix+\"btn-primary\");\r\n                                    if (applyButton.disabled) {\r\n                                        applyButton.removeAttribute(\"disabled\");\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                        e.preventDefault();\r\n                    }, false);\r\n                }\r\n                \r\n                if (options.print) {\r\n                    button = settingsCtnr.querySelector(\"button[aria-label='table settings print']\");\r\n                    button.addEventListener(\"click\", function(e) {\r\n                        self.print();\r\n                        e.preventDefault();\r\n                    }, false);\r\n                }\r\n\r\n                if (options.import) {\r\n                    var fileImport = settingsCtnr.querySelector(\".\"+prefix+\"table-cmplx-file-import\");\r\n                    fileImport.addEventListener(\"change\", handleImportActionEvent, false);\r\n                    \r\n                    button = settingsCtnr.querySelector(\"button[aria-label='table settings import']\");\r\n                    button.addEventListener(\"click\", function(e) {\r\n                        fileImport.click();\r\n                        e.preventDefault();\r\n                    }, false);\r\n                }\r\n            }        \r\n    \r\n            // All listeners with in the table are should use wrapper.\r\n            // Pager(s) / sorting\r\n            wrapper.addEventListener(\"keydown\" ,function (e) {\r\n                var t = e.target;\r\n                // Checks for headers\r\n                if (t.nodeName.toLowerCase() === \"th\" && e.keyCode === 13) { \r\n                    handleTableHeaderEvent(e,t);\r\n                }\r\n                // Checks for buttons\r\n                if (t.nodeName.toLowerCase() === \"button\" && e.keyCode === 13 && t.classList.contains(prefix+\"table-cmplx-accordion-btn\")) {\r\n                    handleAccordionEvent(t);\r\n                    e.preventDefault();\r\n                }\r\n            }, false);\r\n\r\n            wrapper.addEventListener(\"click\" ,function (e) {\r\n                var t = e.target;\r\n                // Checks for headers\r\n                if (t.classList.contains(prefix+\"table-cmplx-sorter\")) { \r\n                    handleTableHeaderEvent(e,t.parentNode); \r\n                }\r\n                // Checks for buttons\r\n                if (t.nodeName.toLowerCase() === \"button\") {\r\n                    handleAccordionEvent(t);\r\n                    e.preventDefault();\r\n                }\r\n                // Checks for inputs\r\n                if (t.nodeName.toLowerCase() === \"input\") {\r\n                    if(t.type === \"checkbox\") {\r\n                        handleCheckBoxEvent(t);\r\n                    }\r\n                }\r\n            }, false);\r\n        },\r\n        setColumns = function () {\r\n            each(table.data, function (row) {\r\n                each(row.cells, function (cell) {\r\n                    cell.data = cell.innerHTML;\r\n                });\r\n            });\r\n           \r\n            // Check for the columns option\r\n            if (options.data.columns && table.headings.length) {\r\n    \r\n                each(options.data.columns, function (data) {\r\n                   \r\n                    // convert single column selection to array\r\n                    if (!isArray(data.select)) {\r\n                        data.select = [data.select];\r\n                    }\r\n    \r\n                    if (Object.prototype.hasOwnProperty.call(data, \"render\") && (typeof data.render === \"function\" || (typeof data.render === \"string\" && window[data.render]))) {\r\n                        var nCIdx = parseInt(data.select)+baseCellIdx();\r\n                        selectedColumns = selectedColumns.concat(nCIdx);\r\n    \r\n                        columnRenderers.push({\r\n                            columns: nCIdx,\r\n                            renderer: window[data.render]\r\n                        });\r\n                    }\r\n                   \r\n                    // Add the data attributes to the th elements\r\n                    each(data.select, function (column) {\r\n                        var th = table.headings[baseCellIdx()+column];\r\n                        if (data.type) {\r\n                            th.setAttribute(\"data-type\", data.type);\r\n                        }\r\n                        if (data.format) {\r\n                            th.setAttribute(\"data-format\", data.format);\r\n                        }\r\n                        if (options.sort) {\r\n                            if (Object.prototype.hasOwnProperty.call(data, \"sortable\") && data.sortable) {\r\n                                th.setAttribute(\"data-sortable\", \"\");\r\n                                th.setAttribute(\"aria-sort\",\"none\");\r\n                            }\r\n                            if (Object.prototype.hasOwnProperty.call(data, \"sort\")) {\r\n                                th.setAttribute(\"data-sortable\", \"\");\r\n                                th.setAttribute(\"aria-sort\",\"none\");\r\n                            }\r\n                        }\r\n                        if (Object.prototype.hasOwnProperty.call(data, \"fixed\")) {\r\n                            th.setAttribute(\"data-fixed\", data.fixed);\r\n                        }\r\n                        if (Object.prototype.hasOwnProperty.call(data, \"control\")) {\r\n                            th.setAttribute(\"data-control\", data.control);\r\n                        }\r\n                        if (Object.prototype.hasOwnProperty.call(data, \"hidden\")) {\r\n                            if (data.hidden) {\r\n                                columns().hide([baseCellIdx()+column]);\r\n                                self.update();\r\n                            }\r\n                        }\r\n                        if (Object.prototype.hasOwnProperty.call(data, \"sort\") && data.select.length ==1 ) {\r\n                            sortedColumnIdx = baseCellIdx()+data.select[0];\r\n                            columns().sort(sortedColumnIdx, data.sort);\r\n                            self.update();\r\n                            uicoreCustomEvent(\"Table\", \"SortEvent\", table, { \"column\" : sortedColumnIdx, \"direction\" : (data.sort === \"asc\" ? \"ascending\":\"descending\"), \"currentPage\": currentPage, \"perPage\": options.perPage });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n    \r\n            if (table.hasRows) {\r\n                each(table.data, function (row, idx) {\r\n                    row.dataIndex = idx;\r\n                    each(row.cells, function (cell) {\r\n                        cell.data = cell.innerHTML;\r\n                    });\r\n                });\r\n    \r\n                setRenderColumns();\r\n                columns().rebuild();\r\n                self.update();\r\n            }\r\n\r\n            renderHeader();\r\n            \r\n        },\r\n        renderSettingsDropDown = function() {\r\n\r\n            flush(columnBox, isIE);\r\n            var columnContainer = createElement(\"div\", {\r\n                class: prefix + \"table-cmplx-column-cntr\"\r\n            });\r\n\r\n            var unOderedList = createElement(\"ul\");\r\n        \r\n            each(table.headings, function(header, idx) {\r\n\r\n                if (idx >= baseCellIdx() && !header.dataset[\"fixed\"] && (options.rearrangeableColumns || header.dataset[\"control\"] !== \"false\")) {\r\n                    var listItem;\r\n                    var dragSvg;\r\n                    if (options.rearrangeableColumns) {\r\n                        listItem = createElement(\"li\", {\r\n                            class: prefix + \"table-cmplx-drag-li\",\r\n                            draggable: true\r\n                        });\r\n                        dragSvg = renderSvg([{name:\"handle\", show:true}]);\r\n                        setupDragEvents(listItem);\r\n                        moveableCols.push(listItem);\r\n                    } else {\r\n                        listItem = createElement(\"li\", {\r\n                            class: prefix + \"table-cmplx-li\"\r\n                        });\r\n                    }\r\n                    var columnLabel = createElement(\"label\",{ \r\n                        for: idx,\r\n                        class: prefix + \"text-truncate\"\r\n                    });\r\n                    var boxLabel = createElement(\"span\");\r\n                    if (header.dataset[\"control\"] !== \"false\") {\r\n                        var columnInput = createElement(\"input\",{   id: idx,\r\n                            type: \"checkbox\"\r\n                        });\r\n                        columnInput.checked = columns().visible(idx);\r\n                        columnLabel.appendChild(columnInput);\r\n                    } else {\r\n                        boxLabel.style.marginLeft = \"1.75rem\";\r\n                    }\r\n                    boxLabel.innerHTML = header.textContent;\r\n                    columnLabel.appendChild(boxLabel);\r\n                    if(dragSvg) {\r\n                        listItem.appendChild(dragSvg);\r\n                    }\r\n                    listItem.appendChild(columnLabel);\r\n                    unOderedList.appendChild(listItem);\r\n                    columnContainer.appendChild(unOderedList);\r\n                }\r\n            });\r\n            if (columnContainer.querySelectorAll(\"ul\").length === 0) {\r\n                var emptySpan = createElement(\"span\", {\r\n                    class: prefix + \"text-wrap\",\r\n                    html: \"Cannot rearrange or turn columns on/off.\"\r\n                });\r\n                columnContainer.appendChild(emptySpan);\r\n            }\r\n            var buttonContainer = createElement(\"div\", {\r\n                class: prefix + \"row \" + prefix + \"no-gutters\"\r\n            });\r\n            var cancelButton = createElement(\"button\", {\r\n                class: prefix + \"btn \" + prefix + \"btn-secondary\",\r\n                html: options.text.cancel\r\n            });\r\n            var applyButton = createElement(\"button\", {\r\n                class: prefix + \"btn \" + prefix + \"btn-primary\",\r\n                html: options.text.apply,\r\n                disabled: \"\"\r\n            });\r\n            buttonContainer.appendChild(cancelButton);\r\n            buttonContainer.appendChild(applyButton);\r\n            columnContainer.appendChild(buttonContainer);\r\n            columnBox.appendChild(columnContainer);\r\n        },\r\n        paginate = function() {\r\n\r\n            var perPage = options.perPage,\r\n                rows = table.activeRows;\r\n                \r\n            if (searching) {\r\n                rows = [];\r\n    \r\n                each(table.searchData, function (index) {\r\n                    rows.push(table.activeRows[index]);\r\n                }, this);\r\n            }\r\n    \r\n            // Check for hidden columns\r\n            pages = rows\r\n                .map(function (tr, i) {\r\n                    return i % perPage === 0 ? rows.slice(i, i + perPage) : null;\r\n                })\r\n                .filter(function (page) {\r\n                    return page;\r\n                });\r\n    \r\n            totalPages = pages.length;\r\n        },\r\n        fixColumns = function () {\r\n            rect = table.getBoundingClientRect();\r\n            if (   options.fixedColumns \r\n                && table.activeHeadings \r\n                && table.activeHeadings.length\r\n                && !columnsFixed) {\r\n                var cells,\r\n                    hd = false,\r\n                    reducePx = 0;\r\n    \r\n                // If we have headings we need only set the widths on them\r\n                // otherwise we need a temp header and the widths need applying to all cells\r\n                if (table.tHead) {\r\n                    each(table.activeHeadings, function (cell) {\r\n                        cell.style.maxWidth = \"\";\r\n                        cell.style.width = \"\";\r\n                    });\r\n                    var expandDone, selectDone = false;\r\n                    each(table.activeHeadings, function (cell, i) {\r\n                        if ((i==0) && options.expand && !expandDone){\r\n                            expandDone = true;\r\n                            cell.style.maxWidth = \"20px\";\r\n                            cell.style.width = \"20px\";\r\n                            reducePx += 20;\r\n                        }\r\n                        else if ((i==0||i==1) && options.select && !selectDone){\r\n                            selectDone = true;\r\n                            cell.style.maxWidth = \"20px\";\r\n                            cell.style.width = \"20px\";\r\n                            reducePx += 20;\r\n                        }\r\n                        else {\r\n                            var ow = cell.offsetWidth;\r\n                            var w = ow / (rect.width - reducePx) * 100;\r\n                            cell.style.width = w + \"%\";\r\n                        }\r\n                    });\r\n                } else {\r\n                    cells = [];\r\n    \r\n                    // Make temperary headings\r\n                    hd = createElement(\"thead\");\r\n                    var r = createElement(\"tr\");\r\n                    each(table.tBodies[0].rows[0].cells, function() {\r\n                        var th = createElement(\"th\");\r\n                        r.appendChild(th);\r\n                        cells.push(th);\r\n                    });\r\n    \r\n                    hd.appendChild(r);\r\n                    table.insertBefore(hd, body);\r\n    \r\n                    var widths = [];\r\n                    each(cells, function (cell, i) {\r\n                        if ((i==0) && options.expand){\r\n                            reducePx += 20;\r\n                        }\r\n                        else if((i==0||i==1) && options.select){\r\n                            reducePx += 20;\r\n                        } \r\n                        else {\r\n                            var ow = cell.offsetWidth;\r\n                            var w = ow / (rect.width - reducePx) * 100;\r\n                            widths.push(w);\r\n                        }\r\n                    }, this);\r\n    \r\n                    each(table.data, function (row) {\r\n                        each(row.cells, function (cell, i) {\r\n                            if((i==0) && options.expand){\r\n                                cell.style.width = \"20px\";\r\n                            }\r\n                            else if ((i==0||i==1) && options.select){\r\n                                cell.style.width = \"20px\";\r\n                            }\r\n                            else if (columns().visible(baseCellIdx()+cell.cellIndex))\r\n                                cell.style.width = widths[i] + \"%\";\r\n                        }, this);\r\n                    }, this);\r\n    \r\n                    // Discard the temp header\r\n                    table.removeChild(hd);\r\n                }\r\n                columnsFixed = true;\r\n            }\r\n        },\r\n        fixHeight = function () { \r\n            if (options.fixedHeight) {\r\n                container.style.height = null;\r\n                rect = container.getBoundingClientRect();\r\n                container.style.height = rect.height + \"px\";\r\n            }\r\n            metHeight = options.origPerPage <= table.activeRows.length && options.perPage == options.origPerPage;\r\n        },\r\n        resetCollapse = function() {\r\n            each(table.activeRows, function(row) {\r\n                var button = row.querySelector(\".\"+ prefix + \"table-cmplx-accordion-btn\");\r\n                if(button && !button.classList.contains(prefix + \"collapsed\")) {\r\n                    button.classList.add(prefix + \"collapsed\");\r\n                }\r\n            });\r\n        },\r\n        insert = function (data) {\r\n            var newrows = [];\r\n            if (isObject(data)) {\r\n                if (data.headings) {\r\n                    if (!table.hasHeadings && !table.hasRows) {\r\n                        var tr = createElement(\"tr\"),\r\n                            th;\r\n                        each(data.headings, function (heading) {\r\n                            th = createElement(\"th\", {\r\n                                html: heading\r\n                            });\r\n\r\n                            tr.appendChild(th);\r\n                        });\r\n                        head.appendChild(tr);\r\n\r\n                        header = tr;\r\n                        table.headings = [].slice.call(header.cells);\r\n                        table.hasHeadings = true;\r\n\r\n                        // Re-enable sorting if it was disabled due\r\n                        // to missing header\r\n                        // options.sort = initialSortable;\r\n                    }\r\n                }\r\n\r\n                if (data.rows && isArray(data.rows)) {\r\n                    each(data.rows, function (row, rowIdx) {\r\n                        var headerCount = [];\r\n                        for (var l = 0; l < labels.length; l++) {\r\n                            headerCount.push(l);\r\n                        }\r\n                        var padR = 0,\r\n                            r = [];\r\n                        if (options.expand) {\r\n                            r[0] = renderExpand().outerHTML;\r\n                            padR++;\r\n                            delete headerCount[0];\r\n                        }\r\n                        if (options.select) {\r\n                            var selectData = renderSelect().outerHTML;\r\n                            if (options.expand) {\r\n                                r[1] = selectData;\r\n                                padR++;\r\n                                delete headerCount[1];\r\n                            } else {\r\n                                r[0] = selectData;\r\n                                padR++;\r\n                            }\r\n                        }\r\n                        each(row, function (cell, idx) {\r\n                            var index;\r\n                            if(data.headings) {\r\n                                index = labels.indexOf(data.headings[idx]);\r\n                                delete headerCount[index];\r\n                            } else {\r\n                                index = idx;\r\n                            }\r\n                            \r\n                            if (index > -1) {\r\n                                r[index] = cell;\r\n                            }\r\n                        });\r\n                        for (var z = 0; z < headerCount.length; z++) {\r\n                            if (headerCount[z]) {\r\n                                r[headerCount[z]] = \"\";\r\n                            }\r\n                        }\r\n                        if (r.length == (data.headings ? labels.length : (padR + labels.length))) {\r\n                            newrows.push(r);\r\n                        } else {\r\n                            var msg = \"Row found at index, [ \"+rowIdx+\" ] that did not match the current headers.\";\r\n                            console.error(msg);\r\n                            uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (newrows.length) {\r\n                if(data.details) {\r\n                    rows().add(newrows, data.details);\r\n                } else {\r\n                    rows().add(newrows);\r\n                }\r\n                columns().rebuild();\r\n                if(searching) {\r\n                    var query = wrapper.querySelector(\"input[type='search']\").value;\r\n                    self.search(query);\r\n                }\r\n                table.hasRows = true;\r\n            }\r\n\r\n            fixColumns();\r\n            setRenderColumns();\r\n            columns().rebuild();\r\n            self.update();\r\n\r\n            if (!metHeight) {\r\n                fixHeight();\r\n            }\r\n        },\r\n        createSpecialCharModal = function(){\r\n            var modal = document.getElementById(prefix +\"csvSpecialChars\");\r\n            if (!modal) {\r\n                var modalEl = createElement(\"div\", {\r\n                    class: prefix + \"modal \" + prefix + \"fade\",\r\n                    role: \"dialog\",\r\n                    aria_labelledby: prefix + \"modal-title\",\r\n                    id: prefix+\"csvSpecialChars\",\r\n                    tabindex: \"-1\",\r\n                    html: \"<div class=\\\"dds__modal-dialog\\\" role=\\\"document\\\"><div class=\\\"dds__modal-content\\\"><div class=\\\"dds__modal-header\\\">\" +\r\n                        \"<h3 class=\\\"dds__modal-title\\\" id=\\\"dds__modal-title1\\\">CSV with Special Characters</h3></div><button class=\\\"dds__close\\\" data-dismiss=\\\"dds__modal\\\" aria-label=\\\"Close\\\"><span class=\\\"dds__icons dds__close-x\\\" aria-hidden=\\\"true\\\"></span></button>\" +\r\n                        \"<div class=\\\"dds__modal-body\\\"><p>If you are exporting table data that includes special characters, then you may need to use the following process to see these within Excel:</p><ol class=\\\"dds__list-group\\\">\" +\r\n                            \"<li class=\\\"dds__list-group-item-ordered\\\">Open <strong>Excel.</strong></li>\" +\r\n                            \"<li class=\\\"dds__list-group-item-ordered\\\">Open the <strong>Data menu.</strong></li>\" +\r\n                            \"<li class=\\\"dds__list-group-item-ordered\\\">Select the option <strong>From Text/CSV.</strong></li>\" +\r\n                            \"<li class=\\\"dds__list-group-item-ordered\\\">Select the <strong>CSV file.</strong> This should open an import dialog.</li>\"+\r\n                            \"<li class=\\\"dds__list-group-item-ordered\\\">Go to <strong>File Origin </strong> menu and choose the Unicode (UTF-8) options.</li>\" +\r\n                            \"<li class=\\\"dds__list-group-item-ordered\\\"><strong>Load</strong> the file to complete the process.</li>\" +\r\n                        \"</ol>\" +\r\n                        \"</div>\" +\r\n                        \"<div class=\\\"dds__modal-footer\\\">\" +\r\n                            \"<button class=\\\"dds__btn dds__btn-secondary\\\" data-dismiss=\\\"dds__modal\\\">Cancel</button>\" +\r\n                            \"<button class=\\\"dds__btn dds__btn-primary\\\">Continue Export</button>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\"\r\n                });\r\n                wrapper.appendChild(modalEl);\r\n                var batchActions = wrapper.querySelector(\".\"+prefix+\"table-cmplx-action .\" + prefix + \"btn-dropdown\");\r\n                var csvBtn = batchActions.querySelector(\"[data-target='#\"+prefix+\"csvSpecialChars']\");\r\n                setTimeout(function() {\r\n                    var csvModal = new Modal(csvBtn, {\r\n                        static: false\r\n                    });\r\n                    csvModal.show();\r\n                    modal = document.getElementById(prefix +\"csvSpecialChars\");\r\n                    var continueBtn = modal.querySelector(\".\" +prefix +\"btn-primary\");\r\n                    continueBtn.addEventListener(\"click\", function() {\r\n                        handleExportActionEvent(csvBtn);\r\n                    });\r\n                }, 200);\r\n            }\r\n        },\r\n        isUrl = function (value) {\r\n            return value.match(/(?:(?:https?|ftp):\\/\\/|\\b(?:[a-z\\d]+\\.))(?:(?:[^\\s()<>]+|\\((?:[^\\s()<>]+|(?:\\([^\\s()<>]+\\)))?\\))+(?:\\((?:[^\\s()<>]+|(?:\\(?:[^\\s()<>]+\\)))?\\)|[^\\s`!()[\\]{};:'\".,<>?]))?/g);\r\n        },\r\n        isEmail = function(value) {\r\n            /* eslint-disable */ \r\n            return value.match(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\r\n            /* eslint-enable */ \r\n        },                                 \r\n        modifyText = function(text) {\r\n            text = text.trim();\r\n            text = text.replace(/\\s{2,}/g, \" \");\r\n            text = text.replace(/\\n/g, \"  \");\r\n            text = text.replace(/\"/g, \"\\\"\\\"\");\r\n            if (text.indexOf(\",\") > -1) text = \"\\\"\" + text + \"\\\"\";\r\n            return text;\r\n        };\r\n\r\n    if (!options.header) {\r\n        options.sort = false;\r\n    }\r\n\r\n    if (table.tHead === null) {\r\n        if (!options.data ||\r\n            (options.data && !options.data.headings)\r\n        ) {\r\n            options.sort = false;\r\n        }\r\n    }\r\n\r\n    if (table.tBodies.length && !table.tBodies[0].rows.length) {\r\n        if (options.data) {\r\n            if (!options.data.rows) {\r\n                throw new Error(\r\n                    \"You seem to be using the data option, but you've not defined any rows.\"\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Expand a row\r\n     * @param  {number} rowIdx\r\n     * @return {Void} \r\n     */\r\n    this.expandRow = function(rowIdx) {\r\n        var theRowIdx = validateNum(rowIdx, 0);\r\n\r\n        if (typeof theRowIdx === \"number\") {\r\n            var expandCell = table.activeRows[theRowIdx].querySelector(\".\" + prefix + \"table-cmplx-accordion-btn\");\r\n            handleAccordionEvent(expandCell);\r\n        }\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * Update the instance\r\n     * @return {Void}\r\n     */\r\n    this.update = function() {\r\n        // Remove class that was set from setMessage if applicable\r\n        if (!(options.search && searching && table.searchData.length == 0)) {\r\n            wrapper.classList.remove(prefix + \"table-cmplx-empty\");\r\n        }\r\n\r\n        paginate();\r\n\r\n        renderPage();\r\n\r\n        table.sorting = false;\r\n\r\n        rows().update();\r\n\r\n        if (table.hasRows) {\r\n            table.setAttribute(\"aria-rowcount\", table.activeRows.length);\r\n        } else {\r\n            table.setAttribute(\"aria-rowcount\", 0);\r\n        }\r\n\r\n        table.setAttribute(\"aria-colcount\", table.activeHeadings.length);\r\n\r\n        uicoreCustomEvent(\"Table\", \"UpdateEvent\", table);\r\n    };\r\n\r\n    /**\r\n     * Perform a search of the data set\r\n     * @param  {string} query\r\n     * @return {void}\r\n     */\r\n    this.search = function(query) {\r\n        if (!table.hasRows) return false;\r\n        \r\n        resetCollapse();\r\n        \r\n        query = query.toLowerCase();\r\n\r\n        searching = true;\r\n        table.searchData = [];\r\n\r\n        if (!query.length) {\r\n            searching = false;\r\n            if (currentPage != 1) { //if not already on the first page \r\n                pagination.page(1);\r\n                currentPage = 1;\r\n            }\r\n            this.update();\r\n            pagination.setItems(table.activeRows.length);\r\n            uicoreCustomEvent(\"Table\", \"SearchEvent\", table, { \"query\": query, \"searchData\": table.searchData});\r\n            wrapper.classList.remove(\"search-results\");\r\n\r\n            return false;\r\n        }\r\n\r\n        this.clear();\r\n\r\n        each(table.data, function (row, idx) {\r\n            var inArray = table.searchData.indexOf(row) > -1;\r\n\r\n            var doesQueryMatch = query.split(\" \").reduce(function (bool, word) {\r\n                \r\n                var includes = false,\r\n                    cell = null,\r\n                    content = null;\r\n\r\n                for (var x = baseCellIdx(); x < row.cells.length; x++) {\r\n                    cell = row.cells[x];\r\n                    content = cell.hasAttribute(\"data-content\") ? cell.getAttribute(\"data-content\") : cell.textContent;\r\n                    if (\r\n                        content.toLowerCase().indexOf(word) > -1 &&\r\n                        columns().visible(cell.cellIndex)\r\n                    ) {\r\n                        includes = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                return bool && includes;\r\n            }, true);\r\n\r\n            if (doesQueryMatch && !inArray) {\r\n                row.searchIndex = idx;\r\n                table.searchData.push(idx);\r\n            } else {\r\n                row.searchIndex = null;\r\n            }\r\n        }, this);\r\n\r\n        wrapper.classList.add(\"search-results\");\r\n        if (!table.searchData.length) {\r\n            wrapper.classList.remove(\"search-results\");\r\n            this.setMessage(options.labels.noRows);\r\n        } else {\r\n            if (table.searchData.length > options.perPage && currentPage != 1) { //if not already on the first page \r\n                pagination.page(1);\r\n            }\r\n            currentPage = 1;\r\n            this.update();\r\n        }\r\n        pagination.setItems(table.searchData.length);\r\n        uicoreCustomEvent(\"Table\", \"SearchEvent\", table, {\"query\": query, \"searchData\": table.searchData});\r\n    };\r\n\r\n    /**\r\n     * Change page\r\n     * @param  {int} page\r\n     * @return {void}\r\n     */\r\n    this.page = function(page) {\r\n        \r\n        var newPage;\r\n\r\n        if (!isNaN(page)) {\r\n            newPage = parseInt(page, 10);    \r\n        } else {\r\n            newPage = page;\r\n        }\r\n\r\n        if (newPage == currentPage || newPage > pages.length || newPage < 0) {\r\n            return false;\r\n        }\r\n\r\n        currentPage = newPage;\r\n\r\n        renderPage();\r\n\r\n        if (options.items > 0) {\r\n            pagination.page(newPage);\r\n        }\r\n\r\n        uicoreCustomEvent(\"Table\", \"PageChangedEvent\", table, { \"currentPage\": currentPage});\r\n    };\r\n\r\n    this.perPage = function(detail) {\r\n        \r\n        var newPerPage, newPage, newPages;\r\n        if (!isNaN(detail.perPage)) {\r\n            newPerPage = parseInt(detail.perPage, 10);\r\n        } else {\r\n            newPerPage = detail.perPage;\r\n        }\r\n        if (!isNaN(detail.page)) {\r\n            newPage = parseInt(detail.page, 10);\r\n        } else {\r\n            newPage = detail.page;\r\n        }\r\n        if (!isNaN(detail.pages)) {\r\n            newPages = parseInt(detail.pages, 10);\r\n        } else {\r\n            newPages = detail.perPage;\r\n        }\r\n\r\n        if (options.perPage != newPerPage) {\r\n            options.perPage = newPerPage;\r\n            totalPages = newPages;\r\n            currentPage = newPage;\r\n\r\n            this.update();\r\n\r\n            if (options.items > 0) {\r\n                pagination.perPage(newPerPage);\r\n            }\r\n            \r\n            if(!metHeight) {\r\n                fixHeight();\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Refresh the instance\r\n     * @return {void}\r\n     */\r\n    this.refresh = function () {\r\n\r\n        var that = this;\r\n        if (options.search) {\r\n            input.value = \"\";\r\n            searching = false;\r\n        }\r\n        currentPage = 1;\r\n        that.update();\r\n\r\n        uicoreCustomEvent(\"Table\", \"RefreshEvent\", table);\r\n    };\r\n\r\n    /**\r\n     * Truncate the table\r\n     * @param  {mixes} html - HTML string or HTMLElement\r\n     * @return {void}\r\n     */\r\n    this.clear = function (html) {\r\n        \r\n        if (body) {\r\n            flush(body, isIE);\r\n        }\r\n\r\n        var parent = body;\r\n        if (!body) {\r\n            parent = table;\r\n        }\r\n\r\n        if (html) {\r\n            if (typeof html === \"string\") {\r\n                var frag = DOC.createDocumentFragment();\r\n                frag.innerHTML = html;\r\n                parent.appendChild(frag);\r\n            } else {\r\n                parent.appendChild(html);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Export table to various formats (csv, txt or sql)\r\n     * @param  {Object} exportOptions User options\r\n     * @return {Boolean}\r\n     */\r\n    this.export = function (exportOptions) {\r\n        if (!table.hasHeadings && !table.hasRows) return false;\r\n\r\n        var headers = table.activeHeadings,\r\n            rows = [],\r\n            arr = [],\r\n            i,\r\n            x,\r\n            str,\r\n            link;\r\n\r\n        var defaults = {\r\n            download: true,\r\n            skipColumn: [],\r\n\r\n            filename: params.exportFileName,\r\n    \r\n            // csv\r\n            lineDelimiter: \"\\n\",\r\n            columnDelimiter: \",\",\r\n\r\n            // sql\r\n            tableName: \"myTable\",\r\n\r\n            // json\r\n            replacer: null,\r\n            space: 4\r\n        };\r\n\r\n        // Check for the options object\r\n        if (!isObject(exportOptions)) {\r\n            return false;\r\n        }\r\n\r\n        var o = extend(defaults, exportOptions);\r\n\r\n        if (o.type) {\r\n            if (options.select) {\r\n                each(table.selectedRows, function(rowIdx) {\r\n                    rows = rows.concat(table.activeRows[rowIdx]);\r\n                });\r\n            } else {\r\n                if (o.currentPage) {\r\n                    rows = rows.concat(pages[currentPage-1]);\r\n                } else {\r\n                    rows = rows.concat(table.activeRows);\r\n                }\r\n            }\r\n            // Only proceed if we have data\r\n            if (rows.length) {\r\n                var blob;\r\n                if (o.type === \"txt\" || o.type === \"csv\") {\r\n                    rows.unshift(header);\r\n                    str = \"\";\r\n\r\n                    each(rows, function(row) {\r\n                        for (x = 0; x < (options.exportDetails ? row.cells.length + 1: row.cells.length) ; x++) {\r\n                            var text;\r\n                            if (x === row.cells.length) {\r\n                                //add details column if exportDetails = true\r\n                                if (rows.indexOf(row) > 0) {\r\n                                    text = table.data[rows.indexOf(row)-1].details ? table.data[rows.indexOf(row)-1].details : null;\r\n                                } else {\r\n                                    text = \"Details\";\r\n                                }\r\n                                if (text) {\r\n                                    str += modifyText(text) + o.columnDelimiter;\r\n                                }\r\n                            } else if (\r\n                                x < row.cells.length &&\r\n                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&\r\n                                columns(headers[x].originalCellIndex).visible()\r\n                                // Check for column skip and visibility\r\n                            ) {\r\n                                text = row.cells[x].getAttribute(\"data-content\") ? row.cells[x].getAttribute(\"data-content\") : row.cells[x].textContent;\r\n                                text = modifyText(text);\r\n                                \r\n                                var isLink = row.cells[x].querySelector(\"a\");\r\n                                if (isLink) {\r\n                                    text = isLink.getAttribute(\"href\");\r\n                                    if (text.substring(0,2) === \"//\") { //Excel won't interpret `//www.example.com` as a hyperlink, but will for links in format `www.example.com` or `http://www.example.com`)\r\n                                        text = text.substring(2, text.length);\r\n                                    } else if (text.substring(0,7) === \"mailto:\") {\r\n                                        text = text.substring(7,text.length);\r\n                                    }\r\n                                }\r\n                                str += text + o.columnDelimiter;\r\n                            }\r\n                        }\r\n                        // Remove trailing column delimiter\r\n                        str = str.trim().substring(0, str.length - 1);\r\n\r\n                        // Apply line delimiter\r\n                        str += o.lineDelimiter;\r\n                    });\r\n\r\n                    // Remove trailing line delimiter\r\n                    str = str.trim().substring(0, str.length - 1);\r\n\r\n                    if (isIE || isEdge) {\r\n                        str = encodeURI(str);\r\n                        blob = new Blob([decodeURIComponent(str)],{type:\"text/csv;charset=UTF-8\"});\r\n                    }\r\n                } else if (o.type === \"json\") {\r\n                    // Iterate rows\r\n                    each(rows, function(row, idx) {\r\n                        arr[idx] = arr[idx] || {};\r\n                        // Iterate columns\r\n                        for (i = 0; i < (options.exportDetails ? headers.length + 1 : headers.length) ; i++) {\r\n                            if (i === headers.length) {\r\n                                if (table.data[rows.indexOf(row)].details) {\r\n                                    arr[idx][\"Details\"] = table.data[rows.indexOf(row)].details;\r\n                                }\r\n                            } else if (\r\n                                // Check for column skip and column visibility\r\n                                i < row.cells.length &&\r\n                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&\r\n                                columns(headers[i].originalCellIndex).visible()\r\n                            ) {\r\n                                if (row.cells[i].getAttribute(\"data-content\")) {\r\n                                    var isLink = row.cells[i].querySelector(\"a\");\r\n\r\n                                    if (isLink) { // Aligning with format for exporting to excel\r\n                                        var url = isLink.getAttribute(\"href\");\r\n                                        if (url.substring(0,2) === \"//\") {\r\n                                            arr[idx][headers[i].textContent] =  url.substring(2, url.length);\r\n                                        } else if (url.substring(0,7) === \"mailto:\") {\r\n                                            arr[idx][headers[i].textContent] = url.substring(7, url.length);\r\n                                        } else {\r\n                                            arr[idx][headers[i].textContent] = url;\r\n                                        }\r\n                                    } else {\r\n                                        arr[idx][headers[i].textContent] = row.cells[i].getAttribute(\"data-content\");\r\n                                    }\r\n                                } else {\r\n                                    arr[idx][headers[i].textContent] = row.cells[i].textContent;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    // Convert the array of objects to JSON string\r\n                    str = JSON.stringify(arr, o.replacer, o.space);\r\n                    if (isIE || isEdge) {\r\n                        blob = new Blob([decodeURIComponent(str)],{type:\"text/json;charset=UTF-8\"});\r\n                    }\r\n                }\r\n\r\n                // Download\r\n                if (o.download) {\r\n                    // Filename\r\n                    o.filename = o.filename || \"datatable_export\";\r\n                    o.filename += \".\" + o.type;\r\n\r\n                   \r\n                    if (isIE || isEdge) {\r\n                        //Internet Explorer\r\n                        window.navigator.msSaveBlob(blob, o.filename);\r\n                    } else {\r\n                        // Create a link to trigger the download\r\n                        if (o.type === \"json\") {\r\n                            str = \"data:application/json;charset=utf-8,\" + str;\r\n                            str = encodeURI(str);\r\n                        } else if (o.type === \"csv\") {\r\n                            str = encodeURI(str);\r\n                            str = \"data:application/csv;charset=utf-8,\" + str;\r\n                        }\r\n                        link = createElement(\"a\", {\r\n                            href: str,\r\n                            download: o.filename\r\n                        });\r\n\r\n                        // Append the link\r\n                        body.appendChild(link);\r\n\r\n                        // Trigger the download\r\n                        link.click();\r\n\r\n                        // Remove the link\r\n                        body.removeChild(link);\r\n                    }\r\n                }\r\n\r\n                return str;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * Import data to the table\r\n     * @param  {Object} newData User newData\r\n     * @return {Boolean}\r\n     */\r\n    this.import = function (newData) {\r\n        var obj = false;\r\n        var defaults = {\r\n            // csv\r\n            lineDelimiter: \"\\n\",\r\n            columnDelimiter: \",\"\r\n        };\r\n\r\n        // Check for the newData object\r\n        if (!isObject(newData)) {\r\n            return false;\r\n        }\r\n        newData = extend(defaults, newData);\r\n\r\n        if (newData.data.length || isObject(newData.data)) {\r\n            // Import CSV\r\n            if (newData.type === \"csv\") {\r\n                obj = {\r\n                    rows: [],\r\n                    details: [],\r\n                    headings: []\r\n                };\r\n\r\n                // Split the string into rows\r\n                var rows = newData.data.split(newData.lineDelimiter);\r\n\r\n                if (rows.length) {\r\n                    // var importHeaders = rows[0].replace(/\\r?\\n|\\r/g, \"\").split(newData.columnDelimiter);\r\n                    newData.skipColumn = [];\r\n                    newData.details = -1;\r\n                    // each(importHeaders, function(importHeader, idx) {\r\n                    each(rows[0].replace(/\\r?\\n|\\r/g, \"\").split(newData.columnDelimiter), function(importHeader, idx) {\r\n                        if (labels.indexOf(importHeader) < 0) {\r\n                            if (importHeader != \"Details\") {\r\n                                newData.skipColumn.push(idx);\r\n                            } else {\r\n                                newData.details = idx;\r\n                            }\r\n                        } else {\r\n                            obj.headings.push(importHeader);\r\n                        }\r\n                    });\r\n\r\n                    if(obj.headings) { //.length + baseCellIdx() >= labels.length) {\r\n                        rows.shift();\r\n                        if (rows[rows.length-1] == \"\") {\r\n                            rows = rows.splice(0, rows.length-1);\r\n                        }\r\n                        each(rows, function (row, i) {\r\n                            row = row.replace(/\\r?\\n|\\r/g, \"\");\r\n                            obj.rows[i] = [];\r\n\r\n                            // Split the rows into values\r\n                            each(row.split(newData.columnDelimiter), function(value, v) {\r\n                                if (newData.skipColumn.indexOf(v) == -1 && newData.details != v) {\r\n                                    if (isEmail(value)) {\r\n                                        value = \"<a href=mailto:\" + value + \">\" + value + \"</a>\";\r\n                                    } else if (isUrl(value)) {\r\n                                        value = value.substring(0,3) === \"www\" ? \r\n                                            \"<a href='//\" + value + \"'>\" + value + \"</a>\" :\r\n                                            \"<a href='\" + value + \"'>\" + value + \"</a>\";\r\n                                    }\r\n                                    obj.rows[i].push(value);\r\n                                } else if (newData.details == v) {\r\n                                    obj.details[i] = value;\r\n                                }\r\n                            });\r\n                        });\r\n                    } else {\r\n                        var msg = \"Supplied text/csv file does not contain the correct Header row!\";\r\n                        console.error(msg);\r\n                        uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n                    }\r\n                }\r\n            } else if (newData.type === \"json\") {\r\n                var json = isJson(newData.data);\r\n\r\n                // Valid JSON string\r\n                if (json) {\r\n                    obj = {\r\n                        rows: [],\r\n                        details: [],\r\n                        headings: []\r\n                    };\r\n\r\n                    if(isArray(json)) {\r\n                        var idx = 0;\r\n                        each(json, function (data) {\r\n                            obj.rows[idx] = [];\r\n                            obj.details[idx] = \"\";\r\n                            each(data, function(value, importHeader) {\r\n                                if (labels.indexOf(importHeader) < 0) {\r\n                                    if (importHeader === \"Details\") {\r\n                                        obj.details[idx] = value;\r\n                                    }\r\n                                } else {\r\n                                    if (obj.headings.indexOf(importHeader) < 0) {\r\n                                        obj.headings.push(importHeader);\r\n                                    }\r\n                                    if (isEmail(value)) {\r\n                                        value = \"<a href=mailto:\" + value + \">\" + value + \"</a>\";\r\n                                    } else if (isUrl(value)) {\r\n                                        value = value.substring(0,3) === \"www\" ?\r\n                                            \"<a href='//\" + value + \"'>\" + value + \"</a>\" :\r\n                                            \"<a href='\" + value + \"'>\" + value + \"</a>\";\r\n                                    }\r\n                                    obj.rows[idx].push(value);\r\n                                }\r\n                            });\r\n                            idx++;\r\n                        });\r\n                    } else {\r\n                        msg = \"That's not valid JSON array data!\";\r\n                        console.error(msg);\r\n                        uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n                    }\r\n                } else {\r\n                    msg = \"That's not valid JSON!\";\r\n                    console.error(msg);\r\n                    uicoreCustomEvent(\"Table\", \"Error\", table, {\"msg\": msg});\r\n                }\r\n            } else if (isObject(newData.data)) {\r\n                obj = newData.data;\r\n                obj.details = [];\r\n                each(obj.rows, function(row, idx) {\r\n                    obj.rows[idx] = row.data;\r\n                    obj.details.push(row.details);\r\n                });\r\n            } else {\r\n                return new Error(\"\");\r\n            }\r\n            if (obj) {\r\n                // Add the rows\r\n                insert(obj);\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * Print the table\r\n     * @return {void}\r\n     */\r\n    this.print = function () {\r\n        var headings = table.activeHeadings;\r\n        var rows = table.activeRows;\r\n\r\n        // Open new window\r\n        var w = window.open();\r\n        var d = w.document;\r\n\r\n        var pTable = d.createElement(\"table\");\r\n        var thead = d.createElement(\"thead\");\r\n        var tbody = d.createElement(\"tbody\");\r\n\r\n        var tr = d.createElement(\"tr\");\r\n        each(headings, function (th) {\r\n            var newTh = d.createElement(\"th\");\r\n            newTh.appendChild(d.createTextNode(th.textContent));\r\n            tr.appendChild(newTh);\r\n        });\r\n\r\n        thead.appendChild(tr);\r\n\r\n        each(rows, function (row) {\r\n            var tr = d.createElement(\"tr\");\r\n            each(row.cells, function (cell) {\r\n                var newCell = d.createElement(\"td\");\r\n                newCell.appendChild(d.createTextNode(cell.textContent));\r\n                tr.appendChild(newCell);\r\n            });\r\n            tbody.appendChild(tr);\r\n        });\r\n\r\n        pTable.appendChild(thead);\r\n        pTable.appendChild(tbody);\r\n\r\n        d.body.appendChild(pTable);\r\n\r\n        // Print\r\n        w.print();\r\n    };\r\n\r\n    /**\r\n     * Show a message in the table\r\n     * @param {string} message\r\n     */\r\n    this.setMessage = function (message) {\r\n\r\n        var colspan = labels.length;\r\n        wrapper.classList.add(prefix + \"table-cmplx-empty\");\r\n\r\n        this.clear(\r\n            createElement(\"tr\", {\r\n                html: \"<td class=\\\"dataTables-empty\\\" colspan=\\\"\" +\r\n                    colspan +\r\n                    \"\\\">\" +\r\n                    message +\r\n                    \"</td>\"\r\n            })\r\n        );\r\n\r\n        if(!metHeight) {\r\n            fixHeight();\r\n        }\r\n    };\r\n\r\n    this.insertDetails = function(rowId, details) {\r\n        var row = table.activeRows[rowId];\r\n        if (row.event != \"ExpandCancelEvent\") {\r\n            var stripeColor = false;\r\n            if (table.classList.contains(prefix + \"table-striped\")) {\r\n                stripeColor = rowId % 2 > 0 ? prefix + \"table-cmplx-row-odd\" : prefix + \"table-cmplx-row-even\";\r\n            }\r\n            table.data[rowId].details = row.details = details;\r\n            renderDetails(row, table.headings.length, stripeColor);\r\n\r\n            var button = row.cells[0].querySelector(\".\" + prefix + \"table-cmplx-accordion-btn\");\r\n            each(row.cells[0].querySelectorAll(\"use\"), function(use) {\r\n                if (use.getAttribute(\"xlink:href\").indexOf(prefix + \"loading-sqrs\") != -1) {\r\n                    classRemove(use, prefix +\"show\");\r\n                } else {\r\n                    classAdd(use, prefix + \"show\");\r\n                    button.classList.remove(prefix + \"collapsed\");\r\n                    button.setAttribute(\"aria-expanded\", true);\r\n                }\r\n            });\r\n            this.update();\r\n            uicoreCustomEvent(\"Table\", \"ExpandEndEvent\", table, {\"rowId\": rowId});\r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    this.delete = function() {\r\n        var that = this;\r\n        if (table.selectedRows.length == 0) {\r\n            return false;\r\n        } else {\r\n            rows().remove(table.selectedRows);\r\n            columns().rebuild();\r\n            pagination.removeItems(table.selectedRows.length);\r\n            if (options.items > 0) {\r\n                options.items -= table.selectedRows.length;\r\n            }\r\n        }\r\n\r\n        if (table.activeRows.length == 0) {\r\n            table.hasRows = false;\r\n            var cell = header.cells[getHeaderCellIndex(prefix + \"table-cmplx-select-all\")];\r\n            var input = cell.querySelector(\"input[type='checkbox']\");\r\n            if (input.checked) {\r\n                input.checked = false;\r\n                input.state = \"unchecked\";\r\n            }\r\n            handleSelectAllChange(input.state);\r\n        }\r\n\r\n        if (searching) {\r\n            var query = wrapper.querySelector(\"input[type='search']\").value;\r\n            var searchResults = table.searchData.length;\r\n            table.searchData = [];\r\n            searching = false;\r\n            if (searchResults == table.selectedRows.length) {\r\n                wrapper.querySelector(\"input[type='search']\").value = \"\";\r\n                that.update();\r\n            } else {\r\n                that.search(query);\r\n            }\r\n        } else {\r\n            that.update();\r\n        }\r\n\r\n        table.selectedRows = [];\r\n        if (!table.hasRows) {\r\n            this.setMessage(options.labels.noRows);\r\n        }\r\n        uicoreCustomEvent(\"Table\",\"DeleteEvent\", table, { \"rowIds\": table.selectedRows});\r\n\r\n    };\r\n\r\n    this.deleteAll = function() {\r\n        var that = this;\r\n        if (table.data.length == 0) {\r\n            return false;\r\n        } else { \r\n            table.data = [];\r\n            pages = [];\r\n            currentPage = 1;\r\n            rows().update();\r\n            columns().rebuild();\r\n            options.items = 0;\r\n            options.perPage = options.origPerPage;\r\n            pagination.setItems(0);\r\n        }\r\n\r\n        table.hasRows = false;\r\n\r\n        if (options.select) {\r\n            var cell = header.cells[getHeaderCellIndex(prefix + \"table-cmplx-select-all\")];\r\n            var input = cell.querySelector(\"input[type='checkbox']\");\r\n            if (input && (input.checked || input.state === \"indeterminate\")) {\r\n                input.click();\r\n                input.checked = false;\r\n                input.state = \"unchecked\";\r\n            }\r\n            handleSelectAllChange(input.state);\r\n        }\r\n\r\n\r\n        if (searching) {\r\n            searching = false;\r\n            wrapper.querySelector(\"input[type='search']\").value = \"\";\r\n        } \r\n        that.update(); \r\n\r\n        this.setMessage(options.labels.noRows);\r\n\r\n        uicoreCustomEvent(\"Table\",\"DeleteAllEvent\", table);  \r\n    };\r\n\r\n    this.setItems = function(items) {\r\n        var newNum = validateNum(items);\r\n        if (!newNum || options.items != 0) {\r\n            return false;\r\n        } else {\r\n            options.items = newNum;\r\n            pagination.setItems(options.items);\r\n        }\r\n    };\r\n\r\n    //init\r\n    if (!(stringTable in element)) {\r\n        // Set the tables Id\r\n        var crypto = window.crypto || window.msCrypto;\r\n        batchId = crypto.getRandomValues(new Uint32Array(10))[0];\r\n        if (options.search && options.text.search.label) {\r\n            searchId = crypto.getRandomValues(new Uint32Array(10))[0];\r\n        }\r\n\r\n        table.data = null; // populated in dataToTable\r\n        table.hasRows = false; // set in render\r\n        table.headings = []; // duplicate commented out of code in render\r\n        table.hasHeadings = false;\r\n        \r\n        // IE detection\r\n        isIE = !!/(msie|trident)/i.test(navigator.userAgent);\r\n\r\n        currentPage = 1;\r\n\r\n        columnRenderers = [];\r\n        selectedColumns = [];\r\n\r\n        \r\n        table.activeHeadings = [];\r\n        \r\n        table.sorting = false;\r\n        \r\n        table.searchData = [];\r\n        table.hiddenColumns = [];\r\n        if (options.select)\r\n            table.selectedRows = [];\r\n\r\n        render();\r\n\r\n        // Options pagination\r\n        if (options.pagination) {\r\n            var itemCount = options.items > 0 ? options.items : table.activeRows.length;\r\n            pagination = new Pagination(paginationElement, {\r\n                perPageSelect: options.perPageSelect,\r\n                perPage: options.perPage,\r\n                items: itemCount,\r\n                pageText: params.text && params.text.pageText,\r\n                itemsPerPageText: params.text && params.text.itemsPerPageText,\r\n                hidePages: params.hidePages,\r\n                external: options.items == 0 ? false : true,\r\n                buttonLabelLeft: options.buttonLabelLeft,\r\n                buttonLabelRight: options.buttonLabelRight,\r\n                disablePaginationInput: options.disablePaginationInput,\r\n                showTotal: options.showTotal\r\n            });\r\n            // Option to override the item count was padded in\r\n            if (options.items == 0) {\r\n                paginationElement.parentNode.addEventListener(\"uicPaginationPageUpdateEvent\", function(e) {\r\n                    self.page(e.detail.page);\r\n                }, false);\r\n                paginationElement.parentNode.addEventListener(\"uicPaginationPerPageUpdateEvent\", function(e) {\r\n                    self.perPage(e.detail);\r\n                }, false);\r\n            } else {\r\n                paginationElement.parentNode.addEventListener(\"uicPaginationPageChangeEvent\", function(e) {\r\n                    if (table.activeRows.length < (e.detail.page * e.detail.perPage)) {\r\n                        var rowsNeeded = (e.detail.page * e.detail.perPage) - table.activeRows.length;\r\n                        if ((e.detail.page * e.detail.perPage) > options.items) {\r\n                            rowsNeeded = options.items - table.activeRows.length;\r\n                        }\r\n                        if (rowsNeeded > 0) {\r\n                            uicoreCustomEvent(\"Table\", \"NewPageEvent\", table, { \"page\": e.detail.page, \"rows\" : rowsNeeded });\r\n                        } else {\r\n                            self.page(e.detail.page);\r\n                        }\r\n                    } else {\r\n                        self.page(e.detail.page);\r\n                    }\r\n                }, false);\r\n                paginationElement.parentNode.addEventListener(\"uicPaginationPerPageChangeEvent\", function(e) {\r\n                    if ((e.detail.page * e.detail.perPage) > table.activeRows.length ) {\r\n                        var rowsNeeded = (e.detail.page * e.detail.perPage) - table.activeRows.length;\r\n                        if ((e.detail.page * e.detail.perPage) <= options.items) {\r\n                            uicoreCustomEvent(\"Table\", \"MoreRowsEvent\", table, { \"page\": e.detail.page, \"perPage\": e.detail.perPage, \"rows\" : rowsNeeded });\r\n                        } else {\r\n                            self.perPage(e.detail);\r\n                        }\r\n                    } else {\r\n                        self.perPage(e.detail);\r\n                    }\r\n                }, false);\r\n            }\r\n        }\r\n\r\n        // Options condensed\r\n        if (options.condensed) {\r\n            wrapper.querySelector(\".\" + prefix + \"table-cmplx\").classList.add(prefix + \"condensed\");\r\n        }\r\n\r\n        each(wrapper.querySelectorAll(\"[data-toggle=\\\"dds__dropdown\\\"]\"), function(drop) {\r\n            if (drop.classList.contains(prefix+\"table-cmplx-action-button\")) {\r\n                new Dropdown(drop);\r\n            }\r\n        });\r\n    }\r\n\r\n    element[stringTable] = self;\r\n}","import {getClosest,globalObject,DOC,prefix,styleTip,emulateTransitionEnd,uicoreCustomEvent, createElement, validateNum, jsonOptionsInit, isIOS} from \"./utilities.js\";\r\n\r\nexport default function Tooltip(element, options) {\r\n    // initialization element\r\n    element = element instanceof HTMLElement ? element : (function() {\r\n        return false;\r\n    })();\r\n\r\n    // set options\r\n    options = options || {};\r\n    options = jsonOptionsInit(element, options);\r\n    var textAlignments = [\"left\", \"center\", \"right\"];\r\n    // init options\r\n    options.title = element.dataset.title ? element.dataset.title : options.data_title ? options.data_title : null,\r\n    options.animation = options.animation && options.animation === \"boolean\" ? options.animation : options.animation && options.animation === prefix + \"fade\" ? prefix + \"fade\" : false;\r\n    options.placement = element.dataset.placement ? element.dataset.placement : options.data_placement ? options.data_placement : null;\r\n    options.textAlign = element.dataset.text_align && textAlignments.indexOf(element.dataset.text_align.toLowerCase()) > -1 \r\n        ? element.dataset.text_align.toLowerCase() : options.text_align && textAlignments.indexOf(options.text_align.toLowerCase()) > -1 \r\n            ? options.text_align.toLowerCase() : \"center\";\r\n    options.delay = element.dataset.delay ? validateNum(element.dataset.delay, 60) : validateNum(options.delay, 60);\r\n    options.container = element.dataset.container ? element.dataset.container : options.container ? options.container : DOC.body;\r\n\r\n    \r\n    // validate options\r\n    (function () {\r\n        if (options.title == null) {\r\n            throw new Error(\"There was a problem found with title value, please correct and try again\");\r\n        }\r\n        if (options.placement == null) {\r\n            throw new Error(\"There was a problem found with placement value, please correct and try again\");\r\n        }\r\n        var inOffCanvas = getClosest(element, \".\" + prefix + \"modal-offcanvas\");\r\n        if(inOffCanvas) {\r\n            options.container = inOffCanvas;\r\n        } else {\r\n            var inFixedTop = getClosest(element, \".fixed-top\");\r\n            if(inFixedTop) {\r\n                options.container = inFixedTop;\r\n            } else {\r\n                var inFixedBottom = getClosest(element, \".fixed-bottom\");\r\n                if(inFixedBottom) {\r\n                    options.container = inFixedBottom;\r\n                }\r\n            }\r\n        }\r\n\r\n    })();\r\n\r\n    // bind, event targets, title and constants\r\n    var self = this,\r\n        stringTooltip = \"Tooltip\",\r\n        mouseHover = \"onmouseleave\" in DOC ? [\"mouseenter\", \"mouseleave\"] : [\"mouseover\", \"mouseout\"],\r\n        tooltip,\r\n        tooltipArrow,\r\n        createToolTip = function() {\r\n\r\n            var tooltipIdText = options.title.replace(/[\\s\\W]/g, \"\").toLowerCase().substring(0, 15);\r\n            var tooltipId = tooltipIdText;\r\n            var counter = 1;\r\n            while (DOC.getElementById(tooltipId)) {\r\n                tooltipId = tooltipIdText + counter;\r\n                counter++;\r\n            }\r\n\r\n            tooltip = createElement(\"div\", {\r\n                role: \"tooltip\",\r\n                aria_describedby: tooltipId\r\n            });\r\n            tooltip.style[\"top\"] = \"0px\"; //move tooltip to top to prevent scrollbar during calculation\r\n\r\n            // tooltip arrow\r\n            tooltipArrow = createElement(\"div\", {\r\n                class: prefix + \"arrow \" + prefix + \"position-absolute \" + prefix + \"d-block\"\r\n            });\r\n\r\n            tooltip.appendChild(tooltipArrow);\r\n            // tooltip inner\r\n\r\n            var tooltipInner = createElement(\"div\", {\r\n                class: prefix+\"tooltip-inner \" + prefix + \"text-\" + options.textAlign,\r\n                html: options.title,\r\n                id: tooltipId\r\n            });\r\n            tooltip.appendChild(tooltipInner);\r\n\r\n            options.container.appendChild(tooltip);\r\n            tooltip.setAttribute(\"class\", prefix+\"tooltip \" + prefix+\"bs-tooltip\"+\"-\"+options.placement + \" \" + options.animation + \" \" + prefix + \"position-absolute \" + prefix + \"d-block \" + prefix + \"break-word\");\r\n        },\r\n        updateTooltip = function() {\r\n            tooltip.setAttribute(\"style\", \"\");\r\n            tooltipArrow.setAttribute(\"style\", \"\");\r\n            styleTip(element, tooltip, options.placement, options.container, true);\r\n        },\r\n        showTooltip = function() {\r\n            !(tooltip.classList.contains(prefix + \"show\")) && tooltip.classList.add(prefix + \"show\");\r\n        },\r\n        // triggers\r\n        showTrigger = function() {\r\n            globalObject.addEventListener(\"resize\", self.hide, false);\r\n            uicoreCustomEvent(\"Tooltip\", \"Shown\", element);\r\n        },\r\n        hideTrigger = function() {\r\n            globalObject.removeEventListener(\"resize\", self.hide);\r\n            uicoreCustomEvent(\"Tooltip\", \"Hidden\", element);\r\n        },\r\n        keyHandler = function(e) {\r\n            var key = e.which || e.keyCode;\r\n            if (key === 27) {\r\n                self.hide(e);\r\n            } else if (key === 13) {\r\n                self.show();\r\n            }\r\n        },\r\n        touchHandler = function(e) {\r\n            if (tooltip.classList.contains(prefix + \"show\")) {\r\n                if ((!e.target === tooltip || !tooltip.contains(e.target)) && element !== e.target) {\r\n                    self.hide();\r\n                }\r\n            }\r\n        };\r\n\r\n    // public methods\r\n    this.show = function() {\r\n        setTimeout(function() {\r\n            updateTooltip();\r\n            showTooltip();\r\n            uicoreCustomEvent(\"Tooltip\", \"ShowEvent\", element);\r\n            options.animation\r\n                ? emulateTransitionEnd(tooltip, showTrigger)\r\n                : showTrigger();\r\n        }, options.delay);\r\n    };\r\n    this.hide = function(e) {\r\n        var target = DOC.activeElement;\r\n        if (e && e.relatedTarget) {\r\n            target = e.relatedTarget;\r\n        }\r\n        if ((!target === tooltip || !tooltip.contains(target)) && target !== element) {\r\n            setTimeout(function() {\r\n                if (tooltip && tooltip.classList.contains(prefix + \"show\")) {\r\n                    uicoreCustomEvent(\"Tooltip\", \"HideEvent\", element);\r\n                    tooltip.classList.remove(prefix + \"show\");\r\n                    options.animation\r\n                        ? emulateTransitionEnd(tooltip, hideTrigger)\r\n                        : hideTrigger();\r\n                }\r\n            }, options.delay);\r\n        }\r\n    };\r\n    this.toggle = function() {\r\n        if (!tooltip) {\r\n            self.show();\r\n        } else {\r\n            self.hide();\r\n        }\r\n    };\r\n\r\n    // init\r\n    if (!(stringTooltip in element)) {\r\n        // prevent adding event handlers twice\r\n        element.setAttribute(\"data-original-title\", options.title);\r\n        element.removeAttribute(\"title\");\r\n        element.addEventListener(mouseHover[0], self.show, false);\r\n        element.addEventListener(\"focusin\", self.show, false);\r\n        element.addEventListener(mouseHover[1], self.hide, false);   \r\n        element.addEventListener(\"focusout\", self.hide, false);\r\n        element.addEventListener(\"keydown\", keyHandler, false);\r\n        if(isIOS){\r\n            element.addEventListener(\"click\", self.show, false);\r\n            window.addEventListener(\"touchstart\", touchHandler, false);\r\n        }\r\n        if (!tooltip) {\r\n            createToolTip();\r\n            tooltip.addEventListener(\"mouseleave\", self.hide, false);\r\n        }\r\n    }\r\n\r\n    element[stringTooltip] = self;\r\n}","import Alert from \"./alert.js\";\r\nimport {BarSelect} from \"./select.js\";\r\nimport {Button} from \"./button.js\";\r\nimport {ButtonFilter} from \"./button.js\";\r\nimport {Carousel} from \"./carousel.js\";\r\nimport {FilmstripCarousel} from \"./carousel.js\";\r\nimport Collapse from \"./collapse.js\";\r\nimport ContactDrawer from \"./contact-drawer.js\";\r\nimport {DatePicker} from \"./select.js\";\r\nimport Dropdown from \"./dropdown.js\";\r\nimport {FilterCollection} from \"./filter.js\";\r\nimport {FilterKeyword} from \"./filter.js\";\r\nimport Form from \"./form.js\";\r\nimport LinkPicker from \"./linkpicker.js\";\r\nimport Masthead from \"./masthead.js\";\r\nimport Modal from \"./modal.js\";\r\nimport {NavAnchored} from \"./nav.js\";\r\nimport {NavAnchoredVertical} from \"./nav.js\";\r\nimport {NavSkip} from \"./nav.js\";\r\nimport {NavLeft} from \"./nav.js\";\r\nimport Pagination from \"./pagination.js\";\r\nimport Popover from \"./popover.js\";\r\nimport ProductStack from \"./product-stack.js\";\r\nimport Progress from \"./progress.js\";\r\nimport {NavSkip as SkipNav} from \"./nav.js\";\r\nimport Slider from \"./slider.js\";\r\nimport {Spinbox} from \"./select.js\";\r\nimport Tab from \"./tab.js\";\r\nimport Table from \"./table.js\";\r\nimport Tooltip from \"./tooltip.js\";\r\nimport { handleFirstTab, loadURLSVGs } from \"./utilities\";\r\n\r\nexport {\r\n    Alert, BarSelect, Button, ButtonFilter, Carousel, Collapse, ContactDrawer, DatePicker, Dropdown, FilmstripCarousel, FilterCollection, FilterKeyword, Form, Masthead, Modal, NavAnchored, NavAnchoredVertical, NavLeft, NavSkip, Pagination, Popover, ProductStack, Progress, SkipNav, Slider, Spinbox, Tab, Table, Tooltip, LinkPicker,\r\n    handleFirstTab, loadURLSVGs\r\n};\r\n\r\nwindow.addEventListener(\"keydown\", handleFirstTab);\r\n"],"file":"index.min.js"}